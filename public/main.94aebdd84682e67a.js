(self.webpackChunkEngGame=self.webpackChunkEngGame||[]).push([[179],{723:(I,c,T)=>{"use strict";function h(e){return"function"==typeof e}function S(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const N=S(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function k(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Z{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(h(i))try{i()}catch(s){t=s instanceof N?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{F(s)}catch(o){t=t??[],o instanceof N?t=[...t,...o.errors]:t.push(o)}}if(t)throw new N(t)}}add(t){var n;if(t&&t!==this)if(this.closed)F(t);else{if(t instanceof Z){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&k(n,t)}remove(t){const{_finalizers:n}=this;n&&k(n,t),t instanceof Z&&t._removeParent(this)}}Z.EMPTY=(()=>{const e=new Z;return e.closed=!0,e})();const te=Z.EMPTY;function M(e){return e instanceof Z||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function F(e){h(e)?e():e.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(e,t,...n){const{delegate:i}=Y;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Y;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function P(e){Y.setTimeout(()=>{const{onUnhandledError:t}=W;if(!t)throw e;t(e)})}function R(){}const O=G("C",void 0,void 0);function G(e,t,n){return{kind:e,value:t,error:n}}let U=null;function D(e){if(W.useDeprecatedSynchronousErrorHandling){const t=!U;if(t&&(U={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=U;if(U=null,n)throw i}}else e()}class _ extends Z{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,M(t)&&t.add(this)):this.destination=ge}static create(t,n,i){return new J(t,n,i)}next(t){this.isStopped?Se(function w(e){return G("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Se(function C(e){return G("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Se(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function q(e,t){return V.call(e,t)}class L{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){B(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){B(i)}else B(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){B(n)}}}class J extends _{constructor(t,n,i){let r;if(super(),h(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&W.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&q(t.next,s),error:t.error&&q(t.error,s),complete:t.complete&&q(t.complete,s)}):r=t}this.destination=new L(r)}}function B(e){W.useDeprecatedSynchronousErrorHandling?function p(e){W.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=e)}(e):P(e)}function Se(e,t){const{onStoppedNotification:n}=W;n&&Y.setTimeout(()=>n(e,t))}const ge={closed:!0,next:R,error:function ce(e){throw e},complete:R},we="function"==typeof Symbol&&Symbol.observable||"@@observable";function Te(e){return e}let Ae=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function qe(e){return e&&e instanceof _||function $e(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}(e)&&M(e)}(n)?n:new J(n,i,r);return D(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=ke(i))((r,s)=>{const o=new J({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[we](){return this}pipe(...n){return function Ce(e){return 0===e.length?Te:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=ke(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function ke(e){var t;return null!==(t=e??W.Promise)&&void 0!==t?t:Promise}const ee=S(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let v=(()=>{class e extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new y(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new ee}next(n){D(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){D(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){D(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?te:(this.currentObservers=null,s.push(n),new Z(()=>{this.currentObservers=null,k(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new Ae;return n.source=this,n}}return e.create=(t,n)=>new y(t,n),e})();class y extends v{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:te}}function z(e){return t=>{if(function x(e){return h(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,n,i,r){return new $(e,t,n,i,r)}class $ extends _{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function d(e,t){return z((n,i)=>{let r=0;n.subscribe(K(i,s=>{i.next(e.call(t,s,r++))}))})}function Ke(e){return this instanceof Ke?(this.v=e,this):new Ke(e)}function Mt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ue(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const de=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Pe(e){return h(e?.then)}function Oe(e){return h(e[we])}function xe(e){return Symbol.asyncIterator&&h(e?.[Symbol.asyncIterator])}function Je(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const He=function rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nt(e){return h(e?.[He])}function it(e){return function ct(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(j){i[j]&&(r[j]=function(X){return new Promise(function(ie,pe){s.push([j,X,ie,pe])>1||a(j,X)})})}function a(j,X){try{!function l(j){j.value instanceof Ke?Promise.resolve(j.value.v).then(u,m):E(s[0][2],j)}(i[j](X))}catch(ie){E(s[0][3],ie)}}function u(j){a("next",j)}function m(j){a("throw",j)}function E(j,X){j(X),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield Ke(n.read());if(r)return yield Ke(void 0);yield yield Ke(i)}}finally{n.releaseLock()}})}function yt(e){return h(e?.getReader)}function ht(e){if(e instanceof Ae)return e;if(null!=e){if(Oe(e))return function pt(e){return new Ae(t=>{const n=e[we]();if(h(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(de(e))return function Et(e){return new Ae(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Pe(e))return function Ut(e){return new Ae(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,P)})}(e);if(xe(e))return an(e);if(nt(e))return function Wt(e){return new Ae(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(yt(e))return function ln(e){return an(it(e))}(e)}throw Je(e)}function an(e){return new Ae(t=>{(function ai(e,t){var n,i,r,s;return function fe(e,t,n,i){return new(n||(n=Promise))(function(s,o){function a(m){try{u(i.next(m))}catch(E){o(E)}}function l(m){try{u(i.throw(m))}catch(E){o(E)}}function u(m){m.done?s(m.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(m.value).then(a,l)}u((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Mt(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Rn(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function yi(e,t,n=1/0){return h(t)?yi((i,r)=>d((s,o)=>t(i,s,r,o))(ht(e(i,r))),n):("number"==typeof t&&(n=t),z((i,r)=>function ur(e,t,n,i,r,s,o,a){const l=[];let u=0,m=0,E=!1;const j=()=>{E&&!l.length&&!u&&t.complete()},X=pe=>u<i?ie(pe):l.push(pe),ie=pe=>{s&&t.next(pe),u++;let Ee=!1;ht(n(pe,m++)).subscribe(K(t,be=>{r?.(be),s?X(be):t.next(be)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(u--;l.length&&u<i;){const be=l.shift();o?Rn(t,o,()=>ie(be)):ie(be)}j()}catch(be){t.error(be)}}))};return e.subscribe(K(t,X,()=>{E=!0,j()})),()=>{a?.()}}(i,r,e,n)))}const Li=new Ae(e=>e.complete());function Ha(e){return e[e.length-1]}function Ed(e){return function Iy(e){return e&&h(e.schedule)}(Ha(e))?e.pop():void 0}function Dd(e,t=0){return z((n,i)=>{n.subscribe(K(i,r=>Rn(i,e,()=>i.next(r),t),()=>Rn(i,e,()=>i.complete(),t),r=>Rn(i,e,()=>i.error(r),t)))})}function Ad(e,t=0){return z((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function wd(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ae(n=>{Rn(n,t,()=>{const i=e[Symbol.asyncIterator]();Rn(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Ua(e,t){return t?function Ly(e,t){if(null!=e){if(Oe(e))return function xy(e,t){return ht(e).pipe(Ad(t),Dd(t))}(e,t);if(de(e))return function Oy(e,t){return new Ae(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(Pe(e))return function Ry(e,t){return ht(e).pipe(Ad(t),Dd(t))}(e,t);if(xe(e))return wd(e,t);if(nt(e))return function ky(e,t){return new Ae(n=>{let i;return Rn(n,t,()=>{i=e[He](),Rn(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>h(i?.return)&&i.return()})}(e,t);if(yt(e))return function Ny(e,t){return wd(it(e),t)}(e,t)}throw Je(e)}(e,t):ht(e)}function Wa(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new J({next:()=>{i.unsubscribe(),e()}});return ht(t(...n)).subscribe(i)}function It(e){for(let t in e)if(e[t]===It)return t;throw Error("Could not find renamed property on target object.")}function $a(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ft(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ft).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qa(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const By=It({__forward_ref__:It});function Tt(e){return e.__forward_ref__=Tt,e.toString=function(){return Ft(this())},e}function Qe(e){return za(e)?e():e}function za(e){return"function"==typeof e&&e.hasOwnProperty(By)&&e.__forward_ref__===Tt}function Ka(e){return e&&!!e.\u0275providers}class Le extends Error{constructor(t,n){super(Zs(t,n)),this.code=t}}function Zs(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function st(e){return"string"==typeof e?e:null==e?"":String(e)}function eo(e,t){throw new Le(-201,!1)}function Hn(e,t){null==e&&function At(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function bt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function An(e){return{providers:e.providers||[],imports:e.imports||[]}}function to(e){return Md(e,no)||Md(e,Td)}function Md(e,t){return e.hasOwnProperty(t)?e[t]:null}function Id(e){return e&&(e.hasOwnProperty(Xa)||e.hasOwnProperty(zy))?e[Xa]:null}const no=It({\u0275prov:It}),Xa=It({\u0275inj:It}),Td=It({ngInjectableDef:It}),zy=It({ngInjectorDef:It});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Ya;function Un(e){const t=Ya;return Ya=e,t}function Fd(e,t,n){const i=to(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&tt.Optional?null:void 0!==t?t:void eo(Ft(e))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ns={},Qa="__NG_DI_FLAG__",io="ngTempTokenPath",Xy="ngTokenPath",Yy=/\n/gm,Qy="\u0275",xd="__source";let is;function hr(e){const t=is;return is=e,t}function Jy(e,t=tt.Default){if(void 0===is)throw new Le(-203,!1);return null===is?Fd(e,void 0,t):is.get(e,t&tt.Optional?null:void 0,t)}function gt(e,t=tt.Default){return(function Ky(){return Ya}()||Jy)(Qe(e),t)}function fr(e,t=tt.Default){return gt(e,ro(t))}function ro(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ja(e){const t=[];for(let n=0;n<e.length;n++){const i=Qe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Le(900,!1);let r,s=tt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Zy(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(gt(r,s))}else t.push(gt(i))}return t}function rs(e,t){return e[Qa]=t,e.prototype[Qa]=t,e}function Zy(e){return e[Qa]}function bi(e){return{toString:e}.toString()}var li=(()=>((li=li||{})[li.OnPush=0]="OnPush",li[li.Default=1]="Default",li))(),ci=(()=>{return(e=ci||(ci={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",ci;var e})();const Ci={},Ct=[],so=It({\u0275cmp:It}),Za=It({\u0275dir:It}),el=It({\u0275pipe:It}),Od=It({\u0275mod:It}),Si=It({\u0275fac:It}),ss=It({__NG_ELEMENT_ID__:It});let nb=0;function pr(e){return bi(()=>{const t=Nd(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===li.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||ci.Emulated,id:"c"+nb++,styles:e.styles||Ct,_:null,schemas:e.schemas||null,tView:null};Ld(n);const i=e.dependencies;return n.directiveDefs=oo(i,!1),n.pipeDefs=oo(i,!0),n})}function rb(e){return wt(e)||hn(e)}function sb(e){return null!==e}function kn(e){return bi(()=>({type:e.type,bootstrap:e.bootstrap||Ct,declarations:e.declarations||Ct,imports:e.imports||Ct,exports:e.exports||Ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kd(e,t){if(null==e)return Ci;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}function ot(e){return bi(()=>{const t=Nd(e);return Ld(t),t})}function wt(e){return e[so]||null}function hn(e){return e[Za]||null}function Pn(e){return e[el]||null}function Nd(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ct,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kd(e.inputs,t),outputs:kd(e.outputs)}}function Ld(e){e.features?.forEach(t=>t(e))}function oo(e,t){if(!e)return null;const n=t?Pn:rb;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(sb)}const Ei=0,je=1,ut=2,jt=3,Yn=4,Ki=5,fn=6,gr=7,$t=8,ao=9,lo=10,ft=11,tl=12,as=13,Vd=14,mr=15,pn=16,ls=17,_r=18,ui=19,cs=20,Gd=21,kt=22,nl=1,Bd=2,co=7,uo=8,vr=9,yn=10;function Ln(e){return Array.isArray(e)&&"object"==typeof e[nl]}function Qn(e){return Array.isArray(e)&&!0===e[nl]}function il(e){return 0!=(4&e.flags)}function us(e){return e.componentOffset>-1}function ho(e){return 1==(1&e.flags)}function Jn(e){return!!e.template}function ab(e){return 0!=(256&e[ut])}function Xi(e,t){return e.hasOwnProperty(Si)?e[Si]:null}class ub{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ud(e){return e.type.prototype.ngOnChanges&&(e.setInput=hb),db}function db(){const e=$d(this),t=e?.current;if(t){const n=e.previous;if(n===Ci)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function hb(e,t,n,i){const r=this.declaredInputs[n],s=$d(e)||function fb(e,t){return e[Wd]=t}(e,{previous:Ci,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new ub(l&&l.currentValue,t,a===Ci),e[i]=t}const Wd="__ngSimpleChanges__";function $d(e){return e[Wd]||null}const Wn=function(e,t,n){},qd="svg";function cn(e){for(;Array.isArray(e);)e=e[Ei];return e}function fo(e,t){return cn(t[e])}function Vn(e,t){return cn(t[e.index])}function Kd(e,t){return e.data[t]}function Mn(e,t){const n=t[e];return Ln(n)?n:n[Ei]}function po(e){return 64==(64&e[ut])}function Gi(e,t){return null==t?null:e[t]}function Xd(e){e[_r]=0}function sl(e,t){e[Ki]+=t;let n=e,i=e[jt];for(;null!==i&&(1===t&&1===n[Ki]||-1===t&&0===n[Ki]);)i[Ki]+=t,n=i,i=i[jt]}const at={lFrame:sh(null),bindingsEnabled:!0};function Qd(){return at.bindingsEnabled}function ye(){return at.lFrame.lView}function vt(){return at.lFrame.tView}function ol(e){return at.lFrame.contextLView=e,e[$t]}function al(e){return at.lFrame.contextLView=null,e}function un(){let e=Jd();for(;null!==e&&64===e.type;)e=e.parent;return e}function Jd(){return at.lFrame.currentTNode}function di(e,t){const n=at.lFrame;n.currentTNode=e,n.isParent=t}function ll(){return at.lFrame.isParent}function cl(){at.lFrame.isParent=!1}function br(){return at.lFrame.bindingIndex++}function wb(e,t){const n=at.lFrame;n.bindingIndex=n.bindingRootIndex=e,ul(t)}function ul(e){at.lFrame.currentDirectiveIndex=e}function nh(){return at.lFrame.currentQueryIndex}function hl(e){at.lFrame.currentQueryIndex=e}function Mb(e){const t=e[je];return 2===t.type?t.declTNode:1===t.type?e[fn]:null}function ih(e,t,n){if(n&tt.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&tt.Host||(r=Mb(s),null===r||(s=s[mr],10&r.type))););if(null===r)return!1;t=r,e=s}const i=at.lFrame=rh();return i.currentTNode=t,i.lView=e,!0}function fl(e){const t=rh(),n=e[je];at.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rh(){const e=at.lFrame,t=null===e?null:e.child;return null===t?sh(e):t}function sh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function oh(){const e=at.lFrame;return at.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ah=oh;function pl(){const e=oh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Cn(){return at.lFrame.selectedIndex}function Yi(e){at.lFrame.selectedIndex=e}function Vt(){const e=at.lFrame;return Kd(e.tView,e.selectedIndex)}function go(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:m}=s;o&&(e.contentHooks??(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks??(e.contentHooks=[])).push(n,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-n,l),u&&((e.viewHooks??(e.viewHooks=[])).push(n,u),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,u)),null!=m&&(e.destroyHooks??(e.destroyHooks=[])).push(n,m)}}function mo(e,t,n){ch(e,t,3,n)}function _o(e,t,n,i){(3&e[ut])===n&&ch(e,t,n,i)}function gl(e,t){let n=e[ut];(3&n)===t&&(n&=2047,n+=1,e[ut]=n)}function ch(e,t,n,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&e[_r]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[_r]+=65536),(a<s||-1==s)&&(Nb(e,n,t,l),e[_r]=(4294901760&e[_r])+l+2),l++}function Nb(e,t,n,i){const r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[ut]>>11<e[_r]>>16&&(3&e[ut])===t){e[ut]+=2048,Wn(4,a,s);try{s.call(a)}finally{Wn(5,a,s)}}}else{Wn(4,a,s);try{s.call(a)}finally{Wn(5,a,s)}}}const Cr=-1;class hs{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function _l(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s)}else{const s=r,o=n[++i];dh(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++}}return i}function uh(e){return 3===e||4===e||6===e}function dh(e){return 64===e.charCodeAt(0)}function fs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||hh(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function hh(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function fh(e){return e!==Cr}function vo(e){return 32767&e}function yo(e,t){let n=function Bb(e){return e>>16}(e),i=t;for(;n>0;)i=i[mr],n--;return i}let vl=!0;function bo(e){const t=vl;return vl=e,t}const ph=255,gh=5;let jb=0;const hi={};function Co(e,t){const n=mh(e,t);if(-1!==n)return n;const i=t[je];i.firstCreatePass&&(e.injectorIndex=t.length,yl(i.data,e),yl(t,null),yl(i.blueprint,null));const r=bl(e,t),s=e.injectorIndex;if(fh(r)){const o=vo(r),a=yo(r,t),l=a[je].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|l[o+u]}return t[s+8]=r,s}function yl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function bl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Eh(r),null===i)return Cr;if(n++,r=r[mr],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Cr}function Cl(e,t,n){!function Hb(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ss)&&(i=n[ss]),null==i&&(i=n[ss]=jb++);const r=i&ph;t.data[e+(r>>gh)]|=1<<r}(e,t,n)}function _h(e,t,n){if(n&tt.Optional||void 0!==e)return e;eo()}function vh(e,t,n,i){if(n&tt.Optional&&void 0===i&&(i=null),!(n&(tt.Self|tt.Host))){const r=e[ao],s=Un(void 0);try{return r?r.get(t,i,n&tt.Optional):Fd(t,i,n&tt.Optional)}finally{Un(s)}}return _h(i,0,n)}function yh(e,t,n,i=tt.Default,r){if(null!==e){if(1024&t[ut]){const o=function zb(e,t,n,i,r){let s=e,o=t;for(;null!==s&&null!==o&&1024&o[ut]&&!(256&o[ut]);){const a=bh(s,o,n,i|tt.Self,hi);if(a!==hi)return a;let l=s.parent;if(!l){const u=o[Gd];if(u){const m=u.get(n,hi,i);if(m!==hi)return m}l=Eh(o),o=o[mr]}s=l}return r}(e,t,n,i,hi);if(o!==hi)return o}const s=bh(e,t,n,i,hi);if(s!==hi)return s}return vh(t,n,i,r)}function bh(e,t,n,i,r){const s=function $b(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ss)?e[ss]:void 0;return"number"==typeof t?t>=0?t&ph:qb:t}(n);if("function"==typeof s){if(!ih(t,e,i))return i&tt.Host?_h(r,0,i):vh(t,n,i,r);try{const o=s(i);if(null!=o||i&tt.Optional)return o;eo()}finally{ah()}}else if("number"==typeof s){let o=null,a=mh(e,t),l=Cr,u=i&tt.Host?t[pn][fn]:null;for((-1===a||i&tt.SkipSelf)&&(l=-1===a?bl(e,t):t[a+8],l!==Cr&&Sh(i,!1)?(o=t[je],a=vo(l),t=yo(l,t)):a=-1);-1!==a;){const m=t[je];if(Ch(s,a,m.data)){const E=Wb(a,t,n,o,i,u);if(E!==hi)return E}l=t[a+8],l!==Cr&&Sh(i,t[je].data[a+8]===u)&&Ch(s,a,t)?(o=m,a=vo(l),t=yo(l,t)):a=-1}}return r}function Wb(e,t,n,i,r,s){const o=t[je],a=o.data[e+8],m=So(a,o,n,null==i?us(a)&&vl:i!=o&&0!=(3&a.type),r&tt.Host&&s===a);return null!==m?Qi(t,o,m,a):hi}function So(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,m=s>>20,j=r?a+m:e.directiveEnd;for(let X=i?a:a+m;X<j;X++){const ie=o[X];if(X<l&&n===ie||X>=l&&ie.type===n)return X}if(r){const X=o[l];if(X&&Jn(X)&&X.type===n)return l}return null}function Qi(e,t,n,i){let r=e[n];const s=t.data;if(function Lb(e){return e instanceof hs}(r)){const o=r;o.resolving&&function jy(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Le(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Dt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}(s[n]));const a=bo(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Un(o.injectImpl):null;ih(e,i,tt.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function kb(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Ud(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o)}r&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&Un(l),bo(a),o.resolving=!1,ah()}}return r}function Ch(e,t,n){return!!(n[t+(e>>gh)]&1<<e)}function Sh(e,t){return!(e&tt.Self||e&tt.Host&&t)}class Sr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return yh(this._tNode,this._lView,t,ro(i),n)}}function qb(){return new Sr(un(),ye())}function Sl(e){return za(e)?()=>{const t=Sl(Qe(e));return t&&t()}:Xi(e)}function Eh(e){const t=e[je],n=t.type;return 2===n?t.declTNode:1===n?e[fn]:null}const Dr="__parameters__";function wr(e,t,n){return bi(()=>{const i=function Dl(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,u,m){const E=l.hasOwnProperty(Dr)?l[Dr]:Object.defineProperty(l,Dr,{value:[]})[Dr];for(;E.length<=m;)E.push(null);return(E[m]=E[m]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Xe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=bt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ji(e,t){e.forEach(n=>Array.isArray(n)?Ji(n,t):t(n))}function Ah(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Eo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ms(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Gn(e,t,n){let i=Pr(e,t);return i>=0?e[1|i]=n:(i=~i,function Qb(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function wl(e,t){const n=Pr(e,t);if(n>=0)return e[1|n]}function Pr(e,t){return function wh(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1}return~(r<<n)}(e,t,1)}const Ao=rs(wr("Optional"),8),wo=rs(wr("SkipSelf"),4);var In=(()=>((In=In||{})[In.Important=1]="Important",In[In.DashCase=2]="DashCase",In))();const xl=new Map;let b0=0;const Ol="__ngContext__";function gn(e,t){Ln(t)?(e[Ol]=t[cs],function S0(e){xl.set(e[cs],e)}(t)):e[Ol]=t}let kl;function Nl(e,t){return kl(e,t)}function bs(e){const t=e[jt];return Qn(t)?t[jt]:t}function Ll(e){return qh(e[as])}function Vl(e){return qh(e[Yn])}function qh(e){for(;null!==e&&!Qn(e);)e=e[Yn];return e}function Ir(e,t,n,i,r){if(null!=i){let s,o=!1;Qn(i)?s=i:Ln(i)&&(o=!0,i=i[Ei]);const a=cn(i);0===e&&null!==n?null==r?Jh(t,n,a):Zi(t,n,a,r||null,!0):1===e&&null!==n?Zi(t,n,a,r||null,!0):2===e?function $l(e,t,n){const i=Io(e,t);i&&function H0(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function $0(e,t,n,i,r){const s=n[co];s!==cn(n)&&Ir(t,e,i,s,r);for(let a=yn;a<n.length;a++){const l=n[a];Cs(l[je],l,e,t,i,s)}}(t,e,s,n,r)}}function Bl(e,t,n){return e.createElement(t,n)}function Kh(e,t){const n=e[vr],i=n.indexOf(t),r=t[jt];512&t[ut]&&(t[ut]&=-513,sl(r,-1)),n.splice(i,1)}function jl(e,t){if(e.length<=yn)return;const n=yn+t,i=e[n];if(i){const r=i[ls];null!==r&&r!==e&&Kh(r,i),t>0&&(e[n-1][Yn]=i[Yn]);const s=Eo(e,yn+t);!function O0(e,t){Cs(e,t,t[ft],2,null,null),t[Ei]=null,t[fn]=null}(i[je],i);const o=s[ui];null!==o&&o.detachView(s[je]),i[jt]=null,i[Yn]=null,i[ut]&=-65}return i}function Xh(e,t){if(!(128&t[ut])){const n=t[ft];n.destroyNode&&Cs(e,t,n,3,null,null),function L0(e){let t=e[as];if(!t)return Hl(e[je],e);for(;t;){let n=null;if(Ln(t))n=t[as];else{const i=t[yn];i&&(n=i)}if(!n){for(;t&&!t[Yn]&&t!==e;)Ln(t)&&Hl(t[je],t),t=t[jt];null===t&&(t=e),Ln(t)&&Hl(t[je],t),n=t&&t[Yn]}t=n}}(t)}}function Hl(e,t){if(!(128&t[ut])){t[ut]&=-65,t[ut]|=128,function j0(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof hs)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Wn(4,a,l);try{l.call(a)}finally{Wn(5,a,l)}}else{Wn(4,r,s);try{s.call(r)}finally{Wn(5,r,s)}}}}}(e,t),function B0(e,t){const n=e.cleanup,i=t[gr];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=n[s+1]];n[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[gr]=null}}(e,t),1===t[je].type&&t[ft].destroy();const n=t[ls];if(null!==n&&Qn(t[jt])){n!==t[jt]&&Kh(n,t);const i=t[ui];null!==i&&i.detachView(e)}!function E0(e){xl.delete(e[cs])}(t)}}function Yh(e,t,n){return function Qh(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Ei];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===ci.None||s===ci.Emulated)return null}return Vn(i,n)}}(e,t.parent,n)}function Zi(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Jh(e,t,n){e.appendChild(t,n)}function Zh(e,t,n,i,r){null!==i?Zi(e,t,n,i,r):Jh(e,t,n)}function Io(e,t){return e.parentNode(t)}function ef(e,t,n){return nf(e,t,n)}let Ul,Kl,nf=function tf(e,t,n){return 40&e.type?Vn(e,n):null};function To(e,t,n,i){const r=Yh(e,i,t),s=t[ft],a=ef(i.parent||t[fn],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)Zh(s,r,n[l],a,!1);else Zh(s,r,n,a,!1);void 0!==Ul&&Ul(s,i,t,n,r)}function Fo(e,t){if(null!==t){const n=t.type;if(3&n)return Vn(t,e);if(4&n)return Wl(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Fo(e,i);{const r=e[t.index];return Qn(r)?Wl(-1,r):cn(r)}}if(32&n)return Nl(t,e)()||cn(e[t.index]);{const i=sf(e,t);return null!==i?Array.isArray(i)?i[0]:Fo(bs(e[pn]),i):Fo(e,t.next)}}return null}function sf(e,t){return null!==t?e[pn][fn].projection[t.projection]:null}function Wl(e,t){const n=yn+e+1;if(n<t.length){const i=t[n],r=i[je].firstChild;if(null!==r)return Fo(i,r)}return t[co]}function ql(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===t&&(a&&gn(cn(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)ql(e,t,n.child,i,r,s,!1),Ir(t,e,r,a,s);else if(32&l){const u=Nl(n,i);let m;for(;m=u();)Ir(t,e,r,m,s);Ir(t,e,r,a,s)}else 16&l?of(e,t,i,n,r,s):Ir(t,e,r,a,s);n=o?n.projectionNext:n.next}}function Cs(e,t,n,i,r,s){ql(n,i,e.firstChild,t,r,s,!1)}function of(e,t,n,i,r,s){const o=n[pn],l=o[fn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ir(t,e,r,l[u],s);else ql(e,t,l,o[jt],r,s,!0)}function af(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function lf(e,t,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&_l(e,t,i),null!==r&&af(e,t,r),null!==s&&function z0(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class ff{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Sf=new Xe("ENVIRONMENT_INITIALIZER"),Ef=new Xe("INJECTOR",-1),Df=new Xe("INJECTOR_DEF_TYPES");class Af{get(t,n=ns){if(n===ns){const i=new Error(`NullInjectorError: No provider for ${Ft(t)}!`);throw i.name="NullInjectorError",i}return n}}function SC(...e){return{\u0275providers:wf(0,e),\u0275fromNgModule:!0}}function wf(e,...t){const n=[],i=new Set;let r;return Ji(t,s=>{const o=s;ec(o,n,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&Pf(r,n),n}function Pf(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];tc(r,s=>{t.push(s)})}}function ec(e,t,n,i){if(!(e=Qe(e)))return!1;let r=null,s=Id(e);const o=!s&&wt(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=Id(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)ec(u,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;i.add(r);try{Ji(s.imports,m=>{ec(m,t,n,i)&&(u||(u=[]),u.push(m))})}finally{}void 0!==u&&Pf(u,t)}if(!a){const u=Xi(r)||(()=>new r);t.push({provide:r,useFactory:u,deps:Ct},{provide:Df,useValue:r,multi:!0},{provide:Sf,useValue:()=>gt(r),multi:!0})}const l=s.providers;null==l||a||tc(l,m=>{t.push(m)})}}return r!==e&&void 0!==e.providers}function tc(e,t){for(let n of e)Ka(n)&&(n=n.\u0275providers),Array.isArray(n)?tc(n,t):t(n)}const EC=It({provide:String,useValue:It});function nc(e){return null!==e&&"object"==typeof e&&EC in e}function er(e){return"function"==typeof e}const ic=new Xe("Set Injector scope."),ko={},AC={};let rc;function No(){return void 0===rc&&(rc=new Af),rc}class tr{}class Tf extends tr{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oc(t,o=>this.processProvider(o)),this.records.set(Ef,Fr(void 0,this)),r.has("environment")&&this.records.set(tr,Fr(void 0,this));const s=this.records.get(ic);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Df.multi,Ct,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=hr(this),i=Un(void 0);try{return t()}finally{hr(n),Un(i)}}get(t,n=ns,i=tt.Default){this.assertNotDestroyed(),i=ro(i);const r=hr(this),s=Un(void 0);try{if(!(i&tt.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function TC(e){return"function"==typeof e||"object"==typeof e&&e instanceof Xe}(t)&&to(t);a=l&&this.injectableDefInScope(l)?Fr(sc(t),ko):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&tt.Self?No():this.parent).get(t,n=i&tt.Optional&&n===ns?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[io]=o[io]||[]).unshift(Ft(t)),r)throw o;return function eb(e,t,n,i){const r=e[io];throw t[xd]&&r.unshift(t[xd]),e.message=function tb(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Qy?e.slice(2):e;let r=Ft(t);if(Array.isArray(t))r=t.map(Ft).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ft(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(Yy,"\n  ")}`}("\n"+e.message,r,n,i),e[Xy]=r,e[io]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{Un(s),hr(r)}}resolveInjectorInitializers(){const t=hr(this),n=Un(void 0);try{const i=this.get(Sf.multi,Ct,tt.Self);for(const r of i)r()}finally{hr(t),Un(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Ft(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(t){let n=er(t=Qe(t))?t:Qe(t&&t.provide);const i=function PC(e){return nc(e)?Fr(void 0,e.useValue):Fr(Ff(e),ko)}(t);if(er(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=Fr(void 0,ko,!0),r.factory=()=>Ja(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===ko&&(n.value=AC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function IC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Qe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function sc(e){const t=to(e),n=null!==t?t.factory:Xi(e);if(null!==n)return n;if(e instanceof Xe)throw new Le(204,!1);if(e instanceof Function)return function wC(e){const t=e.length;if(t>0)throw ms(t,"?"),new Le(204,!1);const n=function qy(e){return e&&(e[no]||e[Td])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Le(204,!1)}function Ff(e,t,n){let i;if(er(e)){const r=Qe(e);return Xi(r)||sc(r)}if(nc(e))i=()=>Qe(e.useValue);else if(function If(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Ja(e.deps||[]));else if(function Mf(e){return!(!e||!e.useExisting)}(e))i=()=>gt(Qe(e.useExisting));else{const r=Qe(e&&(e.useClass||e.provide));if(!function MC(e){return!!e.deps}(e))return Xi(r)||sc(r);i=()=>new r(...Ja(e.deps))}return i}function Fr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function oc(e,t){for(const n of e)Array.isArray(n)?oc(n,t):n&&Ka(n)?oc(n.\u0275providers,t):t(n)}class FC{}class xf{}class RC{resolveComponentFactory(t){throw function xC(e){const t=Error(`No component factory found for ${Ft(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Lo=(()=>{class e{}return e.NULL=new RC,e})();function OC(){return xr(un(),ye())}function xr(e,t){return new Zn(Vn(e,t))}let Zn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=OC,e})();function kC(e){return e instanceof Zn?e.nativeElement:e}class Of{}let nr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function NC(){const e=ye(),n=Mn(un().index,e);return(Ln(n)?n:e)[ft]}(),e})(),LC=(()=>{class e{}return e.\u0275prov=bt({token:e,providedIn:"root",factory:()=>null}),e})();class Vo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const VC=new Vo("15.2.9"),ac={},lc="ngOriginalError";function cc(e){return e[lc]}class Rr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&cc(t);for(;n&&cc(n);)n=cc(n);return n||null}}function Nf(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const Lf="ng-template";function XC(e,t,n){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const o=e[i++];if(n&&"class"===s&&-1!==Nf(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Vf(e){return 4===e.type&&e.value!==Lf}function YC(e,t,n){return t===(4!==e.type||n?e.value:Lf)}function QC(e,t,n){let i=4;const r=e.attrs||[],s=function eS(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!YC(e,l,n)||""===l&&1===t.length){if(ei(i))return!1;o=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!XC(e.attrs,u,n)){if(ei(i))return!1;o=!0}continue}const E=JC(8&i?"class":l,r,Vf(e),n);if(-1===E){if(ei(i))return!1;o=!0;continue}if(""!==u){let j;j=E>s?"":r[E+1].toLowerCase();const X=8&i?j:null;if(X&&-1!==Nf(X,u,0)||2&i&&u!==j){if(ei(i))return!1;o=!0}}}}else{if(!o&&!ei(i)&&!ei(l))return!1;if(o&&ei(l))continue;o=!1,i=l|1&i}}return ei(i)||o}function ei(e){return 0==(1&e)}function JC(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function tS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Gf(e,t,n=!1){for(let i=0;i<t.length;i++)if(QC(e,t[i],n))return!0;return!1}function nS(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Bf(e,t){return e?":not("+t.trim()+")":t}function iS(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ei(o)&&(t+=Bf(s,r),r=""),i=o,s=s||!ei(i);n++}return""!==r&&(t+=Bf(s,r)),t}const lt={};function As(e){jf(vt(),ye(),Cn()+e,!1)}function jf(e,t,n,i){if(!i)if(3==(3&t[ut])){const s=e.preOrderCheckHooks;null!==s&&mo(t,s,n)}else{const s=e.preOrderHooks;null!==s&&_o(t,s,0,n)}Yi(n)}function $f(e,t=null,n=null,i){const r=qf(e,t,n,i);return r.resolveInjectorInitializers(),r}function qf(e,t=null,n=null,i,r=new Set){const s=[n||Ct,SC(e)];return i=i||("object"==typeof e?void 0:Ft(e)),new Tf(s,t||No(),i||null,r)}let Ii=(()=>{class e{static create(n,i){if(Array.isArray(n))return $f({name:""},i,n,"");{const r=n.name??"";return $f({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=ns,e.NULL=new Af,e.\u0275prov=bt({token:e,providedIn:"any",factory:()=>gt(Ef)}),e.__NG_ELEMENT_ID__=-1,e})();function Ie(e,t=tt.Default){const n=ye();return null===n?gt(e,t):yh(un(),n,Qe(e),t)}function Zf(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const o=e.data[s];hl(n[i]),o.contentQueries(2,t[s],s)}}}function Bo(e,t,n,i,r,s,o,a,l,u,m){const E=t.blueprint.slice();return E[Ei]=r,E[ut]=76|i,(null!==m||e&&1024&e[ut])&&(E[ut]|=1024),Xd(E),E[jt]=E[mr]=e,E[$t]=n,E[lo]=o||e&&e[lo],E[ft]=a||e&&e[ft],E[tl]=l||e&&e[tl]||null,E[ao]=u||e&&e[ao]||null,E[fn]=s,E[cs]=function C0(){return b0++}(),E[Gd]=m,E[pn]=2==t.type?e[pn]:E,E}function Nr(e,t,n,i,r){let s=e.data[t];if(null===s)s=function pc(e,t,n,i,r){const s=Jd(),o=ll(),l=e.data[t]=function TS(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,i,r),function Ab(){return at.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function ds(){const e=at.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return di(s,!0),s}function ws(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function gc(e,t,n){fl(t);try{const i=e.viewQuery;null!==i&&Dc(1,i,n);const r=e.template;null!==r&&ep(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zf(e,t),e.staticViewQueries&&Dc(2,e.viewQuery,n);const s=e.components;null!==s&&function PS(e,t){for(let n=0;n<t.length;n++)YS(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[ut]&=-5,pl()}}function jo(e,t,n,i){const r=t[ut];if(128!=(128&r)){fl(t);try{Xd(t),function eh(e){return at.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ep(e,t,n,2,i);const o=3==(3&r);if(o){const u=e.preOrderCheckHooks;null!==u&&mo(t,u,null)}else{const u=e.preOrderHooks;null!==u&&_o(t,u,0,null),gl(t,0)}if(function KS(e){for(let t=Ll(e);null!==t;t=Vl(t)){if(!t[Bd])continue;const n=t[vr];for(let i=0;i<n.length;i++){const r=n[i];512&r[ut]||sl(r[jt],1),r[ut]|=512}}}(t),function zS(e){for(let t=Ll(e);null!==t;t=Vl(t))for(let n=yn;n<t.length;n++){const i=t[n],r=i[je];po(i)&&jo(r,i,r.template,i[$t])}}(t),null!==e.contentQueries&&Zf(e,t),o){const u=e.contentCheckHooks;null!==u&&mo(t,u)}else{const u=e.contentHooks;null!==u&&_o(t,u,1),gl(t,1)}!function AS(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Yi(~r);else{const s=r,o=n[++i],a=n[++i];wb(o,s),a(2,t[s])}}}finally{Yi(-1)}}(e,t);const a=e.components;null!==a&&function wS(e,t){for(let n=0;n<t.length;n++)XS(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Dc(2,l,i),o){const u=e.viewCheckHooks;null!==u&&mo(t,u)}else{const u=e.viewHooks;null!==u&&_o(t,u,2),gl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ut]&=-41,512&t[ut]&&(t[ut]&=-513,sl(t[jt],-1))}finally{pl()}}}function ep(e,t,n,i,r){const s=Cn(),o=2&i;try{Yi(-1),o&&t.length>kt&&jf(e,t,kt,!1),Wn(o?2:0,r),n(i,r)}finally{Yi(s),Wn(o?3:1,r)}}function mc(e,t,n){if(il(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function _c(e,t,n){Qd()&&(function LS(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;us(n)&&function WS(e,t,n){const i=Vn(t,e),r=tp(n),s=e[lo],o=Ho(e,Bo(e,r,null,n.onPush?32:16,i,t,s,s.createRenderer(i,n),null,null,null));e[t.index]=o}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Co(n,t),gn(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],u=Qi(t,e,a,n);gn(u,t),null!==o&&$S(0,a-r,u,l,0,o),Jn(l)&&(Mn(n.index,t)[$t]=Qi(t,e,a,n))}}(e,t,n,Vn(n,t)),64==(64&n.flags)&&op(e,t,n))}function vc(e,t,n=Vn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}function tp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function yc(e,t,n,i,r,s,o,a,l,u){const m=kt+i,E=m+r,j=function MS(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:lt);return n}(m,E),X="function"==typeof u?u():u;return j[je]={type:e,blueprint:j,template:n,queries:null,viewQuery:a,declTNode:t,data:j.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:X,incompleteFirstPass:!1}}function np(e,t,n,i){const r=lp(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&cp(e).push(i,r.length-1))}function ip(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const s=e[r];null===i?rp(n,t,r,s):i.hasOwnProperty(r)&&rp(n,t,i[r],s)}return n}function rp(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function bc(e,t,n,i){if(Qd()){const r=null===i?null:{"":-1},s=function GS(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Gf(t,o.selectors,!1))if(i||(i=[]),Jn(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Cc(e,t,a.length)}else i.unshift(o),Cc(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&sp(e,t,n,o,r,a),r&&function BS(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new Le(-301,!1);i.push(t[r],s)}}}(n,i,r)}n.mergedAttrs=fs(n.mergedAttrs,n.attrs)}function sp(e,t,n,i,r,s){for(let u=0;u<i.length;u++)Cl(Co(n,t),e,i[u].type);!function HS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let u=0;u<i.length;u++){const m=i[u];m.providersResolver&&m.providersResolver(m)}let o=!1,a=!1,l=ws(e,t,i.length,null);for(let u=0;u<i.length;u++){const m=i[u];n.mergedAttrs=fs(n.mergedAttrs,m.hostAttrs),US(e,n,t,l,m),jS(l,m,r),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const E=m.type.prototype;!o&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),o=!0),!a&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function FS(e,t,n){const r=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let m=t.directiveStart;m<r;m++){const E=s[m],j=n?n.get(E):null,ie=j?j.outputs:null;l=ip(E.inputs,m,l,j?j.inputs:null),u=ip(E.outputs,m,u,ie);const pe=null===l||null===o||Vf(t)?null:qS(l,m,o);a.push(pe)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,s)}function op(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=function Pb(){return at.lFrame.currentDirectiveIndex}();try{Yi(s);for(let a=i;a<r;a++){const l=e.data[a],u=t[a];ul(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&VS(l,u)}}finally{Yi(-1),ul(o)}}function VS(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Cc(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function jS(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Jn(t)&&(n[""]=e)}}function US(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=Xi(r.type)),o=new hs(s,Jn(r),Ie);e.blueprint[i]=o,n[i]=o,function kS(e,t,n,i,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function NS(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,i,s)}}(e,t,i,ws(e,n,r.hostVars,lt),r)}function fi(e,t,n,i,r,s){const o=Vn(e,t);!function Sc(e,t,n,i,r,s,o){if(null==s)e.removeAttribute(t,r,n);else{const a=null==o?st(s):o(s,i||"",r);e.setAttribute(t,r,a,n)}}(t[ft],o,s,e.value,n,i,r)}function $S(e,t,n,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const u=o[l++],m=o[l++],E=o[l++];null!==a?i.setInput(n,E,u,m):n[m]=E}}}function qS(e,t,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function ap(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function XS(e,t){const n=Mn(t,e);if(po(n)){const i=n[je];48&n[ut]?jo(i,n,i.template,n[$t]):n[Ki]>0&&Ec(n)}}function Ec(e){for(let i=Ll(e);null!==i;i=Vl(i))for(let r=yn;r<i.length;r++){const s=i[r];if(po(s))if(512&s[ut]){const o=s[je];jo(o,s,o.template,s[$t])}else s[Ki]>0&&Ec(s)}const n=e[je].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Mn(n[i],e);po(r)&&r[Ki]>0&&Ec(r)}}function YS(e,t){const n=Mn(t,e),i=n[je];(function QS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),gc(i,n,n[$t])}function Ho(e,t){return e[as]?e[Vd][Yn]=t:e[as]=t,e[Vd]=t,t}function Uo(e){for(;e;){e[ut]|=32;const t=bs(e);if(ab(e)&&!t)return e;e=t}return null}function Wo(e,t,n,i=!0){const r=t[lo];r.begin&&r.begin();try{jo(e,t,e.template,n)}catch(o){throw i&&dp(t,o),o}finally{r.end&&r.end()}}function Dc(e,t,n){hl(0),t(e,n)}function lp(e){return e[gr]||(e[gr]=[])}function cp(e){return e.cleanup||(e.cleanup=[])}function dp(e,t){const n=e[ao],i=n?n.get(Rr,null):null;i&&i.handleError(t)}function Ac(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function $o(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=qa(r,a):2==s&&(i=qa(i,a+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function qo(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(cn(s)),Qn(s))for(let a=yn;a<s.length;a++){const l=s[a],u=l[je].firstChild;null!==u&&qo(l[je],l,u,i)}const o=n.type;if(8&o)qo(e,t,n.child,i);else if(32&o){const a=Nl(n,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=sf(t,n);if(Array.isArray(a))i.push(...a);else{const l=bs(t[pn]);qo(l[je],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class Ps{get rootNodes(){const t=this._lView,n=t[je];return qo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(t){this._lView[$t]=t}get destroyed(){return 128==(128&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[jt];if(Qn(t)){const n=t[uo],i=n?n.indexOf(this):-1;i>-1&&(jl(t,i),Eo(n,i))}this._attachedToViewContainer=!1}Xh(this._lView[je],this._lView)}onDestroy(t){np(this._lView[je],this._lView,null,t)}markForCheck(){Uo(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-65}reattach(){this._lView[ut]|=64}detectChanges(){Wo(this._lView[je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N0(e,t){Cs(e,t,t[ft],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t}}class JS extends Ps{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Wo(t[je],t,t[$t],!1)}checkNoChanges(){}get context(){return null}}class hp extends Lo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=wt(t);return new Ms(n,this.ngModule)}}function fp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class eE{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=ro(i);const r=this.injector.get(t,ac,i);return r!==ac||n===ac?r:this.parentInjector.get(t,n,i)}}class Ms extends xf{get inputs(){return fp(this.componentDef.inputs)}get outputs(){return fp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function rS(e){return e.map(iS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof tr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eE(t,s):t,a=o.get(Of,null);if(null===a)throw new Le(407,!1);const l=o.get(LC,null),u=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",E=i?function IS(e,t,n){return e.selectRootElement(t,n===ci.ShadowDom)}(u,i,this.componentDef.encapsulation):Bl(u,m,function ZS(e){const t=e.toLowerCase();return"svg"===t?qd:"math"===t?"math":null}(m)),j=this.componentDef.onPush?288:272,X=yc(0,null,null,1,0,null,null,null,null,null),ie=Bo(null,X,null,j,null,null,a,u,l,o,null);let pe,Ee;fl(ie);try{const be=this.componentDef;let Ge,ve=null;be.findHostDirectiveDefs?(Ge=[],ve=new Map,be.findHostDirectiveDefs(be,Ge,ve),Ge.push(be)):Ge=[be];const ze=function nE(e,t){const n=e[je],i=kt;return e[i]=t,Nr(n,i,2,"#host",null)}(ie,E),St=function iE(e,t,n,i,r,s,o,a){const l=r[je];!function rE(e,t,n,i){for(const r of e)t.mergedAttrs=fs(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&($o(t,t.mergedAttrs,!0),null!==n&&lf(i,n,t))}(i,e,t,o);const u=s.createRenderer(t,n),m=Bo(r,tp(n),null,n.onPush?32:16,r[e.index],e,s,u,a||null,null,null);return l.firstCreatePass&&Cc(l,e,i.length-1),Ho(r,m),r[e.index]=m}(ze,E,be,Ge,ie,a,u);Ee=Kd(X,kt),E&&function oE(e,t,n,i){if(i)_l(e,n,["ng-version",VC.full]);else{const{attrs:r,classes:s}=function sS(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!ei(r))break;r=s}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&_l(e,n,r),s&&s.length>0&&af(e,n,s.join(" "))}}(u,be,E,i),void 0!==n&&function aE(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(Ee,this.ngContentSelectors,n),pe=function sE(e,t,n,i,r,s){const o=un(),a=r[je],l=Vn(o,r);sp(a,r,o,n,null,i);for(let m=0;m<n.length;m++)gn(Qi(r,a,o.directiveStart+m,o),r);op(a,r,o),l&&gn(l,r);const u=Qi(r,a,o.directiveStart+o.componentOffset,o);if(e[$t]=r[$t]=u,null!==s)for(const m of s)m(u,t);return mc(a,o,e),u}(St,be,Ge,ve,ie,[lE]),gc(X,ie,null)}finally{pl()}return new tE(this.componentType,pe,xr(Ee,ie),ie,Ee)}}class tE extends FC{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new JS(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Ac(s[je],s,r,t,n),Uo(Mn(this._tNode.index,s))}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function lE(){const e=un();go(ye()[je],e)}function Pt(e){let t=function pp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(Jn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const o=e;o.inputs=wc(e.inputs),o.declaredInputs=wc(e.declaredInputs),o.outputs=wc(e.outputs);const a=r.hostBindings;a&&hE(e,a);const l=r.viewQuery,u=r.contentQueries;if(l&&uE(e,l),u&&dE(e,u),$a(e.inputs,r.inputs),$a(e.declaredInputs,r.declaredInputs),$a(e.outputs,r.outputs),Jn(r)&&r.data.animation){const m=e.data;m.animation=(m.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Pt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cE(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=fs(r.hostAttrs,n=fs(n,r.hostAttrs))}}(i)}function wc(e){return e===Ci?{}:e===Ct?[]:e}function uE(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function dE(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,s)=>{t(i,r,s),n(i,r,s)}:t}function hE(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}function zo(e){return!!Pc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Pc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function mn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ko(e,t,n,i,r){const s=function ir(e,t,n,i){const r=mn(e,t,n);return mn(e,t+1,i)||r}(e,t,n,i);return mn(e,t+2,r)||s}function zn(e,t,n,i){const r=ye();return mn(r,br(),t)&&(vt(),fi(Vt(),r,e,t,n,i)),zn}function Mc(e){return function yr(e,t){return e[t]}(function Db(){return at.lFrame.contextLView}(),kt+e)}function rr(e,t,n){const i=ye();return mn(i,br(),t)&&function Bn(e,t,n,i,r,s,o,a){const l=Vn(t,n);let m,u=t.inputs;!a&&null!=u&&(m=u[i])?(Ac(e,n,m,i,r),us(t)&&function RS(e,t){const n=Mn(t,e);16&n[ut]||(n[ut]|=32)}(n,t.index)):3&t.type&&(i=function xS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}(vt(),Vt(),i,e,t,i[ft],n,!1),rr}function Ic(e,t,n,i,r){const o=r?"class":"style";Ac(e,n,t.inputs[o],o,i)}function Jt(e,t,n,i){const r=ye(),s=vt(),o=kt+e,a=r[ft],l=s.firstCreatePass?function DE(e,t,n,i,r,s){const o=t.consts,l=Nr(t,e,2,i,Gi(o,r));return bc(t,n,l,Gi(o,s)),null!==l.attrs&&$o(l,l.attrs,!1),null!==l.mergedAttrs&&$o(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,n,i):s.data[o],u=r[o]=Bl(a,t,function Ob(){return at.lFrame.currentNamespace}()),m=ho(l);return di(l,!0),lf(a,u,l),32!=(32&l.flags)&&To(s,r,u,l),0===function yb(){return at.lFrame.elementDepthCount}()&&gn(u,r),function bb(){at.lFrame.elementDepthCount++}(),m&&(_c(s,r,l),mc(s,l,r)),null!==i&&vc(r,l),Jt}function qt(){let e=un();ll()?cl():(e=e.parent,di(e,!1));const t=e;!function Cb(){at.lFrame.elementDepthCount--}();const n=vt();return n.firstCreatePass&&(go(n,e),il(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Vb(e){return 0!=(8&e.flags)}(t)&&Ic(n,t,ye(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Gb(e){return 0!=(16&e.flags)}(t)&&Ic(n,t,ye(),t.stylesWithoutHost,!1),qt}function ji(e,t,n,i){return Jt(e,t,n,i),qt(),ji}function xc(){return ye()}function Xo(e){return!!e&&"function"==typeof e.then}const Tp=function Ip(e){return!!e&&"function"==typeof e.subscribe};function Fn(e,t,n,i){const r=ye(),s=vt(),o=un();return function xp(e,t,n,i,r,s,o){const a=ho(i),u=e.firstCreatePass&&cp(e),m=t[$t],E=lp(t);let j=!0;if(3&i.type||o){const pe=Vn(i,t),Ee=o?o(pe):pe,be=E.length,Ge=o?ze=>o(cn(ze[i.index])):i.index;let ve=null;if(!o&&a&&(ve=function wE(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===n&&r[s+1]===i){const a=t[gr],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,r,i.index)),null!==ve)(ve.__ngLastListenerFn__||ve).__ngNextListenerFn__=s,ve.__ngLastListenerFn__=s,j=!1;else{s=Op(i,t,m,s,!1);const ze=n.listen(Ee,r,s);E.push(s,ze),u&&u.push(r,Ge,be,be+1)}}else s=Op(i,t,m,s,!1);const X=i.outputs;let ie;if(j&&null!==X&&(ie=X[r])){const pe=ie.length;if(pe)for(let Ee=0;Ee<pe;Ee+=2){const St=t[ie[Ee]][ie[Ee+1]].subscribe(s),Yt=E.length;E.push(s,St),u&&u.push(r,i.index,Yt,-(Yt+1))}}}(s,r,r[ft],o,e,t,i),Fn}function Rp(e,t,n,i){try{return Wn(6,t,n),!1!==n(i)}catch(r){return dp(e,r),!1}finally{Wn(7,t,n)}}function Op(e,t,n,i,r){return function s(o){if(o===Function)return i;Uo(e.componentOffset>-1?Mn(e.index,t):t);let l=Rp(t,n,i,o),u=s.__ngNextListenerFn__;for(;u;)l=Rp(t,n,u,o)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Rc(e=1){return function Ib(e){return(at.lFrame.contextLView=function Tb(e,t){for(;e>0;)t=t[mr],e--;return t}(e,at.lFrame.contextLView))[$t]}(e)}function PE(e,t){let n=null;const i=function ZC(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Gf(e,s,!0):nS(i,s))return r}else n=r}return n}function Yo(e,t){return e<<17|t<<2}function Hi(e){return e>>17&32767}function kc(e){return 2|e}function sr(e){return(131068&e)>>2}function Nc(e,t){return-131069&e|t<<2}function Lc(e){return 1|e}function qp(e,t,n,i,r){const s=e[n+1],o=null===t;let a=i?Hi(s):sr(s),l=!1;for(;0!==a&&(!1===l||o);){const m=e[a+1];RE(e[a],t)&&(l=!0,e[a+1]=i?Lc(m):kc(m)),a=i?Hi(m):sr(m)}l&&(e[n+1]=i?kc(s):Lc(s))}function RE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Pr(e,t)>=0}const rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zp(e){return e.substring(rn.key,rn.keyEnd)}function Kp(e,t){const n=rn.textEnd;return n===t?-1:(t=rn.keyEnd=function LE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,rn.key=t,n),qr(e,t,n))}function qr(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Jo(e){!function ni(e,t,n,i){const r=vt(),s=function wi(e){const t=at.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);r.firstUpdatePass&&function tg(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[Cn()],o=eg(e,n);sg(s,i)&&null===t&&!o&&(t=!1),t=function jE(e,t,n,i){const r=function dl(e){const t=at.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Ts(n=Vc(null,e,t,n,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=Vc(r,e,t,n,i),null===s){let l=function HE(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==sr(i))return e[Hi(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=Vc(null,e,t,l[1],i),l=Ts(l,t.attrs,i),function UE(e,t,n,i){e[Hi(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else s=function WE(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Ts(i,e[s].hostAttrs,n);return Ts(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function FE(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Hi(o),l=sr(o);e[i]=n;let m,u=!1;if(Array.isArray(n)?(m=n[1],(null===m||Pr(n,m)>0)&&(u=!0)):m=n,r)if(0!==l){const j=Hi(e[a+1]);e[i+1]=Yo(j,a),0!==j&&(e[j+1]=Nc(e[j+1],i)),e[a+1]=function IE(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=Yo(a,0),0!==a&&(e[a+1]=Nc(e[a+1],i)),a=i;else e[i+1]=Yo(l,0),0===a?a=i:e[l+1]=Nc(e[l+1],i),l=i;u&&(e[i+1]=kc(e[i+1])),qp(e,m,i,!0),qp(e,m,i,!1),function xE(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Pr(s,t)>=0&&(n[i+1]=Lc(n[i+1]))}(t,m,e,i,s),o=Yo(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,n,o,i)}}(r,null,s,i);const o=ye();if(n!==lt&&mn(o,s,n)){const a=r.data[Cn()];if(sg(a,i)&&!eg(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=qa(l,n||"")),Ic(r,a,o,n,i)}else!function zE(e,t,n,i,r,s,o,a){r===lt&&(r=Ct);let l=0,u=0,m=0<r.length?r[0]:null,E=0<s.length?s[0]:null;for(;null!==m||null!==E;){const j=l<r.length?r[l+1]:void 0,X=u<s.length?s[u+1]:void 0;let pe,ie=null;m===E?(l+=2,u+=2,j!==X&&(ie=E,pe=X)):null===E||null!==m&&m<E?(l+=2,ie=m):(u+=2,ie=E,pe=X),null!==ie&&ig(e,t,n,i,ie,pe,o,a),m=l<r.length?r[l]:null,E=u<s.length?s[u]:null}}(r,a,o,o[ft],o[s+1],o[s+1]=function $E(e,t,n){if(null==n||""===n)return Ct;const i=[],r=function Bi(e){return e instanceof ff?e.changingThisBreaksApplicationSecurity:e}(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,s)}}(qE,mi,e,!0)}function mi(e,t){for(let n=function kE(e){return function Yp(e){rn.key=0,rn.keyEnd=0,rn.value=0,rn.valueEnd=0,rn.textEnd=e.length}(e),Kp(e,qr(e,0,rn.textEnd))}(t);n>=0;n=Kp(t,n))Gn(e,zp(t),!0)}function eg(e,t){return t>=e.expandoStartIndex}function Vc(e,t,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],i=Ts(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Ts(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gn(e,o,!!n||t[++s]))}return void 0===e?null:e}function qE(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&Gn(e,i,n)}function ig(e,t,n,i,r,s,o,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],m=function TE(e){return 1==(1&e)}(u)?rg(l,t,n,r,sr(u),o):void 0;Zo(m)||(Zo(s)||function ME(e){return 2==(2&e)}(u)&&(s=rg(l,null,n,r,a,o)),function q0(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:In.DashCase;null==r?e.removeStyle(n,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=In.Important),e.setStyle(n,i,r,s))}}(i,o,fo(Cn(),n),r,s))}function rg(e,t,n,i,r,s){const o=null===t;let a;for(;r>0;){const l=e[r],u=Array.isArray(l),m=u?l[1]:l,E=null===m;let j=n[r+1];j===lt&&(j=E?Ct:void 0);let X=E?wl(j,i):m===i?j:void 0;if(u&&!Zo(X)&&(X=wl(l,i)),Zo(X)&&(a=X,o))return a;const ie=e[r+1];r=o?Hi(ie):sr(ie)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=wl(l,i))}return a}function Zo(e){return void 0!==e}function sg(e,t){return 0!=(e.flags&(t?8:16))}function jn(e,t=""){const n=ye(),i=vt(),r=e+kt,s=i.firstCreatePass?Nr(i,r,1,t,null):i.data[r],o=n[r]=function Gl(e,t){return e.createText(t)}(n[ft],t);To(i,n,o,s),di(s,!1)}function Gc(e){return Bc("",e,""),Gc}function Bc(e,t,n){const i=ye(),r=function Vr(e,t,n,i){return mn(e,br(),n)?t+st(n)+i:lt}(i,e,t,n);return r!==lt&&function Ti(e,t,n){const i=fo(t,e);!function zh(e,t,n){e.setValue(t,n)}(e[ft],i,n)}(i,Cn(),r),Bc}const Kr="en-US";let Pg=Kr;function Uc(e,t,n,i,r){if(e=Qe(e),Array.isArray(e))for(let s=0;s<e.length;s++)Uc(e[s],t,n,i,r);else{const s=vt(),o=ye();let a=er(e)?e:Qe(e.provide),l=Ff(e);const u=un(),m=1048575&u.providerIndexes,E=u.directiveStart,j=u.providerIndexes>>20;if(er(e)||!e.multi){const X=new hs(l,r,Ie),ie=$c(a,t,r?m:m+j,E);-1===ie?(Cl(Co(u,o),s,a),Wc(s,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(X),o.push(X)):(n[ie]=X,o[ie]=X)}else{const X=$c(a,t,m+j,E),ie=$c(a,t,m,m+j),Ee=ie>=0&&n[ie];if(r&&!Ee||!r&&!(X>=0&&n[X])){Cl(Co(u,o),s,a);const be=function hA(e,t,n,i,r){const s=new hs(e,n,Ie);return s.multi=[],s.index=t,s.componentProviders=0,Jg(s,r,i&&!n),s}(r?dA:uA,n.length,r,i,l);!r&&Ee&&(n[ie].providerFactory=be),Wc(s,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(be),o.push(be)}else Wc(s,e,X>-1?X:ie,Jg(n[r?ie:X],l,!r&&i));!r&&i&&Ee&&n[ie].componentProviders++}}}function Wc(e,t,n,i){const r=er(t),s=function DC(e){return!!e.useClass}(t);if(r||s){const l=(s?Qe(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const m=u.indexOf(n);-1===m?u.push(n,[i,l]):u[m+1].push(i,l)}else u.push(n,l)}}}function Jg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function $c(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function uA(e,t,n,i){return qc(this.multi,[])}function dA(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Qi(n,n[je],this.providerFactory.index,i);s=a.slice(0,o),qc(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],qc(r,s);return s}function qc(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Nt(e,t=[]){return n=>{n.providersResolver=(i,r)=>function cA(e,t,n){const i=vt();if(i.firstCreatePass){const r=Jn(e);Uc(n,i.data,i.blueprint,r,!0),Uc(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class Xr{}class fA{}class Zg extends Xr{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hp(this);const i=function Nn(e,t){const n=e[Od]||null;if(!n&&!0===t)throw new Error(`Type ${Ft(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Mi(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=qf(t,n,[{provide:Xr,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],Ft(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zc extends fA{constructor(t){super(),this.moduleType=t}create(t){return new Zg(this.moduleType,t)}}class gA extends Xr{constructor(t,n,i){super(),this.componentFactoryResolver=new hp(this),this.instance=null;const r=new Tf([...t,{provide:Xr,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],n||No(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let mA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=wf(0,n.type),r=i.length>0?function em(e,t,n=null){return new gA(e,t,n).injector}([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=bt({token:e,providedIn:"environment",factory:()=>new e(gt(tr))}),e})();function Kc(e){e.getStandaloneInjector=t=>t.get(mA).getOrCreateStandaloneInjector(e)}function ra(e,t,n,i,r,s){return function cm(e,t,n,i,r,s,o,a){const l=t+n;return Ko(e,l,r,s,o)?function pi(e,t,n){return e[t]=n}(e,l+3,a?i.call(a,r,s,o):i(r,s,o)):function Ns(e,t){const n=e[t];return n===lt?void 0:n}(e,l+3)}(ye(),function bn(){const e=at.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,i,r,s)}function Yc(e){return t=>{setTimeout(e,void 0,t)}}const sn=class jA extends v{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Yc(s),r&&(r=Yc(r)),o&&(o=Yc(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Z&&t.add(a),a}};function HA(){return this._results[Symbol.iterator]()}class Qc{get changes(){return this._changes||(this._changes=new sn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Qc.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=HA)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function $n(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Xb(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fi=(()=>{class e{}return e.__NG_ELEMENT_ID__=$A,e})();const UA=Fi,WA=class extends UA{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,r=Bo(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[ls]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ui];return null!==o&&(r[ui]=o.createEmbeddedView(i)),gc(i,r,t),new Ps(r)}};function $A(){return sa(un(),ye())}function sa(e,t){return 4&e.type?new WA(t,e,xr(e,t)):null}let _i=(()=>{class e{}return e.__NG_ELEMENT_ID__=qA,e})();function qA(){return pm(un(),ye())}const zA=_i,hm=class extends zA{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return xr(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){const t=bl(this._hostTNode,this._hostLView);if(fh(t)){const n=yo(t,this._hostLView),i=vo(t);return new Sr(n[je].data[i+8],n)}return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=fm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(n||{},s);return this.insert(o,r),o}createComponent(t,n,i,r,s){const o=t&&!function gs(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const E=n||{};a=E.index,i=E.injector,r=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}const l=o?t:new Ms(wt(t)),u=i||this.parentInjector;if(!s&&null==l.ngModule){const j=(o?u:this.parentInjector).get(tr,null);j&&(s=j)}const m=l.create(u,r,void 0,s);return this.insert(m.hostView,a),m}insert(t,n){const i=t._lView,r=i[je];if(function vb(e){return Qn(e[jt])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const E=i[jt],j=new hm(E,E[fn],E[jt]);j.detach(j.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function V0(e,t,n,i){const r=yn+i,s=n.length;i>0&&(n[r-1][Yn]=t),i<s-yn?(t[Yn]=n[r],Ah(n,yn+i,t)):(n.push(t),t[Yn]=null),t[jt]=n;const o=t[ls];null!==o&&n!==o&&function G0(e,t){const n=e[vr];t[pn]!==t[jt][jt][pn]&&(e[Bd]=!0),null===n?e[vr]=[t]:n.push(t)}(o,t);const a=t[ui];null!==a&&a.insertView(e),t[ut]|=64}(r,i,o,s);const a=Wl(s,o),l=i[ft],u=Io(l,o[co]);return null!==u&&function k0(e,t,n,i,r,s){i[Ei]=r,i[fn]=t,Cs(e,i,n,1,r,s)}(r,o[fn],l,i,u,a),t.attachToViewContainerRef(),Ah(Jc(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=fm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=jl(this._lContainer,n);i&&(Eo(Jc(this._lContainer),n),Xh(i[je],i))}detach(t){const n=this._adjustIndex(t,-1),i=jl(this._lContainer,n);return i&&null!=Eo(Jc(this._lContainer),n)?new Ps(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function fm(e){return e[uo]}function Jc(e){return e[uo]||(e[uo]=[])}function pm(e,t){let n;const i=t[e.index];if(Qn(i))n=i;else{let r;if(8&e.type)r=cn(i);else{const s=t[ft];r=s.createComment("");const o=Vn(e,t);Zi(s,Io(s,o),r,function U0(e,t){return e.nextSibling(t)}(s,o),!1)}t[e.index]=n=ap(i,t,r,e),Ho(t,n)}return new hm(n,e,t)}class Zc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Zc(this.queryList)}setDirty(){this.queryList.setDirty()}}class eu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const o=n.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new eu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Sm(t,n).matches&&this.queries[n].setDirty()}}class gm{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class tu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new tu(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class nu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new nu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,KA(n,s)),this.matchTNodeWithReadOption(t,n,So(n,t,s,!1,!1))}else i===Fi?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,So(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Zn||r===_i||r===Fi&&4&n.type)this.addMatch(n.index,-2);else{const s=So(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function KA(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function YA(e,t,n,i){return-1===n?function XA(e,t){return 11&e.type?xr(e,t):4&e.type?sa(e,t):null}(t,e):-2===n?function QA(e,t,n){return n===Zn?xr(t,e):n===Fi?sa(t,e):n===_i?pm(t,e):void 0}(e,t,i):Qi(e,e[je],n,t)}function mm(e,t,n,i){const r=t[ui].queries[i];if(null===r.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:YA(t,s[u],o[l+1],n.metadata.read))}r.matches=a}return r.matches}function iu(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const o=mm(e,t,r,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const u=s[a+1],m=t[-l];for(let E=yn;E<m.length;E++){const j=m[E];j[ls]===j[jt]&&iu(j[je],j,u,i)}if(null!==m[vr]){const E=m[vr];for(let j=0;j<E.length;j++){const X=E[j];iu(X[je],X,u,i)}}}}}return i}function _m(e){const t=ye(),n=vt(),i=nh();hl(i+1);const r=Sm(n,i);if(e.dirty&&function _b(e){return 4==(4&e[ut])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?iu(n,t,i,[]):mm(n,t,r,i);e.reset(s,kC),e.notifyOnChanges()}return!0}return!1}function vm(e,t,n){const i=vt();i.firstCreatePass&&(function Cm(e,t,n){null===e.queries&&(e.queries=new tu),e.queries.track(new nu(t,n))}(i,new gm(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function bm(e,t,n){const i=new Qc(4==(4&n));np(e,t,i,i.destroy),null===t[ui]&&(t[ui]=new eu),t[ui].queries.push(new Zc(i))}(i,ye(),t)}function Sm(e,t){return e.queries.getByIndex(t)}function aa(...e){}const jm=new Xe("Application Initializer");let la=(()=>{class e{constructor(n){this.appInits=n,this.resolve=aa,this.reject=aa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Xo(s))n.push(s);else if(Tp(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(gt(jm,8))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Gs=new Xe("AppId",{providedIn:"root",factory:function Hm(){return`${lu()}${lu()}${lu()}`}});function lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Um=new Xe("Platform Initializer"),cu=new Xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xi=new Xe("LocaleId",{providedIn:"root",factory:()=>fr(xi,tt.Optional|tt.SkipSelf)||function Cw(){return typeof $localize<"u"&&$localize.locale||Kr}()}),ww=(()=>Promise.resolve(0))();function uu(e){typeof Zone>"u"?ww.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _n{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Pw(){let e=Ot.requestAnimationFrame,t=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Tw(e){const t=()=>{!function Iw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ot,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hu(e),e.isCheckStableRunning=!0,du(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return qm(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),zm(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return qm(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),zm(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,hu(e),du(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new Le(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Mw,aa,aa);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const Mw={};function du(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function qm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zm(e){e._nesting--,du(e)}class Fw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn,this.onMicrotaskEmpty=new sn,this.onStable=new sn,this.onError=new sn}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const Km=new Xe(""),ca=new Xe("");let gu,fu=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gu||(function xw(e){gu=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uu(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(gt(_n),gt(pu),gt(ca))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})(),pu=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return gu?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ri=!1;let Ui=null;const Xm=new Xe("AllowMultipleToken"),mu=new Xe("PlatformDestroyListeners"),Rw=new Xe("appBootstrapListener");function Qm(e,t,n=[]){const i=`Platform: ${t}`,r=new Xe(i);return(s=[])=>{let o=_u();if(!o||o.injector.get(Xm,!1)){const a=[...n,...s,{provide:r,useValue:!0}];e?e(a):function Nw(e){if(Ui&&!Ui.get(Xm,!1))throw new Le(400,!1);Ui=e;const t=e.get(Zm);(function Ym(e){const t=e.get(Um,null);t&&t.forEach(n=>n())})(e)}(function Jm(e=[],t){return Ii.create({name:t,providers:[{provide:ic,useValue:"platform"},{provide:mu,useValue:new Set([()=>Ui=null])},...e]})}(a,i))}return function Vw(e){const t=_u();if(!t)throw new Le(401,!1);return t}()}}function _u(){return Ui?.get(Zm)??null}let Zm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function t_(e,t){let n;return n="noop"===e?new Fw:("zone.js"===e?void 0:e)||new _n(t),n}(i?.ngZone,function e_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:_n,useValue:r}];return r.run(()=>{const o=Ii.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(Rr,null);if(!l)throw new Le(402,!1);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:m=>{l.handleError(m)}});a.onDestroy(()=>{ua(this._modules,a),u.unsubscribe()})}),function n_(e,t,n){try{const i=n();return Xo(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,r,()=>{const u=a.injector.get(la);return u.runInitializers(),u.donePromise.then(()=>(function Mg(e){Hn(e,"Expected localeId to be defined"),"string"==typeof e&&(Pg=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(xi,Kr)||Kr),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,i=[]){const r=i_({},i);return function Ow(e,t,n){const i=new zc(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(vu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Le(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(mu,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(gt(Ii))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function i_(e,t){return Array.isArray(t)?t.reduce(i_,e):{...e,...t}}let vu=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ae(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ae(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{_n.assertNotInAngularZone(),uu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{_n.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function Vy(...e){const t=Ed(e),n=function Fy(e,t){return"number"==typeof Ha(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?ht(i[0]):function dr(e=1/0){return yi(Te,e)}(n)(Ua(i,t)):Li}(s,o.pipe(function Gy(e={}){const{connector:t=(()=>new v),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,u=0,m=!1,E=!1;const j=()=>{a?.unsubscribe(),a=void 0},X=()=>{j(),o=l=void 0,m=E=!1},ie=()=>{const pe=o;X(),pe?.unsubscribe()};return z((pe,Ee)=>{u++,!E&&!m&&j();const be=l=l??t();Ee.add(()=>{u--,0===u&&!E&&!m&&(a=Wa(ie,r))}),be.subscribe(Ee),!o&&u>0&&(o=new J({next:Ge=>be.next(Ge),error:Ge=>{E=!0,j(),a=Wa(X,n,Ge),be.error(Ge)},complete:()=>{m=!0,j(),a=Wa(X,i),be.complete()}}),ht(pe).subscribe(o))})(s)}}()))}bootstrap(n,i){const r=n instanceof xf;if(!this._injector.get(la).done){!r&&function os(e){const t=wt(e)||hn(e)||Pn(e);return null!==t&&t.standalone}(n);throw new Le(405,Ri)}let o;o=r?n:this._injector.get(Lo).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function kw(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Xr),u=o.create(Ii.NULL,[],i||o.selector,a),m=u.location.nativeElement,E=u.injector.get(Km,null);return E?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),ua(this.components,u),E?.unregisterApplication(m)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;ua(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Rw,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ua(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(gt(_n),gt(tr),gt(Rr))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ua(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let yu=(()=>{class e{}return e.__NG_ELEMENT_ID__=Bw,e})();function Bw(e){return function jw(e,t,n){if(us(e)&&!n){const i=Mn(e.index,t);return new Ps(i,i)}return 47&e.type?new Ps(t[pn],t):null}(un(),ye(),16==(16&e))}class l_{constructor(){}supports(t){return zo(t)}create(t){return new zw(t)}}const qw=(e,t)=>t;class zw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const o=!i||n&&n.currentIndex<u_(i,r,s)?n:i,a=u_(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,m=l-r;if(u!=m){for(let j=0;j<u;j++){const X=j<s.length?s[j]:s[j]=0,ie=X+j;m<=ie&&ie<u&&(s[j]=X+1)}s[o.previousIndex]=m-u}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!zo(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),i=!0),n=n._next}else r=0,function yE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new Kw(n,i),s,r),t}_verifyReinsertion(t,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new c_),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new c_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Kw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class c_{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new Xw,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u_(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class d_{constructor(){}supports(t){return t instanceof Map||Pc(t)}create(){return new Yw}}class Yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Pc(t)))throw new Le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Qw(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class Qw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function h_(){return new fa([new l_])}let fa=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||h_()),deps:[[e,new wo,new Ao]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new Le(901,!1)}}return e.\u0275prov=bt({token:e,providedIn:"root",factory:h_}),e})();function f_(){return new Bs([new d_])}let Bs=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||f_()),deps:[[e,new wo,new Ao]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Le(901,!1)}}return e.\u0275prov=bt({token:e,providedIn:"root",factory:f_}),e})();const eP=Qm(null,"core",[]);let tP=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(gt(vu))},e.\u0275mod=kn({type:e}),e.\u0275inj=An({}),e})(),Au=null;function Jr(){return Au}class rP{}const vi=new Xe("DocumentToken");function E_(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const ku=/\s+/,D_=[];let A_=(()=>{class e{constructor(n,i,r,s){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=D_,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(ku):D_}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(ku):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,Boolean(n[i]));this._applyStateDiff()}_updateState(n,i){const r=this.stateMap.get(n);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(ku).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(n){return new(n||e)(Ie(fa),Ie(Bs),Ie(Zn),Ie(nr))},e.\u0275dir=ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})(),I_=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new zP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){T_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){T_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(Ie(_i),Ie(Fi))},e.\u0275dir=ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class zP{constructor(){this.$implicit=null,this.ngIf=null}}function T_(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ft(t)}'.`)}let x_=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,s]=n.split("."),o=-1===r.indexOf("-")?void 0:In.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(Ie(Zn),Ie(Bs),Ie(nr))},e.\u0275dir=ot({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Us=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({}),e})();class N_{}class XM extends rP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hu extends XM{static makeCurrent(){!function iP(e){Au||(Au=e)}(new Hu)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function YM(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==n?null:function QM(e){Aa=Aa||document.createElement("a"),Aa.setAttribute("href",e);const t=Aa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return E_(document.cookie,t)}}let Aa,$s=null;const j_=new Xe("TRANSITION_ID"),ZM=[{provide:jm,useFactory:function JM(e,t,n){return()=>{n.get(la).donePromise.then(()=>{const i=Jr(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[j_,vi,Ii],multi:!0}];let tI=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();const wa=new Xe("EventManagerPlugins");let Pa=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(gt(wa),gt(_n))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();class H_{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=Jr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let U_=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,i){const r=this.usageCount;let s=r.get(n)??0;return s+=i,s>0?r.set(n,s):r.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})(),qs=(()=>{class e extends U_{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.forEach(s=>s.remove()),i.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,i){const r=this.doc.createElement("style");r.textContent=i,n.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(gt(vi))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();const Uu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wu=/%COMP%/g,q_=new Xe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function z_(e,t){return t.flat(100).map(n=>n.replace(Wu,e))}function K_(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let $u=(()=>{class e{constructor(n,i,r,s){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new qu(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(n,i);return r instanceof Q_?r.applyToHost(n):r instanceof zu&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case ci.Emulated:s=new Q_(o,a,i,this.appId,l);break;case ci.ShadowDom:return new lI(o,a,n,i);default:s=new zu(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(gt(Pa),gt(qs),gt(Gs),gt(q_))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();class qu{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Uu[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(Y_(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Y_(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=Uu[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=Uu[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(In.DashCase|In.Important)?t.style.setProperty(n,i,r&In.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&In.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,K_(i)):this.eventManager.addEventListener(t,n,K_(i))}}function Y_(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class lI extends qu{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=z_(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zu extends qu{constructor(t,n,i,r,s=i.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=z_(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Q_ extends zu{constructor(t,n,i,r,s){const o=r+"-"+i.id;super(t,n,i,s,o),this.contentAttr=function sI(e){return"_ngcontent-%COMP%".replace(Wu,e)}(o),this.hostAttr=function oI(e){return"_nghost-%COMP%".replace(Wu,e)}(o)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let cI=(()=>{class e extends H_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(gt(vi))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();const J_=["alt","control","meta","shift"],uI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let hI=(()=>{class e extends H_{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),J_.forEach(u=>{const m=i.indexOf(u);m>-1&&(i.splice(m,1),o+=u+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(n,i){let r=uI[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),J_.forEach(o=>{o!==r&&(0,dI[o])(n)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(gt(vi))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();const mI=Qm(eP,"browser",[{provide:cu,useValue:"browser"},{provide:Um,useValue:function fI(){Hu.makeCurrent()},multi:!0},{provide:vi,useFactory:function gI(){return function Q0(e){Kl=e}(document),document},deps:[]}]),tv=new Xe(""),nv=[{provide:ca,useClass:class eI{addToWindow(t){Ot.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(i=>{const r=Ot.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Jr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Km,useClass:fu,deps:[_n,pu,ca]},{provide:fu,useClass:fu,deps:[_n,pu,ca]}],iv=[{provide:ic,useValue:"root"},{provide:Rr,useFactory:function pI(){return new Rr},deps:[]},{provide:wa,useClass:cI,multi:!0,deps:[vi,_n,cu]},{provide:wa,useClass:hI,multi:!0,deps:[vi]},{provide:$u,useClass:$u,deps:[Pa,qs,Gs,q_]},{provide:Of,useExisting:$u},{provide:U_,useExisting:qs},{provide:qs,useClass:qs,deps:[vi]},{provide:Pa,useClass:Pa,deps:[wa,_n]},{provide:N_,useClass:tI,deps:[]},[]];let _I=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Gs,useValue:n.appId},{provide:j_,useExisting:Gs},ZM]}}}return e.\u0275fac=function(n){return new(n||e)(gt(tv,12))},e.\u0275mod=kn({type:e}),e.\u0275inj=An({providers:[...iv,...nv],imports:[Us,tP]}),e})();typeof window<"u"&&window;const{isArray:AI}=Array,{getPrototypeOf:wI,prototype:PI,keys:MI}=Object;const{isArray:FI}=Array;function OI(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function kI(...e){const t=function Ty(e){return h(Ha(e))?e.pop():void 0}(e),{args:n,keys:i}=function II(e){if(1===e.length){const t=e[0];if(AI(t))return{args:t,keys:null};if(function TI(e){return e&&"object"==typeof e&&wI(e)===PI}(t)){const n=MI(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e),r=new Ae(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let m=0;m<o;m++){let E=!1;ht(n[m]).subscribe(K(s,j=>{E||(E=!0,u--),a[m]=j},()=>l--,void 0,()=>{(!l||!E)&&(u||s.next(i?OI(i,a):a),s.complete())}))}});return t?r.pipe(function RI(e){return d(t=>function xI(e,t){return FI(t)?e(...t):e(t)}(e,t))}(t)):r}const oi=new Xe("NgValueAccessor"),BI=!1;function _v(e){return null!=e}function vv(e){const t=Xo(e)?Ua(e):e;if(BI&&!Tp(t)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new Le(-1101,n)}return t}function yv(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function bv(e,t){return t.map(n=>n(e))}function Cv(e){return e.map(t=>function HI(e){return!e.validate}(t)?t:n=>t.validate(n))}function Qu(e){return null!=e?function Sv(e){if(!e)return null;const t=e.filter(_v);return 0==t.length?null:function(n){return yv(bv(n,t))}}(Cv(e)):null}function Ju(e){return null!=e?function Ev(e){if(!e)return null;const t=e.filter(_v);return 0==t.length?null:function(n){return kI(bv(n,t).map(vv)).pipe(d(yv))}}(Cv(e)):null}class Iv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qu(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ju(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ki extends Iv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const es=new Xe("CallSetDisabledState",{providedIn:"root",factory:()=>Ra}),Ra="always";let qv=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({}),e})(),NT=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({imports:[qv]}),e})(),VT=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:es,useValue:n.callSetDisabledState??Ra}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({imports:[NT]}),e})();const GT=["rb"],BT=function(e,t,n){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":e,"p-disabled":t,"p-radiobutton-label-focus":n}};function jT(e,t){if(1&e){const n=xc();Jt(0,"label",4),Fn("click",function(r){return ol(n),al(Rc().select(r))}),jn(1),qt()}if(2&e){const n=Rc(),i=Mc(3);Jo(n.labelStyleClass),rr("ngClass",ra(5,BT,i.checked,n.disabled,n.focused)),zn("for",n.inputId),As(1),Gc(n.label)}}const HT=function(e,t,n){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":e,"p-radiobutton-disabled":t,"p-radiobutton-focused":n}},UT=function(e,t,n){return{"p-radiobutton-box":!0,"p-highlight":e,"p-disabled":t,"p-focus":n}},WT={provide:oi,useExisting:Tt(()=>qT),multi:!0};let $T=(()=>{class e{constructor(){this.accessors=[]}add(n,i){this.accessors.push([n,i])}remove(n){this.accessors=this.accessors.filter(i=>i[1]!==n)}select(n){this.accessors.forEach(i=>{this.isSameGroup(i,n)&&i[1]!==n&&i[1].writeValue(n.value)})}isSameGroup(n,i){return!!n[0].control&&n[0].control.root===i.control.control.root&&n[1].name===i.name}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qT=(()=>{class e{constructor(n,i,r){this.cd=n,this.injector=i,this.registry=r,this.onClick=new sn,this.onFocus=new sn,this.onBlur=new sn,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(ki),this.checkName(),this.registry.add(this.control,this)}handleClick(n,i,r){n.preventDefault(),!this.disabled&&(this.select(n),r&&i.focus())}select(n){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:n,value:this.value}))}writeValue(n){this.checked=n==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}onInputFocus(n){this.focused=!0,this.onFocus.emit(n)}onInputBlur(n){this.focused=!1,this.onModelTouched(),this.onBlur.emit(n)}onChange(n){this.select(n)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return e.\u0275fac=function(n){return new(n||e)(Ie(yu),Ie(Ii),Ie($T))},e.\u0275cmp=pr({type:e,selectors:[["p-radioButton"]],viewQuery:function(n,i){if(1&n&&vm(GT,5),2&n){let r;_m(r=function ym(){return function ZA(e,t){return e[ui].queries[t].queryList}(ye(),nh())}())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Nt([WT])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(n,i){if(1&n){const r=xc();Jt(0,"div",0)(1,"div",1)(2,"input",2,3),Fn("change",function(o){return i.onChange(o)})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),qt()(),Jt(4,"div",4),Fn("click",function(o){ol(r);const a=Mc(3);return al(i.handleClick(o,a,!0))}),ji(5,"span",5),qt()(),function Pp(e,t,n,i,r,s,o,a){const l=ye(),u=vt(),m=e+kt,E=u.firstCreatePass?function SE(e,t,n,i,r,s,o,a,l){const u=t.consts,m=Nr(t,e,4,o||null,Gi(u,a));bc(t,n,m,Gi(u,l)),go(t,m);const E=m.tView=yc(2,m,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,m),E.queries=t.queries.embeddedTView(m)),m}(m,u,l,t,n,i,r,s,o):u.data[m];di(E,!1);const j=l[ft].createComment("");To(u,l,j,E),gn(j,l),Ho(l,l[m]=ap(j,l,j,E)),ho(E)&&_c(u,l,E),null!=o&&vc(l,E,a)}(6,jT,2,9,"label",6)}2&n&&(Jo(i.styleClass),rr("ngStyle",i.style)("ngClass",ra(15,HT,i.checked,i.disabled,i.focused)),As(2),rr("checked",i.checked)("disabled",i.disabled),zn("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),As(2),rr("ngClass",ra(19,UT,i.checked,i.disabled,i.focused)),As(2),rr("ngIf",i.label))},dependencies:[A_,I_,x_],encapsulation:2,changeDetection:0}),e})(),zT=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({imports:[Us]}),e})();function uy(e,t,n,i,r,s,o){try{var a=e[s](o),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(i,r)}var dy=T(36);let XT=(()=>{class e{constructor(){dy.GlobalWorkerOptions.workerSrc="../assets/pdf.worker.js"}readPdf(n){return function KT(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var s=e.apply(t,n);function o(l){uy(s,i,r,o,a,"next",l)}function a(l){uy(s,i,r,o,a,"throw",l)}o(void 0)})}}(function*(){const i=yield dy.getDocument(n).promise,r=[];for(let o=1;o<=i._pdfInfo.numPages;o++){const l=yield(yield i.getPage(o)).getTextContent();r.push(l.items.map(u=>u.str).join(""))}return(yield Promise.all(r)).join("")})()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Va{}class _d{}class Ni{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=n.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(n,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ni?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Ni;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ni?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class ZT{encodeKey(t){return hy(t)}encodeValue(t){return hy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const tF=/%(\d[a-f0-9])/gi,nF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hy(e){return encodeURIComponent(e).replace(tF,(t,n)=>nF[n]??t)}function Ga(e){return`${e}`}class zi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ZT,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eF(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n],r=Array.isArray(i)?i.map(Ga):[Ga(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new zi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Ga(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Ga(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class iF{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function fy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function py(e){return typeof Blob<"u"&&e instanceof Blob}function gy(e){return typeof FormData<"u"&&e instanceof FormData}class Qs{constructor(t,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function rF(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ni),this.context||(this.context=new iF),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new zi,this.urlWithParams=n}serializeBody(){return null===this.body?null:fy(this.body)||py(this.body)||gy(this.body)||function sF(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gy(this.body)?null:py(this.body)?this.body.type||null:fy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((E,j)=>E.set(j,t.setHeaders[j]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((E,j)=>E.set(j,t.setParams[j]),u)),new Qs(n,i,s,{params:u,headers:l,context:m,reportProgress:a,responseType:r,withCredentials:o})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class vd{constructor(t,n=200,i="OK"){this.headers=t.headers||new Ni,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class yd extends vd{constructor(t={}){super(t),this.type=tn.ResponseHeader}clone(t={}){return new yd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ba extends vd{constructor(t={}){super(t),this.type=tn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ba({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class my extends vd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function bd(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let _y=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof Qs)s=n;else{let l,u;l=r.headers instanceof Ni?r.headers:new Ni(r.headers),r.params&&(u=r.params instanceof zi?r.params:new zi({fromObject:r.params})),s=new Qs(n,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=function YT(...e){return Ua(e,Ed(e))}(s).pipe(function QT(e,t){return h(t)?yi(e,t,1):yi(e,1)}(l=>this.handler.handle(l)));if(n instanceof Qs||"events"===r.observe)return o;const a=o.pipe(function JT(e,t){return z((n,i)=>{let r=0;n.subscribe(K(i,s=>e.call(t,s,r++)&&i.next(s)))})}(l=>l instanceof Ba));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(d(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(d(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(d(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(d(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new zi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,bd(r,i))}post(n,i,r={}){return this.request("POST",n,bd(r,i))}put(n,i,r={}){return this.request("PUT",n,bd(r,i))}}return e.\u0275fac=function(n){return new(n||e)(gt(Va))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();function vy(e,t){return t(e)}function oF(e,t){return(n,i)=>t.intercept(n,{handle:r=>e(r,i)})}const lF=new Xe("HTTP_INTERCEPTORS"),Js=new Xe("HTTP_INTERCEPTOR_FNS");function cF(){let e=null;return(t,n)=>(null===e&&(e=(fr(lF,{optional:!0})??[]).reduceRight(oF,vy)),e(t,n))}let yy=(()=>{class e extends Va{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Js)));this.chain=i.reduceRight((r,s)=>function aF(e,t,n){return(i,r)=>n.runInContext(()=>t(i,s=>e(s,r)))}(r,s,this.injector),vy)}return this.chain(n,i=>this.backend.handle(i))}}return e.\u0275fac=function(n){return new(n||e)(gt(_d),gt(tr))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();const fF=/^\)\]\}',?\n/;let Cy=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ae(i=>{const r=this.xhrFactory.build();if(r.open(n.method,n.urlWithParams),n.withCredentials&&(r.withCredentials=!0),n.headers.forEach((X,ie)=>r.setRequestHeader(X,ie.join(","))),n.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const X=n.detectContentTypeHeader();null!==X&&r.setRequestHeader("Content-Type",X)}if(n.responseType){const X=n.responseType.toLowerCase();r.responseType="json"!==X?X:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const X=r.statusText||"OK",ie=new Ni(r.getAllResponseHeaders()),pe=function pF(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||n.url;return o=new yd({headers:ie,status:r.status,statusText:X,url:pe}),o},l=()=>{let{headers:X,status:ie,statusText:pe,url:Ee}=a(),be=null;204!==ie&&(be=typeof r.response>"u"?r.responseText:r.response),0===ie&&(ie=be?200:0);let Ge=ie>=200&&ie<300;if("json"===n.responseType&&"string"==typeof be){const ve=be;be=be.replace(fF,"");try{be=""!==be?JSON.parse(be):null}catch(ze){be=ve,Ge&&(Ge=!1,be={error:ze,text:be})}}Ge?(i.next(new Ba({body:be,headers:X,status:ie,statusText:pe,url:Ee||void 0})),i.complete()):i.error(new my({error:be,headers:X,status:ie,statusText:pe,url:Ee||void 0}))},u=X=>{const{url:ie}=a(),pe=new my({error:X,status:r.status||0,statusText:r.statusText||"Unknown Error",url:ie||void 0});i.error(pe)};let m=!1;const E=X=>{m||(i.next(a()),m=!0);let ie={type:tn.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(ie.total=X.total),"text"===n.responseType&&r.responseText&&(ie.partialText=r.responseText),i.next(ie)},j=X=>{let ie={type:tn.UploadProgress,loaded:X.loaded};X.lengthComputable&&(ie.total=X.total),i.next(ie)};return r.addEventListener("load",l),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),n.reportProgress&&(r.addEventListener("progress",E),null!==s&&r.upload&&r.upload.addEventListener("progress",j)),r.send(s),i.next({type:tn.Sent}),()=>{r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",l),r.removeEventListener("timeout",u),n.reportProgress&&(r.removeEventListener("progress",E),null!==s&&r.upload&&r.upload.removeEventListener("progress",j)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(gt(N_))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();const Cd=new Xe("XSRF_ENABLED"),Sy=new Xe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ey=new Xe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dy{}let _F=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=E_(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(gt(vi),gt(cu),gt(Sy))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})();function vF(e,t){const n=e.url.toLowerCase();if(!fr(Cd)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const i=fr(Dy).getToken(),r=fr(Ey);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var Xt=(()=>((Xt=Xt||{})[Xt.Interceptors=0]="Interceptors",Xt[Xt.LegacyInterceptors=1]="LegacyInterceptors",Xt[Xt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Xt[Xt.NoXsrfProtection=3]="NoXsrfProtection",Xt[Xt.JsonpSupport=4]="JsonpSupport",Xt[Xt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Xt))();function ts(e,t){return{\u0275kind:e,\u0275providers:t}}function yF(...e){const t=[_y,Cy,yy,{provide:Va,useExisting:yy},{provide:_d,useExisting:Cy},{provide:Js,useValue:vF,multi:!0},{provide:Cd,useValue:!0},{provide:Dy,useClass:_F}];for(const n of e)t.push(...n.\u0275providers);return function CC(e){return{\u0275providers:e}}(t)}const Ay=new Xe("LEGACY_INTERCEPTOR_FN");let CF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({providers:[yF(ts(Xt.LegacyInterceptors,[{provide:Ay,useFactory:cF},{provide:Js,useExisting:Ay,multi:!0}]))]}),e})(),SF=(()=>{class e{constructor(n,i){this.pdfReader=n,this.http=i,this.pdfParsedText="",this.qArray=[]}ngOnInit(){this.http.get("../../assets/placement_test.txt",{responseType:"text"}).subscribe(n=>{this.pdfParsedText=n,this.qArray=this.pdfParsedText.split("|"),console.log(this.qArray)})}}return e.\u0275fac=function(n){return new(n||e)(Ie(XT),Ie(_y))},e.\u0275cmp=pr({type:e,selectors:[["app-placement-test"]],decls:0,vars:0,template:function(n,i){}}),e})(),EF=(()=>{class e{constructor(){this.title="EngGame"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=pr({type:e,selectors:[["app-root"]],decls:33,vars:0,consts:[[1,""],[1,"logo","flex","justify-content-start","w-full","mb-2","mt-2"],["src","../assets/book_logo.png","alt","","width","200","height","100"],[1,"title","absolute","top-0",2,"width","280px","height","50px","margin","0"],[1,"flex","justify-content-end"],[1,"main","row"],[1,"card","flex","flex-wrap","justify-content-center"],[1,"flex","flex-wrap","align-items-center","justify-content-center","w-full"],[1,"flex","align-items-center",2,"height","100px"],[1,"startBtn"]],template:function(n,i){1&n&&(Jt(0,"div",0)(1,"header",0)(2,"div",1),ji(3,"img",2),qt(),Jt(4,"div",3)(5,"h1"),jn(6,"English"),qt(),Jt(7,"h5",4),jn(8,"level test"),qt()()(),Jt(9,"div",5)(10,"div",6)(11,"p"),jn(12,"\u041a\u0430\u043a \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u0442\u0435\u0441\u0442"),qt(),ji(13,"br"),Jt(14,"p"),jn(15,"1. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt(),Jt(16,"p"),jn(17,"2. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt(),Jt(18,"p"),jn(19,"3. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt(),Jt(20,"p"),jn(21,"3. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt(),Jt(22,"p"),jn(23,"3. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt(),Jt(24,"p"),jn(25,"3. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt(),Jt(26,"p"),jn(27,"5. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quas provident cumque quibusdam accusantium tenetur tempore quo minus, placeat perferendis illum inventore aliquam et repellat maiores qui alias commodi cum sint ratione repellendus quae. Optio esse sapiente quibusdam blanditiis dolores laboriosam?"),qt()(),ji(28,"app-placement-test"),qt(),Jt(29,"footer",7)(30,"div",8)(31,"button",9),jn(32,"Start"),qt()()()())},dependencies:[SF],styles:['h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0}.main[_ngcontent-%COMP%]{background-color:#e2ba06;opacity:.5;min-height:calc(100vh - 280px);padding-bottom:50px;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;overflow:auto}header[_ngcontent-%COMP%]{position:sticky;height:120px;top:0;left:0;z-index:100;align-items:center;justify-content:center;width:100%;flex-wrap:wrap;display:flex;background-color:#f8f5f0;box-shadow:0 0 20px #b1b1b1}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:900;font-family:"Noto Serif Display",serif;font-size:70px;color:#062949;text-shadow:2px 5px 15px rgb(113,113,113)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;top:75px;left:139px;font-weight:600;font-family:Yeseva One,cursive;font-size:28px;color:#fce61f;text-shadow:2px 5px 15px rgb(113,113,113)}footer[_ngcontent-%COMP%]{background-color:#f8f5f0;position:sticky;left:0;bottom:0;width:100%;height:150px;box-shadow:0 0 20px #b1b1b1}footer[_ngcontent-%COMP%]   .startBtn[_ngcontent-%COMP%]{font-weight:600;font-family:Yeseva One,cursive;width:120px;height:50px;font-size:24px;border-radius:7px;color:#f0f8ff;background-color:#062949;box-shadow:0 6px 15px 5px #b1b1b1}.card[_ngcontent-%COMP%]{margin-top:20px;padding:30px;width:70%;min-height:50%;background-color:#f5ddbd}@media only screen and (max-device-width: 480px){.card[_ngcontent-%COMP%]{width:90%}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;top:75px;left:120px;color:#fce61f}}']}),e})(),wy=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({imports:[Us]}),e})(),DF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({imports:[Us]}),e})();class Sd{static equals(t,n,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(n,i):this.equalsByValue(t,n)}static equalsByValue(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,o,a,i=Array.isArray(t),r=Array.isArray(n);if(i&&r){if((o=t.length)!=n.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],n[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(t),u=this.isDate(n);if(l!=u)return!1;if(l&&u)return t.getTime()==n.getTime();var m=t instanceof RegExp,E=n instanceof RegExp;if(m!=E)return!1;if(m&&E)return t.toString()==n.toString();var j=Object.keys(t);if((o=j.length)!==Object.keys(n).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,j[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=j[s]],n[a]))return!1;return!0}return t!=t&&n!=n}static resolveFieldData(t,n){if(t&&n){if(this.isFunction(n))return n(t);if(-1==n.indexOf("."))return t[n];{let i=n.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,n,i){t&&n!==i&&(i>=t.length&&(i%=t.length,n%=t.length),t.splice(i,0,t.splice(n,1)[0]))}static insertIntoOrderedArray(t,n,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>n){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,n){let i=-1;if(n)for(let r=0;r<n.length;r++)if(n[r]==t){i=r;break}return i}static contains(t,n){if(null!=t&&n&&n.length)for(let i of n)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,n,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(n);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof n?t.localeCompare(n,i,{numeric:!0}):t<n?-1:t>n?1:0,s}static sort(t,n,i=1,r,s=1){return(1===s?i:s)*Sd.compare(t,n,r,i)}static merge(t,n){if(null!=t||null!=n)return null!=t&&"object"!=typeof t||null!=n&&"object"!=typeof n?null!=t&&"string"!=typeof t||null!=n&&"string"!=typeof n?n||t:[t||"",n||""].join(" "):{...t||{},...n||{}}}}!function AF(){let e=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0}();const wF=["*"];let PF=(()=>{class e{constructor(){this.spin=!1}ngOnInit(){this.getAttributes()}getAttributes(){const n=Sd.isEmpty(this.label);this.role=n?void 0:"img",this.ariaLabel=n?void 0:this.label,this.ariaHidden=n}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=pr({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[Kc],ngContentSelectors:wF,decls:1,vars:0,template:function(n,i){1&n&&(function kp(e){const t=ye()[pn][fn];if(!t.projection){const i=t.projection=ms(e?e.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=e?PE(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),function Np(e,t=0,n){const i=ye(),r=vt(),s=Nr(r,kt+e,16,null,n||null);null===s.projection&&(s.projection=t),cl(),32!=(32&s.flags)&&function W0(e,t,n){of(t[ft],0,t,n,Yh(e,n,t),ef(n.parent||t[fn],n,t))}(r,i,s)}(0))},encapsulation:2,changeDetection:0}),e})(),MF=(()=>{class e extends PF{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=function dn(e){return bi(()=>{const t=e.prototype.constructor,n=t[Si]||Sl(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Si]||Sl(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(e)))(i||e)}}(),e.\u0275cmp=pr({type:e,selectors:[["SpinnerIcon"]],standalone:!0,features:[Pt,Kc],decls:6,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_417_21408)"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],["id","clip0_417_21408"],["width","14","height","14","fill","white"]],template:function(n,i){1&n&&(function lh(){at.lFrame.currentNamespace=qd}(),Jt(0,"svg",0)(1,"g",1),ji(2,"path",2),qt(),Jt(3,"defs")(4,"clipPath",3),ji(5,"rect",4),qt()()()),2&n&&(Jo(i.getClassNames()),zn("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2}),e})(),GF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=An({imports:[Us,DF,wy,MF,wy]}),e})(),BF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=kn({type:e,bootstrap:[EF]}),e.\u0275inj=An({imports:[_I,VT,zT,CF,GF]}),e})();mI().bootstrapModule(BF).catch(e=>console.error(e))},36:(module,__unused_webpack_exports,__webpack_require__)=>{var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classStaticPrivateFieldSpecSet=__webpack_require__(306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(280).default,_asyncToGenerator=__webpack_require__(156).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldGet=__webpack_require__(468).default,_classPrivateFieldSet=__webpack_require__(661).default,T;globalThis,T=()=>(()=>{"use strict";var __webpack_modules__=[,(I,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.VerbosityLevel=c.Util=c.UnknownErrorException=c.UnexpectedResponseException=c.TextRenderingMode=c.RenderingIntentFlag=c.PromiseCapability=c.PermissionFlag=c.PasswordResponses=c.PasswordException=c.PageActionEventType=c.OPS=c.MissingPDFException=c.MAX_IMAGE_SIZE_TO_CACHE=c.LINE_FACTOR=c.LINE_DESCENT_FACTOR=c.InvalidPDFException=c.ImageKind=c.IDENTITY_MATRIX=c.FormatError=c.FeatureTest=c.FONT_IDENTITY_MATRIX=c.DocumentActionEventType=c.CMapCompressionType=c.BaseException=c.BASELINE_FACTOR=c.AnnotationType=c.AnnotationStateModelType=c.AnnotationReviewState=c.AnnotationReplyType=c.AnnotationMode=c.AnnotationMarkedState=c.AnnotationFlag=c.AnnotationFieldFlag=c.AnnotationEditorType=c.AnnotationEditorPrefix=c.AnnotationEditorParamsType=c.AnnotationBorderStyleType=c.AnnotationActionEventType=c.AbortException=void 0,c.assert=function $e(me,re){me||ke(re)},c.bytesToString=function b(me){("object"!=typeof me||void 0===me?.length)&&ke("Invalid argument for bytesToString");const re=me.length;if(re<8192)return String.fromCharCode.apply(null,me);const Ne=[];for(let _t=0;_t<re;_t+=8192){const Rt=Math.min(_t+8192,re),Bt=me.subarray(_t,Rt);Ne.push(String.fromCharCode.apply(null,Bt))}return Ne.join("")},c.createValidAbsoluteUrl=function ee(me,re=null,oe=null){if(!me)return null;try{if(oe&&"string"==typeof me&&(oe.addDefaultProtocol&&me.startsWith("www.")&&me.match(/\./g)?.length>=2&&(me=`http://${me}`),oe.tryConvertEncoding))try{me=Fe(me)}catch{}const Ne=re?new URL(me,re):new URL(me);if(function qe(me){switch(me?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Ne))return Ne}catch{}return null},c.getModificationDate=function ae(me=new Date){return[me.getUTCFullYear().toString(),(me.getUTCMonth()+1).toString().padStart(2,"0"),me.getUTCDate().toString().padStart(2,"0"),me.getUTCHours().toString().padStart(2,"0"),me.getUTCMinutes().toString().padStart(2,"0"),me.getUTCSeconds().toString().padStart(2,"0")].join("")},c.getVerbosityLevel=function Be(){return we},c.info=function Ce(me){we>=B.INFOS&&console.log(`Info: ${me}`)},c.isArrayBuffer=function et(me){return"object"==typeof me&&void 0!==me?.byteLength},c.isArrayEqual=function We(me,re){if(me.length!==re.length)return!1;for(let oe=0,Ne=me.length;oe<Ne;oe++)if(me[oe]!==re[oe])return!1;return!0},c.normalizeUnicode=function Mt(me){return ct||(ct=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Lt=new Map([["\ufb05","\u017ft"]])),me.replaceAll(ct,(re,oe,Ne)=>oe?oe.normalize("NFKC"):Lt.get(Ne))},c.objectFromMap=function ne(me){const re=Object.create(null);for(const[oe,Ne]of me)re[oe]=Ne;return re},c.objectSize=function Q(me){return Object.keys(me).length},c.setVerbosityLevel=function Te(me){Number.isInteger(me)&&(we=me)},c.shadow=v,c.string32=function H(me){return String.fromCharCode(me>>24&255,me>>16&255,me>>8&255,255&me)},c.stringToBytes=A,c.stringToPDFString=function Re(me){if(me[0]>="\xef"){let oe;if("\xfe"===me[0]&&"\xff"===me[1]?oe="utf-16be":"\xff"===me[0]&&"\xfe"===me[1]?oe="utf-16le":"\xef"===me[0]&&"\xbb"===me[1]&&"\xbf"===me[2]&&(oe="utf-8"),oe)try{const Ne=new TextDecoder(oe,{fatal:!0}),_t=A(me);return Ne.decode(_t)}catch(Ne){Ae(`stringToPDFString: "${Ne}".`)}}const re=[];for(let oe=0,Ne=me.length;oe<Ne;oe++){const _t=_e[me.charCodeAt(oe)];re.push(_t?String.fromCharCode(_t):me.charAt(oe))}return re.join("")},c.stringToUTF8String=Fe,c.unreachable=ke,c.utf8StringToString=function Ue(me){return unescape(encodeURIComponent(me))},c.warn=Ae,c.IDENTITY_MATRIX=[1,0,0,1,0,0],c.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],c.MAX_IMAGE_SIZE_TO_CACHE=1e7,c.LINE_FACTOR=1.35,c.LINE_DESCENT_FACTOR=.35,c.BASELINE_FACTOR=.25925925925925924,c.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},c.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},c.AnnotationEditorPrefix="pdfjs_internal_editor_",c.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},c.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},c.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},c.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},c.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},c.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},c.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},c.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},c.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},c.AnnotationReplyType={GROUP:"Group",REPLY:"R"},c.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},c.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},c.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},c.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},c.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},c.PageActionEventType={O:"PageOpen",C:"PageClose"};const B={ERRORS:0,WARNINGS:1,INFOS:5};c.VerbosityLevel=B,c.CMapCompressionType={NONE:0,BINARY:1},c.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},c.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let we=B.WARNINGS;function Ae(me){we>=B.WARNINGS&&console.log(`Warning: ${me}`)}function ke(me){throw new Error(me)}function v(me,re,oe,Ne=!1){return Object.defineProperty(me,re,{value:oe,enumerable:!Ne,configurable:!0,writable:!1}),oe}const y=function(){function re(oe,Ne){this.constructor===re&&ke("Cannot initialize BaseException."),this.message=oe,this.name=Ne}return re.prototype=new Error,re.constructor=re,re}();function A(me){"string"!=typeof me&&ke("Invalid argument for stringToBytes");const re=me.length,oe=new Uint8Array(re);for(let Ne=0;Ne<re;++Ne)oe[Ne]=255&me.charCodeAt(Ne);return oe}c.BaseException=y,c.PasswordException=class x extends y{constructor(re,oe){super(re,"PasswordException"),this.code=oe}},c.UnknownErrorException=class z extends y{constructor(re,oe){super(re,"UnknownErrorException"),this.details=oe}},c.InvalidPDFException=class K extends y{constructor(re){super(re,"InvalidPDFException")}},c.MissingPDFException=class $ extends y{constructor(re){super(re,"MissingPDFException")}},c.UnexpectedResponseException=class d extends y{constructor(re,oe){super(re,"UnexpectedResponseException"),this.status=oe}},c.FormatError=class f extends y{constructor(re){super(re,"FormatError")}},c.AbortException=class g extends y{constructor(re){super(re,"AbortException")}},c.FeatureTest=class se{static get isLittleEndian(){return v(this,"isLittleEndian",function ue(){const me=new Uint8Array(4);return me[0]=1,1===new Uint32Array(me.buffer,0,1)[0]}())}static get isEvalSupported(){return v(this,"isEvalSupported",function he(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return v(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?v(this,"platform",{isWin:!1,isMac:!1}):v(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const le=[...Array(256).keys()].map(me=>me.toString(16).padStart(2,"0"));class fe{static makeHexColor(re,oe,Ne){return`#${le[re]}${le[oe]}${le[Ne]}`}static scaleMinMax(re,oe){let Ne;re[0]?(re[0]<0&&(Ne=oe[0],oe[0]=oe[1],oe[1]=Ne),oe[0]*=re[0],oe[1]*=re[0],re[3]<0&&(Ne=oe[2],oe[2]=oe[3],oe[3]=Ne),oe[2]*=re[3],oe[3]*=re[3]):(Ne=oe[0],oe[0]=oe[2],oe[2]=Ne,Ne=oe[1],oe[1]=oe[3],oe[3]=Ne,re[1]<0&&(Ne=oe[2],oe[2]=oe[3],oe[3]=Ne),oe[2]*=re[1],oe[3]*=re[1],re[2]<0&&(Ne=oe[0],oe[0]=oe[1],oe[1]=Ne),oe[0]*=re[2],oe[1]*=re[2]),oe[0]+=re[4],oe[1]+=re[4],oe[2]+=re[5],oe[3]+=re[5]}static transform(re,oe){return[re[0]*oe[0]+re[2]*oe[1],re[1]*oe[0]+re[3]*oe[1],re[0]*oe[2]+re[2]*oe[3],re[1]*oe[2]+re[3]*oe[3],re[0]*oe[4]+re[2]*oe[5]+re[4],re[1]*oe[4]+re[3]*oe[5]+re[5]]}static applyTransform(re,oe){return[re[0]*oe[0]+re[1]*oe[2]+oe[4],re[0]*oe[1]+re[1]*oe[3]+oe[5]]}static applyInverseTransform(re,oe){const Ne=oe[0]*oe[3]-oe[1]*oe[2];return[(re[0]*oe[3]-re[1]*oe[2]+oe[2]*oe[5]-oe[4]*oe[3])/Ne,(-re[0]*oe[1]+re[1]*oe[0]+oe[4]*oe[1]-oe[5]*oe[0])/Ne]}static getAxialAlignedBoundingBox(re,oe){const Ne=fe.applyTransform(re,oe),_t=fe.applyTransform(re.slice(2,4),oe),Rt=fe.applyTransform([re[0],re[3]],oe),Bt=fe.applyTransform([re[2],re[1]],oe);return[Math.min(Ne[0],_t[0],Rt[0],Bt[0]),Math.min(Ne[1],_t[1],Rt[1],Bt[1]),Math.max(Ne[0],_t[0],Rt[0],Bt[0]),Math.max(Ne[1],_t[1],Rt[1],Bt[1])]}static inverseTransform(re){const oe=re[0]*re[3]-re[1]*re[2];return[re[3]/oe,-re[1]/oe,-re[2]/oe,re[0]/oe,(re[2]*re[5]-re[4]*re[3])/oe,(re[4]*re[1]-re[5]*re[0])/oe]}static singularValueDecompose2dScale(re){const oe=[re[0],re[2],re[1],re[3]],Ne=re[0]*oe[0]+re[1]*oe[2],Bt=re[2]*oe[1]+re[3]*oe[3],De=(Ne+Bt)/2,de=Math.sqrt((Ne+Bt)**2-4*(Ne*Bt-(re[2]*oe[0]+re[3]*oe[2])*(re[0]*oe[1]+re[1]*oe[3])))/2,Oe=De-de||1;return[Math.sqrt(De+de||1),Math.sqrt(Oe)]}static normalizeRect(re){const oe=re.slice(0);return re[0]>re[2]&&(oe[0]=re[2],oe[2]=re[0]),re[1]>re[3]&&(oe[1]=re[3],oe[3]=re[1]),oe}static intersect(re,oe){const Ne=Math.max(Math.min(re[0],re[2]),Math.min(oe[0],oe[2])),_t=Math.min(Math.max(re[0],re[2]),Math.max(oe[0],oe[2]));if(Ne>_t)return null;const Rt=Math.max(Math.min(re[1],re[3]),Math.min(oe[1],oe[3])),Bt=Math.min(Math.max(re[1],re[3]),Math.max(oe[1],oe[3]));return Rt>Bt?null:[Ne,Rt,_t,Bt]}static bezierBoundingBox(re,oe,Ne,_t,Rt,Bt,De,de){const Pe=[],Oe=[[],[]];let xe,Je,rt,He,nt,it,yt,ht;for(let Wt=0;Wt<2;++Wt)if(0===Wt?(Je=6*re-12*Ne+6*Rt,xe=-3*re+9*Ne-9*Rt+3*De,rt=3*Ne-3*re):(Je=6*oe-12*_t+6*Bt,xe=-3*oe+9*_t-9*Bt+3*de,rt=3*_t-3*oe),Math.abs(xe)<1e-12){if(Math.abs(Je)<1e-12)continue;He=-rt/Je,0<He&&He<1&&Pe.push(He)}else yt=Je*Je-4*rt*xe,ht=Math.sqrt(yt),!(yt<0)&&(nt=(-Je+ht)/(2*xe),0<nt&&nt<1&&Pe.push(nt),it=(-Je-ht)/(2*xe),0<it&&it<1&&Pe.push(it));let Et,pt=Pe.length;const Ut=pt;for(;pt--;)He=Pe[pt],Et=1-He,Oe[0][pt]=Et*Et*Et*re+3*Et*Et*He*Ne+3*Et*He*He*Rt+He*He*He*De,Oe[1][pt]=Et*Et*Et*oe+3*Et*Et*He*_t+3*Et*He*He*Bt+He*He*He*de;return Oe[0][Ut]=re,Oe[1][Ut]=oe,Oe[0][Ut+1]=De,Oe[1][Ut+1]=de,Oe[0].length=Oe[1].length=Ut+2,[Math.min(...Oe[0]),Math.min(...Oe[1]),Math.max(...Oe[0]),Math.max(...Oe[1])]}}c.Util=fe;const _e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(me){return decodeURIComponent(escape(me))}var Me=new WeakMap;c.PromiseCapability=class Ke{constructor(){_classPrivateFieldInitSpec(this,Me,{writable:!0,value:!1}),this.promise=new Promise((re,oe)=>{this.resolve=Ne=>{_classPrivateFieldSet(this,Me,!0),re(Ne)},this.reject=Ne=>{_classPrivateFieldSet(this,Me,!0),oe(Ne)}})}get settled(){return _classPrivateFieldGet(this,Me)}};let ct=null,Lt=null},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:I,NodeCMapReaderFactory:c,NodeFilterFactory:T,NodeStandardFontDataFactory:h}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=I,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=c,exports.DefaultFilterFactory=DefaultFilterFactory=T,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=h}if(_is_node.isNodeJS){const{PDFNodeStream:I}=__w_pdfjs_require__(21);createPDFNetworkStream=c=>new I(c)}else{const{PDFNetworkStream:I}=__w_pdfjs_require__(24),{PDFFetchStream:c}=__w_pdfjs_require__(25);createPDFNetworkStream=T=>(0,_display_utils.isValidFetchUrl)(T.url)?new c(T):new I(T)}function getDocument(I){if("string"==typeof I||I instanceof URL?I={url:I}:(0,_util.isArrayBuffer)(I)&&(I={data:I}),"object"!=typeof I)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!I.url&&!I.data&&!I.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const c=new PDFDocumentLoadingTask,{docId:T}=c,h=I.url?getUrlProp(I.url):null,S=I.data?getDataProp(I.data):null,N=I.httpHeaders||null,k=!0===I.withCredentials,Z=I.password??null,te=I.range instanceof PDFDataRangeTransport?I.range:null,M=Number.isInteger(I.rangeChunkSize)&&I.rangeChunkSize>0?I.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let F=I.worker instanceof _PDFWorker?I.worker:null;const W=I.verbosity,Y="string"!=typeof I.docBaseUrl||(0,_display_utils.isDataScheme)(I.docBaseUrl)?null:I.docBaseUrl,P="string"==typeof I.cMapUrl?I.cMapUrl:null,R=!1!==I.cMapPacked,O=I.CMapReaderFactory||DefaultCMapReaderFactory,C="string"==typeof I.standardFontDataUrl?I.standardFontDataUrl:null,w=I.StandardFontDataFactory||DefaultStandardFontDataFactory,G=!0!==I.stopAtErrors,U=Number.isInteger(I.maxImageSize)&&I.maxImageSize>-1?I.maxImageSize:-1,D=!1!==I.isEvalSupported,p="boolean"==typeof I.isOffscreenCanvasSupported?I.isOffscreenCanvasSupported:!_is_node.isNodeJS,_=Number.isInteger(I.canvasMaxAreaInBytes)?I.canvasMaxAreaInBytes:-1,V="boolean"==typeof I.disableFontFace?I.disableFontFace:_is_node.isNodeJS,q=!0===I.fontExtraProperties,L=!0===I.enableXfa,J=I.ownerDocument||globalThis.document,B=!0===I.disableRange,ce=!0===I.disableStream,Se=!0===I.disableAutoFetch,ge=!0===I.pdfBug,we=te?te.length:I.length??NaN,Te="boolean"==typeof I.useSystemFonts?I.useSystemFonts:!_is_node.isNodeJS&&!V,Be="boolean"==typeof I.useWorkerFetch?I.useWorkerFetch:O===_display_utils.DOMCMapReaderFactory&&w===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(P,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(C,document.baseURI),Ce=I.canvasFactory||new DefaultCanvasFactory({ownerDocument:J}),Ae=I.filterFactory||new DefaultFilterFactory({docId:T,ownerDocument:J});(0,_util.setVerbosityLevel)(W);const $e={canvasFactory:Ce,filterFactory:Ae};if(Be||($e.cMapReaderFactory=new O({baseUrl:P,isCompressed:R}),$e.standardFontDataFactory=new w({baseUrl:C})),!F){const v={verbosity:W,port:_worker_options.GlobalWorkerOptions.workerPort};F=v.port?_PDFWorker.fromPort(v):new _PDFWorker(v),c._worker=F}const qe={docId:T,apiVersion:"3.7.107",data:S,password:Z,disableAutoFetch:Se,rangeChunkSize:M,length:we,docBaseUrl:Y,enableXfa:L,evaluatorOptions:{maxImageSize:U,disableFontFace:V,ignoreErrors:G,isEvalSupported:D,isOffscreenCanvasSupported:p,canvasMaxAreaInBytes:_,fontExtraProperties:q,useSystemFonts:Te,cMapUrl:Be?P:null,standardFontDataUrl:Be?C:null}},ee={ignoreErrors:G,isEvalSupported:D,disableFontFace:V,fontExtraProperties:q,enableXfa:L,ownerDocument:J,disableAutoFetch:Se,pdfBug:ge,styleElement:null};return F.promise.then(function(){if(c.destroyed)throw new Error("Loading aborted");const v=_fetchDocument(F,qe),y=new Promise(function(x){let z;te?z=new _transport_stream.PDFDataTransportStream({length:we,initialData:te.initialData,progressiveDone:te.progressiveDone,contentDispositionFilename:te.contentDispositionFilename,disableRange:B,disableStream:ce},te):S||(z=createPDFNetworkStream({url:h,length:we,httpHeaders:N,withCredentials:k,rangeChunkSize:M,disableRange:B,disableStream:ce})),x(z)});return Promise.all([v,y]).then(function([x,z]){if(c.destroyed)throw new Error("Loading aborted");const K=new _message_handler.MessageHandler(T,x,F.port),$=new WorkerTransport(K,c,z,ee,$e);c._transport=$,K.send("Ready",null)})}).catch(c._capability.reject),c}function _fetchDocument(I,c){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(I,c){if(I.destroyed)throw new Error("Worker was destroyed");const T=yield I.messageHandler.sendWithPromise("GetDocRequest",c,c.data?[c.data.buffer]:null);if(I.destroyed)throw new Error("Worker was destroyed");return T})).apply(this,arguments)}function getUrlProp(I){if(I instanceof URL)return I.href;try{return new URL(I,window.location).href}catch{if(_is_node.isNodeJS&&"string"==typeof I)return I}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(I){if(_is_node.isNodeJS&&typeof Buffer<"u"&&I instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(I);if(I instanceof Uint8Array&&I.byteLength===I.buffer.byteLength)return I;if("string"==typeof I)return(0,_util.stringToBytes)(I);if("object"==typeof I&&!isNaN(I?.length)||(0,_util.isArrayBuffer)(I))return new Uint8Array(I);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{constructor(){var c,T;this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(c=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),T=c++,c)),T}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var c=this;return _asyncToGenerator(function*(){c.destroyed=!0,yield c._transport?.destroy(),c._transport=null,c._worker&&(c._worker.destroy(),c._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(c,T,h=!1,S=null){this.length=c,this.initialData=T,this.progressiveDone=h,this.contentDispositionFilename=S,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(c){this._rangeListeners.push(c)}addProgressListener(c){this._progressListeners.push(c)}addProgressiveReadListener(c){this._progressiveReadListeners.push(c)}addProgressiveDoneListener(c){this._progressiveDoneListeners.push(c)}onDataRange(c,T){for(const h of this._rangeListeners)h(c,T)}onDataProgress(c,T){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(c,T)})}onDataProgressiveRead(c){this._readyCapability.promise.then(()=>{for(const T of this._progressiveReadListeners)T(c)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const c of this._progressiveDoneListeners)c()})}transportReady(){this._readyCapability.resolve()}requestDataRange(c,T){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(c,T){this._pdfInfo=c,this._transport=T}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(c){return this._transport.getPage(c)}getPageIndex(c){return this._transport.getPageIndex(c)}getDestinations(){return this._transport.getDestinations()}getDestination(c){return this._transport.getDestination(c)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(c=!1){return this._transport.startCleanup(c||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_tryCleanup=new WeakSet,_abortDelayedCleanup=new WeakSet;class PDFPageProxy{constructor(c,T,h,S=!1){_classPrivateMethodInitSpec(this,_abortDelayedCleanup),_classPrivateMethodInitSpec(this,_tryCleanup),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pendingCleanup,{writable:!0,value:!1}),this._pageIndex=c,this._pageInfo=T,this._transport=h,this._stats=S?new _display_utils.StatTimer:null,this._pdfBug=S,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:c,rotation:T=this.rotate,offsetX:h=0,offsetY:S=0,dontFlip:N=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:c,rotation:T,offsetX:h,offsetY:S,dontFlip:N})}getAnnotations({intent:c="display"}={}){const T=this._transport.getRenderingIntent(c);return this._transport.getAnnotations(this._pageIndex,T.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var c=this;return _asyncToGenerator(function*(){return c._transport._htmlForXfa?.children[c._pageIndex]||null})()}render({canvasContext:c,viewport:T,intent:h="display",annotationMode:S=_util.AnnotationMode.ENABLE,transform:N=null,background:k=null,optionalContentConfigPromise:Z=null,annotationCanvasMap:te=null,pageColors:M=null,printAnnotationStorage:F=null}){if(arguments[0]?.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");this._stats?.time("Overall");const W=this._transport.getRenderingIntent(h,S,F);_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Z||(Z=this._transport.getOptionalContentConfig());let Y=this._intentStates.get(W.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(W.cacheKey,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const P=!!(W.renderingIntent&_util.RenderingIntentFlag.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=new _util.PromiseCapability,Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(W));const R=w=>{Y.renderTasks.delete(O),(this._maybeCleanupAfterRender||P)&&_classPrivateFieldSet(this,_pendingCleanup,!0),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!P),w?(O.capability.reject(w),this._abortOperatorList({intentState:Y,reason:w instanceof Error?w:new Error(w)})):O.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},O=new InternalRenderTask({callback:R,params:{canvasContext:c,viewport:T,transform:N,background:k},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:te,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:M});(Y.renderTasks||=new Set).add(O);const C=O.task;return Promise.all([Y.displayReadyCapability.promise,Z]).then(([w,G])=>{_classPrivateFieldGet(this,_pendingCleanup)?R():(this._stats?.time("Rendering"),O.initializeGraphics({transparency:w,optionalContentConfig:G}),O.operatorListChanged())}).catch(R),C}getOperatorList({intent:c="display",annotationMode:T=_util.AnnotationMode.ENABLE,printAnnotationStorage:h=null}={}){const N=this._transport.getRenderingIntent(c,T,h,!0);let Z,k=this._intentStates.get(N.cacheKey);return k||(k=Object.create(null),this._intentStates.set(N.cacheKey,k)),k.opListReadCapability||(Z=Object.create(null),Z.operatorListChanged=function S(){k.operatorList.lastChunk&&(k.opListReadCapability.resolve(k.operatorList),k.renderTasks.delete(Z))},k.opListReadCapability=new _util.PromiseCapability,(k.renderTasks||=new Set).add(Z),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(N)),k.opListReadCapability.promise}streamTextContent({includeMarkedContent:c=!1,disableNormalization:T=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===c,disableNormalization:!0===T},{highWaterMark:100,size:S=>S.items.length})}getTextContent(c={}){if(this._transport._htmlForXfa)return this.getXfa().then(h=>_xfa_text.XfaText.textContent(h));const T=this.streamTextContent(c);return new Promise(function(h,S){const k=T.getReader(),Z={items:[],styles:Object.create(null)};!function N(){k.read().then(function({value:te,done:M}){M?h(Z):(Object.assign(Z.styles,te.styles),Z.items.push(...te.items),N())},S)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const c=[];for(const T of this._intentStates.values())if(this._abortOperatorList({intentState:T,reason:new Error("Page was destroyed."),force:!0}),!T.opListReadCapability)for(const h of T.renderTasks)c.push(h.completed),h.cancel();return this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Promise.all(c)}cleanup(c=!1){_classPrivateFieldSet(this,_pendingCleanup,!0);const T=_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1);return c&&T&&(this._stats&&=new _display_utils.StatTimer),T}_startRenderPage(c,T){const h=this._intentStates.get(T);h&&(this._stats?.timeEnd("Page Request"),h.displayReadyCapability?.resolve(c))}_renderPageChunk(c,T){for(let h=0,S=c.length;h<S;h++)T.operatorList.fnArray.push(c.fnArray[h]),T.operatorList.argsArray.push(c.argsArray[h]);T.operatorList.lastChunk=c.lastChunk,T.operatorList.separateAnnots=c.separateAnnots;for(const h of T.renderTasks)h.operatorListChanged();c.lastChunk&&_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}_pumpOperatorList({renderingIntent:c,cacheKey:T,annotationStorageMap:h}){const N=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:c,cacheKey:T,annotationStorage:h}).getReader(),k=this._intentStates.get(T);k.streamReader=N;const Z=()=>{N.read().then(({value:te,done:M})=>{M?k.streamReader=null:this._transport.destroyed||(this._renderPageChunk(te,k),Z())},te=>{if(k.streamReader=null,!this._transport.destroyed){if(k.operatorList){k.operatorList.lastChunk=!0;for(const M of k.renderTasks)M.operatorListChanged();_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}if(k.displayReadyCapability)k.displayReadyCapability.reject(te);else{if(!k.opListReadCapability)throw te;k.opListReadCapability.reject(te)}}})};Z()}_abortOperatorList({intentState:c,reason:T,force:h=!1}){if(c.streamReader){if(c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null),!h){if(c.renderTasks.size>0)return;if(T instanceof _display_utils.RenderingCancelledException){let S=RENDERING_CANCELLED_TIMEOUT;return T.extraDelay>0&&T.extraDelay<1e3&&(S+=T.extraDelay),void(c.streamReaderCancelTimeout=setTimeout(()=>{c.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:c,reason:T,force:!0})},S))}}if(c.streamReader.cancel(new _util.AbortException(T.message)).catch(()=>{}),c.streamReader=null,!this._transport.destroyed){for(const[S,N]of this._intentStates)if(N===c){this._intentStates.delete(S);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup2(I=!1){if(_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),!_classPrivateFieldGet(this,_pendingCleanup))return!1;if(I)return _classPrivateFieldSet(this,_delayedCleanupTimeout,setTimeout(()=>{_classPrivateFieldSet(this,_delayedCleanupTimeout,null),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:c,operatorList:T}of this._intentStates.values())if(c.size>0||!T.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),!0}function _abortDelayedCleanup2(){_classPrivateFieldGet(this,_delayedCleanupTimeout)&&(clearTimeout(_classPrivateFieldGet(this,_delayedCleanupTimeout)),_classPrivateFieldSet(this,_delayedCleanupTimeout,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,_deferred,{writable:!0,value:Promise.resolve()})}postMessage(c,T){const h={data:structuredClone(c,T?{transfer:T}:null)};_classPrivateFieldGet(this,_deferred).then(()=>{for(const S of _classPrivateFieldGet(this,_listeners))S.call(this,h)})}addEventListener(c,T){_classPrivateFieldGet(this,_listeners).add(T)}removeEventListener(c,T){_classPrivateFieldGet(this,_listeners).delete(T)}terminate(){_classPrivateFieldGet(this,_listeners).clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const I=document?.currentScript?.src;I&&(PDFWorkerUtil.fallbackWorkerSrc=I.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(I,c){let T;try{if(T=new URL(I),!T.origin||"null"===T.origin)return!1}catch{return!1}const h=new URL(c,T);return T.origin===h.origin},PDFWorkerUtil.createCDNWrapper=function(I){return URL.createObjectURL(new Blob([`importScripts("${I}");`]))};class _PDFWorker{constructor({name:I=null,port:c=null,verbosity:T=(0,_util.getVerbosityLevel)()}={}){if(c&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(c))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=I,this.destroyed=!1,this.verbosity=T,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,c)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(c,this),void this._initializeFromPort(c);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(I){this._port=I,this._messageHandler=new _message_handler.MessageHandler("main","worker",I),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:I}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,I)||(I=PDFWorkerUtil.createCDNWrapper(new URL(I,window.location).href));const c=new Worker(I),T=new _message_handler.MessageHandler("main","worker",c),h=()=>{c.removeEventListener("error",S),T.destroy(),c.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},S=()=>{this._webWorker||h()};c.addEventListener("error",S),T.on("test",k=>{c.removeEventListener("error",S),this.destroyed?h():k?(this._messageHandler=T,this._port=c,this._webWorker=c,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),T.destroy(),c.terminate())}),T.on("ready",k=>{if(c.removeEventListener("error",S),this.destroyed)h();else try{N()}catch{this._setupFakeWorker()}});const N=()=>{const k=new Uint8Array;T.send("test",k,[k.buffer])};return void N()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(I=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const c=new LoopbackPort;this._port=c;const T="fake"+PDFWorkerUtil.fakeWorkerId++,h=new _message_handler.MessageHandler(T+"_worker",T,c);I.setup(h,c);const S=new _message_handler.MessageHandler(T,T+"_worker",c);this._messageHandler=S,this._readyCapability.resolve(),S.send("configure",{verbosity:this.verbosity})}).catch(I=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${I.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(I){if(!I?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(I.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(I.port):new _PDFWorker(I)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this3=this;const loader=function(){var _ref=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this3._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this3.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this3.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function I(){return _ref.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_cacheSimpleMethod=new WeakSet;class WorkerTransport{constructor(c,T,h,S,N){_classPrivateMethodInitSpec(this,_cacheSimpleMethod),_classPrivateFieldInitSpec(this,_methodPromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),this.messageHandler=c,this.loadingTask=T,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:S.ownerDocument,styleElement:S.styleElement}),this._params=S,this.canvasFactory=N.canvasFactory,this.filterFactory=N.filterFactory,this.cMapReaderFactory=N.cMapReaderFactory,this.standardFontDataFactory=N.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(c,T=_util.AnnotationMode.ENABLE,h=null,S=!1){let N=_util.RenderingIntentFlag.DISPLAY,k=null;switch(c){case"any":N=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":N=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${c}`)}switch(T){case _util.AnnotationMode.DISABLE:N+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:N+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:N+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,k=(N&_util.RenderingIntentFlag.PRINT&&h instanceof _annotation_storage.PrintAnnotationStorage?h:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${T}`)}return S&&(N+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:N,cacheKey:`${N}_${_annotation_storage.AnnotationStorage.getHash(k)}`,annotationStorageMap:k}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const c=[];for(const h of _classPrivateFieldGet(this,_pageCache).values())c.push(h._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const T=this.messageHandler.sendWithPromise("Terminate",null);return c.push(T),Promise.all(c).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:c,loadingTask:T}=this;c.on("GetReader",(h,S)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=N=>{this._lastProgress={loaded:N.loaded,total:N.total}},S.onPull=()=>{this._fullReader.read().then(function({value:N,done:k}){k?S.close():((0,_util.assert)(N instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),S.enqueue(new Uint8Array(N),1,[N]))}).catch(N=>{S.error(N)})},S.onCancel=N=>{this._fullReader.cancel(N),S.ready.catch(k=>{if(!this.destroyed)throw k})}}),c.on("ReaderHeadersReady",h=>{const S=new _util.PromiseCapability,N=this._fullReader;return N.headersReady.then(()=>{(!N.isStreamingSupported||!N.isRangeSupported)&&(this._lastProgress&&T.onProgress?.(this._lastProgress),N.onProgress=k=>{T.onProgress?.({loaded:k.loaded,total:k.total})}),S.resolve({isStreamingSupported:N.isStreamingSupported,isRangeSupported:N.isRangeSupported,contentLength:N.contentLength})},S.reject),S.promise}),c.on("GetRangeReader",(h,S)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const N=this._networkStream.getRangeReader(h.begin,h.end);N?(S.onPull=()=>{N.read().then(function({value:k,done:Z}){Z?S.close():((0,_util.assert)(k instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),S.enqueue(new Uint8Array(k),1,[k]))}).catch(k=>{S.error(k)})},S.onCancel=k=>{N.cancel(k),S.ready.catch(Z=>{if(!this.destroyed)throw Z})}):S.close()}),c.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,this._htmlForXfa=h.htmlForXfa,delete h.htmlForXfa,T._capability.resolve(new PDFDocumentProxy(h,this))}),c.on("DocException",function(h){let S;switch(h.name){case"PasswordException":S=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":S=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":S=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":S=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":S=new _util.UnknownErrorException(h.message,h.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}T._capability.reject(S)}),c.on("PasswordRequest",h=>{if(this._passwordCapability=new _util.PromiseCapability,T.onPassword){const S=N=>{N instanceof Error?this._passwordCapability.reject(N):this._passwordCapability.resolve({password:N})};try{T.onPassword(S,h.code)}catch(N){this._passwordCapability.reject(N)}}else this._passwordCapability.reject(new _util.PasswordException(h.message,h.code));return this._passwordCapability.promise}),c.on("DataLoaded",h=>{T.onProgress?.({loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),c.on("StartRenderPage",h=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(h.pageIndex)._startRenderPage(h.transparency,h.cacheKey)}),c.on("commonobj",([h,S,N])=>{if(!this.destroyed&&!this.commonObjs.has(h))switch(S){case"Font":const k=this._params;if("error"in N){const M=N.error;(0,_util.warn)(`Error during font loading: ${M}`),this.commonObjs.resolve(h,M);break}const Z=k.pdfBug&&globalThis.FontInspector?.enabled?(M,F)=>globalThis.FontInspector.fontAdded(M,F):null,te=new _font_loader.FontFaceObject(N,{isEvalSupported:k.isEvalSupported,disableFontFace:k.disableFontFace,ignoreErrors:k.ignoreErrors,inspectFont:Z});this.fontLoader.bind(te).catch(M=>c.sendWithPromise("FontFallback",{id:h})).finally(()=>{!k.fontExtraProperties&&te.data&&(te.data=null),this.commonObjs.resolve(h,te)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(h,N);break;default:throw new Error(`Got unknown common object type ${S}`)}}),c.on("obj",([h,S,N,k])=>{if(this.destroyed)return;const Z=_classPrivateFieldGet(this,_pageCache).get(S);if(!Z.objs.has(h))switch(N){case"Image":if(Z.objs.resolve(h,k),k){let te;if(k.bitmap){const{width:M,height:F}=k;te=M*F*4}else te=k.data?.length||0;te>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Z._maybeCleanupAfterRender=!0)}break;case"Pattern":Z.objs.resolve(h,k);break;default:throw new Error(`Got unknown object type ${N}`)}}),c.on("DocProgress",h=>{this.destroyed||T.onProgress?.({loaded:h.loaded,total:h.total})}),c.on("FetchBuiltInCMap",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(h):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),c.on("FetchStandardFontData",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(h):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(c){if(!Number.isInteger(c)||c<=0||c>this._numPages)return Promise.reject(new Error("Invalid page request."));const T=c-1,h=_classPrivateFieldGet(this,_pagePromises).get(T);if(h)return h;const S=this.messageHandler.sendWithPromise("GetPage",{pageIndex:T}).then(N=>{if(this.destroyed)throw new Error("Transport destroyed");const k=new PDFPageProxy(T,N,this,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(T,k),k});return _classPrivateFieldGet(this,_pagePromises).set(T,S),S}getPageIndex(c){return"object"!=typeof c||null===c||!Number.isInteger(c.num)||c.num<0||!Number.isInteger(c.gen)||c.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:c.num,gen:c.gen})}getAnnotations(c,T){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:T})}getFieldObjects(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetFieldObjects")}hasJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(c){return"string"!=typeof c?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:c})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(c){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:c})}getStructTree(c){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:c})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(c=>new _optional_content_config.OptionalContentConfig(c))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const c="GetMetadata",T=_classPrivateFieldGet(this,_methodPromises).get(c);if(T)return T;const h=this.messageHandler.sendWithPromise(c,null).then(S=>({info:S[0],metadata:S[1]?new _metadata.Metadata(S[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return _classPrivateFieldGet(this,_methodPromises).set(c,h),h}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(c=!1){var T=this;return _asyncToGenerator(function*(){if(!T.destroyed){yield T.messageHandler.sendWithPromise("Cleanup",null);for(const h of _classPrivateFieldGet(T,_pageCache).values())if(!h.cleanup())throw new Error(`startCleanup: Page ${h.pageNumber} is currently rendering.`);T.commonObjs.clear(),c||T.fontLoader.clear(),_classPrivateFieldGet(T,_methodPromises).clear(),T.filterFactory.destroy(!0)}})()}get loadingParams(){const{disableAutoFetch:c,enableXfa:T}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:c,enableXfa:T})}}function _cacheSimpleMethod2(I,c=null){const T=_classPrivateFieldGet(this,_methodPromises).get(I);if(T)return T;const h=this.messageHandler.sendWithPromise(I,c);return _classPrivateFieldGet(this,_methodPromises).set(I,h),h}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(c,T=null){if(T){const S=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,c);return S.capability.promise.then(()=>T(S.data)),null}const h=_classPrivateFieldGet(this,_objs)[c];if(!h?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${c}.`);return h.data}has(c){return _classPrivateFieldGet(this,_objs)[c]?.capability.settled||!1}resolve(c,T=null){const h=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,c);h.data=T,h.capability.resolve()}clear(){for(const c in _classPrivateFieldGet(this,_objs)){const{data:T}=_classPrivateFieldGet(this,_objs)[c];T?.bitmap?.close()}_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(I){return _classPrivateFieldGet(this,_objs)[I]||(_classPrivateFieldGet(this,_objs)[I]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(c){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,c),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(c=0){_classPrivateFieldGet(this,_internalRenderTask).cancel(null,c)}get separateAnnots(){const{separateAnnots:c}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!c)return!1;const{annotationCanvasMap:T}=_classPrivateFieldGet(this,_internalRenderTask);return c.form||c.canvas&&T?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:c,params:T,objs:h,commonObjs:S,annotationCanvasMap:N,operatorList:k,pageIndex:Z,canvasFactory:te,filterFactory:M,useRequestAnimationFrame:F=!1,pdfBug:W=!1,pageColors:Y=null}){this.callback=c,this.params=T,this.objs=h,this.commonObjs=S,this.annotationCanvasMap=N,this.operatorListIdx=null,this.operatorList=k,this._pageIndex=Z,this.canvasFactory=te,this.filterFactory=M,this._pdfBug=W,this.pageColors=Y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===F&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=T.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:c=!1,optionalContentConfig:T}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:h,viewport:S,transform:N,background:k}=this.params;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:T},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:N,viewport:S,transparency:c,background:k}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(c=null,T=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(c||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",T))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var c=this;return _asyncToGenerator(function*(){c.cancelled||(c.operatorListIdx=c.gfx.executeOperatorList(c.operatorList,c.operatorListIdx,c._continueBound,c.stepper),c.operatorListIdx===c.operatorList.argsArray.length&&(c.running=!1,c.operatorList.lastChunk&&(c.gfx.endDrawing(c.pageColors),c._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(c._canvas),c.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PrintAnnotationStorage=c.AnnotationStorage=void 0;var h=T(1),S=T(4),N=T(8),k=new WeakMap,Z=new WeakMap,te=new WeakSet;class M{constructor(){_classPrivateMethodInitSpec(this,te),_classPrivateFieldInitSpec(this,k,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,Z,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(R,O){const C=_classPrivateFieldGet(this,Z).get(R);return void 0===C?O:Object.assign(O,C)}getRawValue(R){return _classPrivateFieldGet(this,Z).get(R)}remove(R){if(_classPrivateFieldGet(this,Z).delete(R),0===_classPrivateFieldGet(this,Z).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const O of _classPrivateFieldGet(this,Z).values())if(O instanceof S.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(R,O){const C=_classPrivateFieldGet(this,Z).get(R);let w=!1;if(void 0!==C)for(const[G,U]of Object.entries(O))C[G]!==U&&(w=!0,C[G]=U);else w=!0,_classPrivateFieldGet(this,Z).set(R,O);w&&_classPrivateMethodGet(this,te,F).call(this),O instanceof S.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(O.constructor._type)}has(R){return _classPrivateFieldGet(this,Z).has(R)}getAll(){return _classPrivateFieldGet(this,Z).size>0?(0,h.objectFromMap)(_classPrivateFieldGet(this,Z)):null}setAll(R){for(const[O,C]of Object.entries(R))this.setValue(O,C)}get size(){return _classPrivateFieldGet(this,Z).size}resetModified(){_classPrivateFieldGet(this,k)&&(_classPrivateFieldSet(this,k,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Y(this)}get serializable(){if(0===_classPrivateFieldGet(this,Z).size)return null;const R=new Map;for(const[O,C]of _classPrivateFieldGet(this,Z)){const w=C instanceof S.AnnotationEditor?C.serialize():C;w&&R.set(O,w)}return R}static getHash(R){if(!R)return"";const O=new N.MurmurHash3_64;for(const[C,w]of R)O.update(`${C}:${JSON.stringify(w)}`);return O.hexdigest()}}function F(){_classPrivateFieldGet(this,k)||(_classPrivateFieldSet(this,k,!0),"function"==typeof this.onSetModified&&this.onSetModified())}c.AnnotationStorage=M;var W=new WeakMap;class Y extends M{constructor(R){super(),_classPrivateFieldInitSpec(this,W,{writable:!0,value:null}),_classPrivateFieldSet(this,W,structuredClone(R.serializable))}get print(){(0,h.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,W)}}c.PrintAnnotationStorage=Y},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditor=void 0;var h=T(5),S=T(1),N=new WeakMap,k=new WeakMap,Z=new WeakMap,te=new WeakMap,M=new WeakMap,F=new WeakMap;class W{constructor(P){_classPrivateFieldInitSpec(this,N,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,Z,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:!1}),_defineProperty(this,"_uiManager",null),_classPrivateFieldInitSpec(this,F,{writable:!0,value:W._zIndex++}),this.constructor===W&&(0,S.unreachable)("Cannot initialize AnnotationEditor."),this.parent=P.parent,this.id=P.id,this.width=this.height=null,this.pageIndex=P.parent.pageIndex,this.name=P.name,this.div=null,this._uiManager=P.uiManager;const{rotation:R,rawDims:{pageWidth:O,pageHeight:C,pageX:w,pageY:G}}=this.parent.viewport;this.rotation=R,this.pageRotation=(360+R-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[O,C],this.pageTranslation=[w,G];const[U,D]=this.parentDimensions;this.x=P.x/U,this.y=P.y/D,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,S.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(P){this._uiManager.addCommands(P)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,F)}setParent(P){null!==P&&(this.pageIndex=P.pageIndex,this.pageDimensions=P.pageDimensions),this.parent=P}focusin(P){_classPrivateFieldGet(this,Z)?_classPrivateFieldSet(this,Z,!1):this.parent.setSelected(this)}focusout(P){!this.isAttachedToDOM||P.relatedTarget?.closest(`#${this.id}`)||(P.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(P){const R=this.parent.div.getBoundingClientRect();this.startX=P.clientX-R.x,this.startY=P.clientY-R.y,P.dataTransfer.setData("text/plain",this.id),P.dataTransfer.effectAllowed="move"}setAt(P,R,O,C){const[w,G]=this.parentDimensions;[O,C]=this.screenToPageTranslation(O,C),this.x=(P+O)/w,this.y=(R+C)/G,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(P,R){const[O,C]=this.parentDimensions;[P,R]=this.screenToPageTranslation(P,R),this.x+=P/O,this.y+=R/C,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(P,R){switch(this.parentRotation){case 90:return[R,-P];case 180:return[-P,-R];case 270:return[-R,P];default:return[P,R]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:P}=this._uiManager.viewParameters,[R,O]=this.pageDimensions;return[R*P,O*P]}setDims(P,R){const[O,C]=this.parentDimensions;this.div.style.width=100*P/O+"%",this.div.style.height=100*R/C+"%"}fixDims(){const{style:P}=this.div,{height:R,width:O}=P,C=O.endsWith("%"),w=R.endsWith("%");if(C&&w)return;const[G,U]=this.parentDimensions;C||(P.width=100*parseFloat(O)/G+"%"),w||(P.height=100*parseFloat(R)/U+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,N)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,k));const[P,R]=this.getInitialTranslation();return this.translate(P,R),(0,h.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(P){const{isMac:R}=S.FeatureTest.platform;0!==P.button||P.ctrlKey&&R?P.preventDefault():(P.ctrlKey&&!R||P.shiftKey||P.metaKey&&R?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,Z,!0))}getRect(P,R){const O=this.parentScale,[C,w]=this.pageDimensions,[G,U]=this.pageTranslation,D=P/O,p=R/O,_=this.x*C,V=this.y*w,q=this.width*C,L=this.height*w;switch(this.rotation){case 0:return[_+D+G,w-V-p-L+U,_+D+q+G,w-V-p+U];case 90:return[_+p+G,w-V+D+U,_+p+L+G,w-V+D+q+U];case 180:return[_-D-q+G,w-V+p+U,_-D+G,w-V+p+L+U];case 270:return[_-p-L+G,w-V-D-q+U,_-p+G,w-V-D+U];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(P,R){const[O,C,w,G]=P,U=w-O,D=G-C;switch(this.rotation){case 0:return[O,R-G,U,D];case 90:return[O,R-C,D,U];case 180:return[w,R-C,U,D];case 270:return[w,R-G,D,U];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,M,!0)}disableEditMode(){_classPrivateFieldSet(this,M,!1)}isInEditMode(){return _classPrivateFieldGet(this,M)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",_classPrivateFieldGet(this,N))}serialize(){(0,S.unreachable)("An editor must be serializable")}static deserialize(P,R,O){const C=new this.prototype.constructor({parent:R,id:R.getNextId(),uiManager:O});C.rotation=P.rotation;const[w,G]=C.pageDimensions,[U,D,p,_]=C.getRectInCurrentCoords(P.rect,G);return C.x=U/w,C.y=D/G,C.width=p/w,C.height=_/G,C}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,N)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,k)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(P,R){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,te)}set isEditing(P){_classPrivateFieldSet(this,te,P),P?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(W,"_colorManager",new h.ColorManager),_defineProperty(W,"_zIndex",1),c.AnnotationEditor=W},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.KeyboardManager=c.CommandManager=c.ColorManager=c.AnnotationEditorUIManager=void 0,c.bindEvents=function N(We,ae,Me){for(const Ke of Me)ae.addEventListener(Ke,We[Ke].bind(We))},c.opacityToHex=function k(We){return Math.round(Math.min(255,Math.max(1,255*We))).toString(16).padStart(2,"0")};var h=T(1),S=T(6),Z=new WeakMap;class te{constructor(){_classPrivateFieldInitSpec(this,Z,{writable:!0,value:0})}getId(){var ae,Me;return`${h.AnnotationEditorPrefix}${_classPrivateFieldSet(this,Z,(ae=_classPrivateFieldGet(this,Z),Me=ae++,ae)),Me}`}}var M=new WeakMap,F=new WeakMap,W=new WeakMap,Y=new WeakMap;class P{constructor(ae=128){_classPrivateFieldInitSpec(this,M,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:-1}),_classPrivateFieldSet(this,W,ae)}add({cmd:ae,undo:Me,mustExec:Ke,type:ct=NaN,overwriteIfSameType:Lt=!1,keepUndo:Mt=!1}){if(Ke&&ae(),_classPrivateFieldGet(this,F))return;const me={cmd:ae,undo:Me,type:ct};if(-1===_classPrivateFieldGet(this,Y))return _classPrivateFieldGet(this,M).length>0&&(_classPrivateFieldGet(this,M).length=0),_classPrivateFieldSet(this,Y,0),void _classPrivateFieldGet(this,M).push(me);if(Lt&&_classPrivateFieldGet(this,M)[_classPrivateFieldGet(this,Y)].type===ct)return Mt&&(me.undo=_classPrivateFieldGet(this,M)[_classPrivateFieldGet(this,Y)].undo),void(_classPrivateFieldGet(this,M)[_classPrivateFieldGet(this,Y)]=me);const re=_classPrivateFieldGet(this,Y)+1;re===_classPrivateFieldGet(this,W)?_classPrivateFieldGet(this,M).splice(0,1):(_classPrivateFieldSet(this,Y,re),re<_classPrivateFieldGet(this,M).length&&_classPrivateFieldGet(this,M).splice(re)),_classPrivateFieldGet(this,M).push(me)}undo(){-1!==_classPrivateFieldGet(this,Y)&&(_classPrivateFieldSet(this,F,!0),_classPrivateFieldGet(this,M)[_classPrivateFieldGet(this,Y)].undo(),_classPrivateFieldSet(this,F,!1),_classPrivateFieldSet(this,Y,_classPrivateFieldGet(this,Y)-1))}redo(){_classPrivateFieldGet(this,Y)<_classPrivateFieldGet(this,M).length-1&&(_classPrivateFieldSet(this,Y,_classPrivateFieldGet(this,Y)+1),_classPrivateFieldSet(this,F,!0),_classPrivateFieldGet(this,M)[_classPrivateFieldGet(this,Y)].cmd(),_classPrivateFieldSet(this,F,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,Y)}hasSomethingToRedo(){return _classPrivateFieldGet(this,Y)<_classPrivateFieldGet(this,M).length-1}destroy(){_classPrivateFieldSet(this,M,null)}}c.CommandManager=P;var R=new WeakSet;class O{constructor(ae){_classPrivateMethodInitSpec(this,R),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Me}=h.FeatureTest.platform;for(const[Ke,ct]of ae)for(const Lt of Ke){const Mt=Lt.startsWith("mac+");Me&&Mt?(this.callbacks.set(Lt.slice(4),ct),this.allKeys.add(Lt.split("+").at(-1))):!Me&&!Mt&&(this.callbacks.set(Lt,ct),this.allKeys.add(Lt.split("+").at(-1)))}}exec(ae,Me){if(!this.allKeys.has(Me.key))return;const Ke=this.callbacks.get(_classPrivateMethodGet(this,R,C).call(this,Me));Ke&&(Ke.bind(ae)(),Me.stopPropagation(),Me.preventDefault())}}function C(We){We.altKey&&this.buffer.push("alt"),We.ctrlKey&&this.buffer.push("ctrl"),We.metaKey&&this.buffer.push("meta"),We.shiftKey&&this.buffer.push("shift"),this.buffer.push(We.key);const ae=this.buffer.join("+");return this.buffer.length=0,ae}c.KeyboardManager=O;class w{get _colors(){const ae=new Map([["CanvasText",null],["Canvas",null]]);return(0,S.getColorValues)(ae),(0,h.shadow)(this,"_colors",ae)}convert(ae){const Me=(0,S.getRGB)(ae);if(!window.matchMedia("(forced-colors: active)").matches)return Me;for(const[Ke,ct]of this._colors)if(ct.every((Lt,Mt)=>Lt===Me[Mt]))return w._colorsMapping.get(Ke);return Me}getHexCode(ae){const Me=this._colors.get(ae);return Me?h.Util.makeHexColor(...Me):ae}}_defineProperty(w,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),c.ColorManager=w;var G=new WeakMap,U=new WeakMap,D=new WeakMap,p=new WeakMap,_=new WeakMap,V=new WeakMap,q=new WeakMap,L=new WeakMap,J=new WeakMap,B=new WeakMap,ce=new WeakMap,Se=new WeakMap,ge=new WeakMap,we=new WeakMap,Te=new WeakMap,Be=new WeakMap,Ce=new WeakMap,Ae=new WeakMap,ke=new WeakMap,$e=new WeakMap,qe=new WeakMap,ee=new WeakMap,v=new WeakMap,y=new WeakSet,x=new WeakSet,z=new WeakSet,K=new WeakSet,$=new WeakSet,d=new WeakSet,f=new WeakSet,g=new WeakSet,b=new WeakSet,A=new WeakSet,H=new WeakSet;class Q{constructor(ae,Me,Ke){_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,g),_classPrivateMethodInitSpec(this,f),_classPrivateMethodInitSpec(this,d),_classPrivateMethodInitSpec(this,$),_classPrivateMethodInitSpec(this,K),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,y),_classPrivateFieldInitSpec(this,G,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:new P}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:new te}),_classPrivateFieldInitSpec(this,ce,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,Se,{writable:!0,value:h.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,ge,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,we,{writable:!0,value:this.copy.bind(this)}),_classPrivateFieldInitSpec(this,Te,{writable:!0,value:this.cut.bind(this)}),_classPrivateFieldInitSpec(this,Be,{writable:!0,value:this.paste.bind(this)}),_classPrivateFieldInitSpec(this,Ce,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,Ae,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,ke,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,$e,{writable:!0,value:this.onScaleChanging.bind(this)}),_classPrivateFieldInitSpec(this,qe,{writable:!0,value:this.onRotationChanging.bind(this)}),_classPrivateFieldInitSpec(this,ee,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:null}),_classPrivateFieldSet(this,v,ae),_classPrivateFieldSet(this,J,Me),_classPrivateFieldGet(this,J)._on("editingaction",_classPrivateFieldGet(this,Ae)),_classPrivateFieldGet(this,J)._on("pagechanging",_classPrivateFieldGet(this,ke)),_classPrivateFieldGet(this,J)._on("scalechanging",_classPrivateFieldGet(this,$e)),_classPrivateFieldGet(this,J)._on("rotationchanging",_classPrivateFieldGet(this,qe)),_classPrivateFieldSet(this,p,Ke),this.viewParameters={realScale:S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_classPrivateMethodGet(this,x,ue).call(this),_classPrivateFieldGet(this,J)._off("editingaction",_classPrivateFieldGet(this,Ae)),_classPrivateFieldGet(this,J)._off("pagechanging",_classPrivateFieldGet(this,ke)),_classPrivateFieldGet(this,J)._off("scalechanging",_classPrivateFieldGet(this,$e)),_classPrivateFieldGet(this,J)._off("rotationchanging",_classPrivateFieldGet(this,qe));for(const ae of _classPrivateFieldGet(this,D).values())ae.destroy();_classPrivateFieldGet(this,D).clear(),_classPrivateFieldGet(this,U).clear(),_classPrivateFieldGet(this,L).clear(),_classPrivateFieldSet(this,G,null),_classPrivateFieldGet(this,ge).clear(),_classPrivateFieldGet(this,_).destroy()}onPageChanging({pageNumber:ae}){_classPrivateFieldSet(this,V,ae-1)}focusMainContainer(){_classPrivateFieldGet(this,v).focus()}addShouldRescale(ae){_classPrivateFieldGet(this,L).add(ae)}removeShouldRescale(ae){_classPrivateFieldGet(this,L).delete(ae)}onScaleChanging({scale:ae}){this.commitOrRemove(),this.viewParameters.realScale=ae*S.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Me of _classPrivateFieldGet(this,L))Me.onScaleChanging()}onRotationChanging({pagesRotation:ae}){this.commitOrRemove(),this.viewParameters.rotation=ae}addToAnnotationStorage(ae){!ae.isEmpty()&&_classPrivateFieldGet(this,p)&&!_classPrivateFieldGet(this,p).has(ae.id)&&_classPrivateFieldGet(this,p).setValue(ae.id,ae)}copy(ae){if(ae.preventDefault(),_classPrivateFieldGet(this,G)&&_classPrivateFieldGet(this,G).commitOrRemove(),!this.hasSelection)return;const Me=[];for(const Ke of _classPrivateFieldGet(this,ge))Ke.isEmpty()||Me.push(Ke.serialize());0!==Me.length&&ae.clipboardData.setData("application/pdfjs",JSON.stringify(Me))}cut(ae){this.copy(ae),this.delete()}paste(ae){ae.preventDefault();let Me=ae.clipboardData.getData("application/pdfjs");if(!Me)return;try{Me=JSON.parse(Me)}catch(ct){return void(0,h.warn)(`paste: "${ct.message}".`)}if(!Array.isArray(Me))return;this.unselectAll();const Ke=_classPrivateFieldGet(this,D).get(_classPrivateFieldGet(this,V));try{const ct=[];for(const me of Me){const re=Ke.deserialize(me);if(!re)return;ct.push(re)}this.addCommands({cmd:()=>{for(const me of ct)_classPrivateMethodGet(this,b,Fe).call(this,me);_classPrivateMethodGet(this,H,et).call(this,ct)},undo:()=>{for(const me of ct)me.remove()},mustExec:!0})}catch(ct){(0,h.warn)(`paste: "${ct.message}".`)}}keydown(ae){this.getActive()?.shouldGetKeyboardEvents()||Q._keyboardManager.exec(this,ae)}onEditingAction(ae){["undo","redo","delete","selectAll"].includes(ae.name)&&this[ae.name]()}setEditingState(ae){ae?(_classPrivateMethodGet(this,y,ne).call(this),_classPrivateMethodGet(this,z,he).call(this),_classPrivateMethodGet(this,$,le).call(this,{isEditing:_classPrivateFieldGet(this,Se)!==h.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,A,Ue).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,_).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,_).hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateMethodGet(this,x,ue).call(this),_classPrivateMethodGet(this,K,se).call(this),_classPrivateMethodGet(this,$,le).call(this,{isEditing:!1}))}registerEditorTypes(ae){if(!_classPrivateFieldGet(this,q)){_classPrivateFieldSet(this,q,ae);for(const Me of _classPrivateFieldGet(this,q))_classPrivateMethodGet(this,d,fe).call(this,Me.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(this,B).getId()}get currentLayer(){return _classPrivateFieldGet(this,D).get(_classPrivateFieldGet(this,V))}get currentPageIndex(){return _classPrivateFieldGet(this,V)}addLayer(ae){_classPrivateFieldGet(this,D).set(ae.pageIndex,ae),_classPrivateFieldGet(this,ce)?ae.enable():ae.disable()}removeLayer(ae){_classPrivateFieldGet(this,D).delete(ae.pageIndex)}updateMode(ae){if(_classPrivateFieldSet(this,Se,ae),ae===h.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,g,Re).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,f,_e).call(this);for(const Me of _classPrivateFieldGet(this,D).values())Me.updateMode(ae)}}updateToolbar(ae){ae!==_classPrivateFieldGet(this,Se)&&_classPrivateFieldGet(this,J).dispatch("switchannotationeditormode",{source:this,mode:ae})}updateParams(ae,Me){if(_classPrivateFieldGet(this,q)){for(const Ke of _classPrivateFieldGet(this,ge))Ke.updateParams(ae,Me);for(const Ke of _classPrivateFieldGet(this,q))Ke.updateDefaultParams(ae,Me)}}getEditors(ae){const Me=[];for(const Ke of _classPrivateFieldGet(this,U).values())Ke.pageIndex===ae&&Me.push(Ke);return Me}getEditor(ae){return _classPrivateFieldGet(this,U).get(ae)}addEditor(ae){_classPrivateFieldGet(this,U).set(ae.id,ae)}removeEditor(ae){_classPrivateFieldGet(this,U).delete(ae.id),this.unselect(ae),_classPrivateFieldGet(this,p)?.remove(ae.id)}setActiveEditor(ae){_classPrivateFieldGet(this,G)!==ae&&(_classPrivateFieldSet(this,G,ae),ae&&_classPrivateMethodGet(this,d,fe).call(this,ae.propertiesToUpdate))}toggleSelected(ae){if(_classPrivateFieldGet(this,ge).has(ae))return _classPrivateFieldGet(this,ge).delete(ae),ae.unselect(),void _classPrivateMethodGet(this,$,le).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,ge).add(ae),ae.select(),_classPrivateMethodGet(this,d,fe).call(this,ae.propertiesToUpdate),_classPrivateMethodGet(this,$,le).call(this,{hasSelectedEditor:!0})}setSelected(ae){for(const Me of _classPrivateFieldGet(this,ge))Me!==ae&&Me.unselect();_classPrivateFieldGet(this,ge).clear(),_classPrivateFieldGet(this,ge).add(ae),ae.select(),_classPrivateMethodGet(this,d,fe).call(this,ae.propertiesToUpdate),_classPrivateMethodGet(this,$,le).call(this,{hasSelectedEditor:!0})}isSelected(ae){return _classPrivateFieldGet(this,ge).has(ae)}unselect(ae){ae.unselect(),_classPrivateFieldGet(this,ge).delete(ae),_classPrivateMethodGet(this,$,le).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,ge).size}undo(){_classPrivateFieldGet(this,_).undo(),_classPrivateMethodGet(this,$,le).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,_).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,A,Ue).call(this)})}redo(){_classPrivateFieldGet(this,_).redo(),_classPrivateMethodGet(this,$,le).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,_).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,A,Ue).call(this)})}addCommands(ae){_classPrivateFieldGet(this,_).add(ae),_classPrivateMethodGet(this,$,le).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,A,Ue).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ae=[..._classPrivateFieldGet(this,ge)];this.addCommands({cmd:()=>{for(const ct of ae)ct.remove()},undo:()=>{for(const ct of ae)_classPrivateMethodGet(this,b,Fe).call(this,ct)},mustExec:!0})}commitOrRemove(){_classPrivateFieldGet(this,G)?.commitOrRemove()}selectAll(){for(const ae of _classPrivateFieldGet(this,ge))ae.commit();_classPrivateMethodGet(this,H,et).call(this,_classPrivateFieldGet(this,U).values())}unselectAll(){if(_classPrivateFieldGet(this,G))_classPrivateFieldGet(this,G).commitOrRemove();else if(0!==_classPrivateFieldGet(this,ge).size){for(const ae of _classPrivateFieldGet(this,ge))ae.unselect();_classPrivateFieldGet(this,ge).clear(),_classPrivateMethodGet(this,$,le).call(this,{hasSelectedEditor:!1})}}isActive(ae){return _classPrivateFieldGet(this,G)===ae}getActive(){return _classPrivateFieldGet(this,G)}getMode(){return _classPrivateFieldGet(this,Se)}}function ne(){_classPrivateFieldGet(this,v).addEventListener("keydown",_classPrivateFieldGet(this,Ce))}function ue(){_classPrivateFieldGet(this,v).removeEventListener("keydown",_classPrivateFieldGet(this,Ce))}function he(){document.addEventListener("copy",_classPrivateFieldGet(this,we)),document.addEventListener("cut",_classPrivateFieldGet(this,Te)),document.addEventListener("paste",_classPrivateFieldGet(this,Be))}function se(){document.removeEventListener("copy",_classPrivateFieldGet(this,we)),document.removeEventListener("cut",_classPrivateFieldGet(this,Te)),document.removeEventListener("paste",_classPrivateFieldGet(this,Be))}function le(We){Object.entries(We).some(([Me,Ke])=>_classPrivateFieldGet(this,ee)[Me]!==Ke)&&_classPrivateFieldGet(this,J).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,ee),We)})}function fe(We){_classPrivateFieldGet(this,J).dispatch("annotationeditorparamschanged",{source:this,details:We})}function _e(){if(!_classPrivateFieldGet(this,ce)){_classPrivateFieldSet(this,ce,!0);for(const We of _classPrivateFieldGet(this,D).values())We.enable()}}function Re(){if(this.unselectAll(),_classPrivateFieldGet(this,ce)){_classPrivateFieldSet(this,ce,!1);for(const We of _classPrivateFieldGet(this,D).values())We.disable()}}function Fe(We){const ae=_classPrivateFieldGet(this,D).get(We.pageIndex);ae?ae.addOrRebuild(We):this.addEditor(We)}function Ue(){if(0===_classPrivateFieldGet(this,U).size)return!0;if(1===_classPrivateFieldGet(this,U).size)for(const We of _classPrivateFieldGet(this,U).values())return We.isEmpty();return!1}function et(We){_classPrivateFieldGet(this,ge).clear();for(const ae of We)ae.isEmpty()||(_classPrivateFieldGet(this,ge).add(ae),ae.select());_classPrivateMethodGet(this,$,le).call(this,{hasSelectedEditor:!0})}_defineProperty(Q,"_keyboardManager",new O([[["ctrl+a","mac+meta+a"],Q.prototype.selectAll],[["ctrl+z","mac+meta+z"],Q.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Q.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Q.prototype.delete],[["Escape","mac+Escape"],Q.prototype.unselectAll]])),c.AnnotationEditorUIManager=Q},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatTimer=c.RenderingCancelledException=c.PixelsPerInch=c.PageViewport=c.PDFDateString=c.DOMStandardFontDataFactory=c.DOMSVGFactory=c.DOMFilterFactory=c.DOMCanvasFactory=c.DOMCMapReaderFactory=c.AnnotationPrefix=void 0,c.deprecated=function qe(f){console.log("Deprecated API usage: "+f)},c.getColorValues=function z(f){const g=document.createElement("span");g.style.visibility="hidden",document.body.append(g);for(const b of f.keys()){g.style.color=b;const A=window.getComputedStyle(g).color;f.set(b,x(A))}g.remove()},c.getCurrentTransform=function K(f){const{a:g,b,c:A,d:H,e:Q,f:ne}=f.getTransform();return[g,b,A,H,Q,ne]},c.getCurrentTransformInverse=function $(f){const{a:g,b,c:A,d:H,e:Q,f:ne}=f.getTransform().invertSelf();return[g,b,A,H,Q,ne]},c.getFilenameFromUrl=function Be(f,g=!1){return g||([f]=f.split(/[#?]/,1)),f.substring(f.lastIndexOf("/")+1)},c.getPdfFilenameFromUrl=function Ce(f,g="document.pdf"){if("string"!=typeof f)return g;if(we(f))return(0,S.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),g;const A=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,H=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(f);let Q=A.exec(H[1])||A.exec(H[2])||A.exec(H[3]);if(Q&&(Q=Q[0],Q.includes("%")))try{Q=A.exec(decodeURIComponent(Q))[0]}catch{}return Q||g},c.getRGB=x,c.getXfaPageViewport=function y(f,{scale:g=1,rotation:b=0}){const{width:A,height:H}=f.attributes.style,Q=[0,0,parseInt(A),parseInt(H)];return new Se({viewBox:Q,scale:g,rotation:b})},c.isDataScheme=we,c.isPdfFile=function Te(f){return"string"==typeof f&&/\.pdf$/i.test(f)},c.isValidFetchUrl=ke,c.loadScript=function $e(f,g=!1){return new Promise((b,A)=>{const H=document.createElement("script");H.src=f,H.onload=function(Q){g&&H.remove(),b(Q)},H.onerror=function(){A(new Error(`Cannot load script at: ${H.src}`))},(document.head||document.documentElement).append(H)})},c.setLayerDimensions=function d(f,g,b=!1,A=!0){if(g instanceof Se){const{pageWidth:H,pageHeight:Q}=g.rawDims,{style:ne}=f,ue=`calc(var(--scale-factor) * ${H}px)`,he=`calc(var(--scale-factor) * ${Q}px)`;b&&g.rotation%180!=0?(ne.width=he,ne.height=ue):(ne.width=ue,ne.height=he)}A&&f.setAttribute("data-main-rotation",g.rotation)};var h=T(7),S=T(1);const N="http://www.w3.org/2000/svg";c.AnnotationPrefix="pdfjs_internal_id_";class Z{}_defineProperty(Z,"CSS",96),_defineProperty(Z,"PDF",72),_defineProperty(Z,"PDF_TO_CSS_UNITS",Z.CSS/Z.PDF),c.PixelsPerInch=Z;var te=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,O=new WeakMap,C=new WeakMap,w=new WeakMap,G=new WeakSet;function D(){return _classPrivateFieldGet(this,te)||_classPrivateFieldSet(this,te,new Map)}function p(){if(!_classPrivateFieldGet(this,M)){const f=_classPrivateFieldGet(this,W).createElement("div"),{style:g}=f;g.visibility="hidden",g.contain="strict",g.width=g.height=0,g.position="absolute",g.top=g.left=0,g.zIndex=-1;const b=_classPrivateFieldGet(this,W).createElementNS(N,"svg");b.setAttribute("width",0),b.setAttribute("height",0),_classPrivateFieldSet(this,M,_classPrivateFieldGet(this,W).createElementNS(N,"defs")),f.append(b),b.append(_classPrivateFieldGet(this,M)),_classPrivateFieldGet(this,W).body.append(f)}return _classPrivateFieldGet(this,M)}function _(f,g,b){const A=_classPrivateFieldGet(this,W).createElementNS(N,g);A.setAttribute("type","discrete"),A.setAttribute("tableValues",b),f.append(A)}function q(f){return L.apply(this,arguments)}function L(){return(L=_asyncToGenerator(function*(f,g=!1){if(ke(f,document.baseURI)){const b=yield fetch(f);if(!b.ok)throw new Error(b.statusText);return g?new Uint8Array(yield b.arrayBuffer()):(0,S.stringToBytes)(yield b.text())}return new Promise((b,A)=>{const H=new XMLHttpRequest;H.open("GET",f,!0),g&&(H.responseType="arraybuffer"),H.onreadystatechange=()=>{if(H.readyState===XMLHttpRequest.DONE){if(200===H.status||0===H.status){let Q;if(g&&H.response?Q=new Uint8Array(H.response):!g&&H.responseText&&(Q=(0,S.stringToBytes)(H.responseText)),Q)return void b(Q)}A(new Error(H.statusText))}},H.send(null)})})).apply(this,arguments)}c.DOMFilterFactory=class U extends h.BaseFilterFactory{constructor({docId:g,ownerDocument:b=globalThis.document}={}){super(),_classPrivateMethodInitSpec(this,G),_classPrivateFieldInitSpec(this,w,{get:p,set:void 0}),_classPrivateFieldInitSpec(this,C,{get:D,set:void 0}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:0}),_classPrivateFieldSet(this,F,g),_classPrivateFieldSet(this,W,b)}addFilter(g){var b,A;if(!g)return"none";let Q,ne,ue,he,H=_classPrivateFieldGet(this,C).get(g);if(H)return H;if(1===g.length){const Re=g[0],Fe=new Array(256);for(let Ue=0;Ue<256;Ue++)Fe[Ue]=Re[Ue]/255;he=Q=ne=ue=Fe.join(",")}else{const[Re,Fe,Ue]=g,et=new Array(256),We=new Array(256),ae=new Array(256);for(let Me=0;Me<256;Me++)et[Me]=Re[Me]/255,We[Me]=Fe[Me]/255,ae[Me]=Ue[Me]/255;Q=et.join(","),ne=We.join(","),ue=ae.join(","),he=`${Q}${ne}${ue}`}if(H=_classPrivateFieldGet(this,C).get(he),H)return _classPrivateFieldGet(this,C).set(g,H),H;const se=`g_${_classPrivateFieldGet(this,F)}_transfer_map_${_classPrivateFieldSet(this,O,(b=_classPrivateFieldGet(this,O),A=b++,b)),A}`,le=`url(#${se})`;_classPrivateFieldGet(this,C).set(g,le),_classPrivateFieldGet(this,C).set(he,le);const fe=_classPrivateFieldGet(this,W).createElementNS(N,"filter",N);fe.setAttribute("id",se),fe.setAttribute("color-interpolation-filters","sRGB");const _e=_classPrivateFieldGet(this,W).createElementNS(N,"feComponentTransfer");return fe.append(_e),_classPrivateMethodGet(this,G,_).call(this,_e,"feFuncR",Q),_classPrivateMethodGet(this,G,_).call(this,_e,"feFuncG",ne),_classPrivateMethodGet(this,G,_).call(this,_e,"feFuncB",ue),_classPrivateFieldGet(this,w).append(fe),le}addHCMFilter(g,b){const A=`${g}-${b}`;if(_classPrivateFieldGet(this,P)===A)return _classPrivateFieldGet(this,R);if(_classPrivateFieldSet(this,P,A),_classPrivateFieldSet(this,R,"none"),_classPrivateFieldGet(this,Y)?.remove(),!g||!b)return _classPrivateFieldGet(this,R);_classPrivateFieldGet(this,w).style.color=g;const H=x(g=getComputedStyle(_classPrivateFieldGet(this,w)).getPropertyValue("color"));g=S.Util.makeHexColor(...H),_classPrivateFieldGet(this,w).style.color=b;const Q=x(b=getComputedStyle(_classPrivateFieldGet(this,w)).getPropertyValue("color"));if(b=S.Util.makeHexColor(...Q),_classPrivateFieldGet(this,w).style.color="","#000000"===g&&"#ffffff"===b||g===b)return _classPrivateFieldGet(this,R);const ne=new Array(256);for(let Re=0;Re<=255;Re++){const Fe=Re/255;ne[Re]=Fe<=.03928?Fe/12.92:((Fe+.055)/1.055)**2.4}const ue=ne.join(","),he=`g_${_classPrivateFieldGet(this,F)}_hcm_filter`,se=_classPrivateFieldSet(this,Y,_classPrivateFieldGet(this,W).createElementNS(N,"filter",N));se.setAttribute("id",he),se.setAttribute("color-interpolation-filters","sRGB");let le=_classPrivateFieldGet(this,W).createElementNS(N,"feComponentTransfer");se.append(le),_classPrivateMethodGet(this,G,_).call(this,le,"feFuncR",ue),_classPrivateMethodGet(this,G,_).call(this,le,"feFuncG",ue),_classPrivateMethodGet(this,G,_).call(this,le,"feFuncB",ue);const fe=_classPrivateFieldGet(this,W).createElementNS(N,"feColorMatrix");fe.setAttribute("type","matrix"),fe.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),se.append(fe),le=_classPrivateFieldGet(this,W).createElementNS(N,"feComponentTransfer"),se.append(le);const _e=(Re,Fe)=>{const Ue=H[Re]/255,et=Q[Re]/255,We=new Array(Fe+1);for(let ae=0;ae<=Fe;ae++)We[ae]=Ue+ae/Fe*(et-Ue);return We.join(",")};return _classPrivateMethodGet(this,G,_).call(this,le,"feFuncR",_e(0,5)),_classPrivateMethodGet(this,G,_).call(this,le,"feFuncG",_e(1,5)),_classPrivateMethodGet(this,G,_).call(this,le,"feFuncB",_e(2,5)),_classPrivateFieldGet(this,w).append(se),_classPrivateFieldSet(this,R,`url(#${he})`),_classPrivateFieldGet(this,R)}destroy(g=!1){g&&_classPrivateFieldGet(this,R)||(_classPrivateFieldGet(this,M)&&(_classPrivateFieldGet(this,M).parentNode.parentNode.remove(),_classPrivateFieldSet(this,M,null)),_classPrivateFieldGet(this,te)&&(_classPrivateFieldGet(this,te).clear(),_classPrivateFieldSet(this,te,null)),_classPrivateFieldSet(this,O,0))}},c.DOMCanvasFactory=class V extends h.BaseCanvasFactory{constructor({ownerDocument:g=globalThis.document}={}){super(),this._document=g}_createCanvas(g,b){const A=this._document.createElement("canvas");return A.width=g,A.height=b,A}},c.DOMCMapReaderFactory=class J extends h.BaseCMapReaderFactory{_fetchData(g,b){return q(g,this.isCompressed).then(A=>({cMapData:A,compressionType:b}))}},c.DOMStandardFontDataFactory=class B extends h.BaseStandardFontDataFactory{_fetchData(g){return q(g,!0)}},c.DOMSVGFactory=class ce extends h.BaseSVGFactory{_createSVG(g){return document.createElementNS(N,g)}};class Se{constructor({viewBox:g,scale:b,rotation:A,offsetX:H=0,offsetY:Q=0,dontFlip:ne=!1}){this.viewBox=g,this.scale=b,this.rotation=A,this.offsetX=H,this.offsetY=Q;const ue=(g[2]+g[0])/2,he=(g[3]+g[1])/2;let se,le,fe,_e,Re,Fe,Ue,et;switch((A%=360)<0&&(A+=360),A){case 180:se=-1,le=0,fe=0,_e=1;break;case 90:se=0,le=1,fe=1,_e=0;break;case 270:se=0,le=-1,fe=-1,_e=0;break;case 0:se=1,le=0,fe=0,_e=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ne&&(fe=-fe,_e=-_e),0===se?(Re=Math.abs(he-g[1])*b+H,Fe=Math.abs(ue-g[0])*b+Q,Ue=(g[3]-g[1])*b,et=(g[2]-g[0])*b):(Re=Math.abs(ue-g[0])*b+H,Fe=Math.abs(he-g[1])*b+Q,Ue=(g[2]-g[0])*b,et=(g[3]-g[1])*b),this.transform=[se*b,le*b,fe*b,_e*b,Re-se*b*ue-fe*b*he,Fe-le*b*ue-_e*b*he],this.width=Ue,this.height=et}get rawDims(){const{viewBox:g}=this;return(0,S.shadow)(this,"rawDims",{pageWidth:g[2]-g[0],pageHeight:g[3]-g[1],pageX:g[0],pageY:g[1]})}clone({scale:g=this.scale,rotation:b=this.rotation,offsetX:A=this.offsetX,offsetY:H=this.offsetY,dontFlip:Q=!1}={}){return new Se({viewBox:this.viewBox.slice(),scale:g,rotation:b,offsetX:A,offsetY:H,dontFlip:Q})}convertToViewportPoint(g,b){return S.Util.applyTransform([g,b],this.transform)}convertToViewportRectangle(g){const b=S.Util.applyTransform([g[0],g[1]],this.transform),A=S.Util.applyTransform([g[2],g[3]],this.transform);return[b[0],b[1],A[0],A[1]]}convertToPdfPoint(g,b){return S.Util.applyInverseTransform([g,b],this.transform)}}function we(f){const g=f.length;let b=0;for(;b<g&&""===f[b].trim();)b++;return"data:"===f.substring(b,b+5).toLowerCase()}function ke(f,g){try{const{protocol:b}=g?new URL(f,g):new URL(f);return"http:"===b||"https:"===b}catch{return!1}}let ee;function x(f){if(f.startsWith("#")){const g=parseInt(f.slice(1),16);return[(16711680&g)>>16,(65280&g)>>8,255&g]}return f.startsWith("rgb(")?f.slice(4,-1).split(",").map(g=>parseInt(g)):f.startsWith("rgba(")?f.slice(5,-1).split(",").map(g=>parseInt(g)).slice(0,3):((0,S.warn)(`Not a valid color format: "${f}"`),[0,0,0])}c.PageViewport=Se,c.RenderingCancelledException=class ge extends S.BaseException{constructor(g,b,A=0){super(g,"RenderingCancelledException"),this.type=b,this.extraDelay=A}},c.StatTimer=class Ae{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(g){g in this.started&&(0,S.warn)(`Timer is already running for ${g}`),this.started[g]=Date.now()}timeEnd(g){g in this.started||(0,S.warn)(`Timer has not been started for ${g}`),this.times.push({name:g,start:this.started[g],end:Date.now()}),delete this.started[g]}toString(){const g=[];let b=0;for(const{name:A}of this.times)b=Math.max(A.length,b);for(const{name:A,start:H,end:Q}of this.times)g.push(`${A.padEnd(b)} ${Q-H}ms\n`);return g.join("")}},c.PDFDateString=class v{static toDateObject(g){if(!g||"string"!=typeof g)return null;ee||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const b=ee.exec(g);if(!b)return null;const A=parseInt(b[1],10);let H=parseInt(b[2],10);H=H>=1&&H<=12?H-1:0;let Q=parseInt(b[3],10);Q=Q>=1&&Q<=31?Q:1;let ne=parseInt(b[4],10);ne=ne>=0&&ne<=23?ne:0;let ue=parseInt(b[5],10);ue=ue>=0&&ue<=59?ue:0;let he=parseInt(b[6],10);he=he>=0&&he<=59?he:0;const se=b[7]||"Z";let le=parseInt(b[8],10);le=le>=0&&le<=23?le:0;let fe=parseInt(b[9],10)||0;return fe=fe>=0&&fe<=59?fe:0,"-"===se?(ne+=le,ue+=fe):"+"===se&&(ne-=le,ue-=fe),new Date(Date.UTC(A,H,Q,ne,ue,he))}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BaseStandardFontDataFactory=c.BaseSVGFactory=c.BaseFilterFactory=c.BaseCanvasFactory=c.BaseCMapReaderFactory=void 0;var h=T(1);class S{constructor(){this.constructor===S&&(0,h.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(F){return"none"}addHCMFilter(F,W){return"none"}destroy(F=!1){}}c.BaseFilterFactory=S;class N{constructor(){this.constructor===N&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(F,W){if(F<=0||W<=0)throw new Error("Invalid canvas size");const Y=this._createCanvas(F,W);return{canvas:Y,context:Y.getContext("2d")}}reset(F,W,Y){if(!F.canvas)throw new Error("Canvas is not specified");if(W<=0||Y<=0)throw new Error("Invalid canvas size");F.canvas.width=W,F.canvas.height=Y}destroy(F){if(!F.canvas)throw new Error("Canvas is not specified");F.canvas.width=0,F.canvas.height=0,F.canvas=null,F.context=null}_createCanvas(F,W){(0,h.unreachable)("Abstract method `_createCanvas` called.")}}c.BaseCanvasFactory=N;class k{constructor({baseUrl:F=null,isCompressed:W=!0}){this.constructor===k&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=F,this.isCompressed=W}fetch({name:F}){var W=this;return _asyncToGenerator(function*(){if(!W.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!F)throw new Error("CMap name must be specified.");const Y=W.baseUrl+F+(W.isCompressed?".bcmap":"");return W._fetchData(Y,W.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE).catch(R=>{throw new Error(`Unable to load ${W.isCompressed?"binary ":""}CMap at: ${Y}`)})})()}_fetchData(F,W){(0,h.unreachable)("Abstract method `_fetchData` called.")}}c.BaseCMapReaderFactory=k;class Z{constructor({baseUrl:F=null}){this.constructor===Z&&(0,h.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=F}fetch({filename:F}){var W=this;return _asyncToGenerator(function*(){if(!W.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!F)throw new Error("Font filename must be specified.");const Y=`${W.baseUrl}${F}`;return W._fetchData(Y).catch(P=>{throw new Error(`Unable to load font data at: ${Y}`)})})()}_fetchData(F){(0,h.unreachable)("Abstract method `_fetchData` called.")}}c.BaseStandardFontDataFactory=Z;class te{constructor(){this.constructor===te&&(0,h.unreachable)("Cannot initialize BaseSVGFactory.")}create(F,W,Y=!1){if(F<=0||W<=0)throw new Error("Invalid SVG dimensions");const P=this._createSVG("svg:svg");return P.setAttribute("version","1.1"),Y||(P.setAttribute("width",`${F}px`),P.setAttribute("height",`${W}px`)),P.setAttribute("preserveAspectRatio","none"),P.setAttribute("viewBox",`0 0 ${F} ${W}`),P}createElement(F){if("string"!=typeof F)throw new Error("Invalid SVG element type");return this._createSVG(F)}_createSVG(F){(0,h.unreachable)("Abstract method `_createSVG` called.")}}c.BaseSVGFactory=te},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MurmurHash3_64=void 0;var h=T(1);const S=3285377520,N=4294901760,k=65535;c.MurmurHash3_64=class Z{constructor(M){this.h1=M?4294967295&M:S,this.h2=M?4294967295&M:S}update(M){let F,W;if("string"==typeof M){F=new Uint8Array(2*M.length),W=0;for(let V=0,q=M.length;V<q;V++){const L=M.charCodeAt(V);L<=255?F[W++]=L:(F[W++]=L>>>8,F[W++]=255&L)}}else{if(!(0,h.isArrayBuffer)(M))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");F=M.slice(),W=F.byteLength}const Y=W>>2,P=W-4*Y,R=new Uint32Array(F.buffer,0,Y);let O=0,C=0,w=this.h1,G=this.h2;const U=3432918353,D=461845907,p=U&k,_=D&k;for(let V=0;V<Y;V++)1&V?(O=R[V],O=O*U&N|O*p&k,O=O<<15|O>>>17,O=O*D&N|O*_&k,w^=O,w=w<<13|w>>>19,w=5*w+3864292196):(C=R[V],C=C*U&N|C*p&k,C=C<<15|C>>>17,C=C*D&N|C*_&k,G^=C,G=G<<13|G>>>19,G=5*G+3864292196);switch(O=0,P){case 3:O^=F[4*Y+2]<<16;case 2:O^=F[4*Y+1]<<8;case 1:O^=F[4*Y],O=O*U&N|O*p&k,O=O<<15|O>>>17,O=O*D&N|O*_&k,1&Y?w^=O:G^=O}this.h1=w,this.h2=G}hexdigest(){let M=this.h1,F=this.h2;return M^=F>>>1,M=3981806797*M&N|36045*M&k,F=4283543511*F&N|(2950163797*(F<<16|M>>>16)&N)>>>16,M^=F>>>1,M=444984403*M&N|60499*M&k,F=3301882366*F&N|(3120437893*(F<<16|M>>>16)&N)>>>16,M^=F>>>1,(M>>>0).toString(16).padStart(8,"0")+(F>>>0).toString(16).padStart(8,"0")}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FontLoader=c.FontFaceObject=void 0;var h=T(1),S=T(10),N=new WeakMap;c.FontLoader=class k{constructor({ownerDocument:M=globalThis.document,styleElement:F=null}){_classPrivateFieldInitSpec(this,N,{writable:!0,value:new Set}),this._document=M,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(M){this.nativeFontFaces.add(M),this._document.fonts.add(M)}removeNativeFontFace(M){this.nativeFontFaces.delete(M),this._document.fonts.delete(M)}insertRule(M){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const F=this.styleElement.sheet;F.insertRule(M,F.cssRules.length)}clear(){for(const M of this.nativeFontFaces)this._document.fonts.delete(M);this.nativeFontFaces.clear(),_classPrivateFieldGet(this,N).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(M){var F=this;return _asyncToGenerator(function*(){if(M&&!_classPrivateFieldGet(F,N).has(M.loadedName)){if((0,h.assert)(!F.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),F.isFontLoadingAPISupported){const{loadedName:W,src:Y,style:P}=M,R=new FontFace(W,Y,P);F.addNativeFontFace(R);try{yield R.load(),_classPrivateFieldGet(F,N).add(W)}catch{(0,h.warn)(`Cannot load system font: ${M.baseFontName}, installing it could help to improve PDF rendering.`),F.removeNativeFontFace(R)}return}(0,h.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(M){var F=this;return _asyncToGenerator(function*(){if(M.attached||M.missingFile&&!M.systemFontInfo)return;if(M.attached=!0,M.systemFontInfo)return void(yield F.loadSystemFont(M.systemFontInfo));if(F.isFontLoadingAPISupported){const Y=M.createNativeFontFace();if(Y){F.addNativeFontFace(Y);try{yield Y.loaded}catch(P){throw(0,h.warn)(`Failed to load font '${Y.family}': '${P}'.`),M.disableFontFace=!0,P}}return}const W=M.createFontFaceRule();if(W){if(F.insertRule(W),F.isSyncFontLoadingSupported)return;yield new Promise(Y=>{const P=F._queueLoadingCallback(Y);F._prepareFontLoadEvent(M,P)})}})()}get isFontLoadingAPISupported(){return(0,h.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let M=!1;return(S.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(M=!0),(0,h.shadow)(this,"isSyncFontLoadingSupported",M)}_queueLoadingCallback(M){const{loadingRequests:W}=this,Y={done:!1,complete:function F(){for((0,h.assert)(!Y.done,"completeRequest() cannot be called twice."),Y.done=!0;W.length>0&&W[0].done;){const P=W.shift();setTimeout(P.callback,0)}},callback:M};return W.push(Y),Y}get _loadTestFont(){const M=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,h.shadow)(this,"_loadTestFont",M)}_prepareFontLoadEvent(M,F){function W(ce,Se){return ce.charCodeAt(Se)<<24|ce.charCodeAt(Se+1)<<16|ce.charCodeAt(Se+2)<<8|255&ce.charCodeAt(Se+3)}function Y(ce,Se,ge,we){return ce.substring(0,Se)+we+ce.substring(Se+ge)}let P,R;const O=this._document.createElement("canvas");O.width=1,O.height=1;const C=O.getContext("2d");let w=0;const U=`lt${Date.now()}${this.loadTestFontId++}`;let D=this._loadTestFont;D=Y(D,976,U.length,U);const V=1482184792;let q=W(D,16);for(P=0,R=U.length-3;P<R;P+=4)q=q-V+W(U,P)|0;P<U.length&&(q=q-V+W(U+"XXX",P)|0),D=Y(D,16,4,(0,h.string32)(q));const L=`url(data:font/opentype;base64,${btoa(D)});`;this.insertRule(`@font-face {font-family:"${U}";src:${L}}`);const B=this._document.createElement("div");B.style.visibility="hidden",B.style.width=B.style.height="10px",B.style.position="absolute",B.style.top=B.style.left="0px";for(const ce of[M.loadedName,U]){const Se=this._document.createElement("span");Se.textContent="Hi",Se.style.fontFamily=ce,B.append(Se)}this._document.body.append(B),function G(ce,Se){if(++w>30)return(0,h.warn)("Load test font never loaded."),void Se();C.font="30px "+ce,C.fillText(".",0,20),C.getImageData(0,0,1,1).data[3]>0?Se():setTimeout(G.bind(null,ce,Se))}(U,()=>{B.remove(),F.complete()})}},c.FontFaceObject=class Z{constructor(M,{isEvalSupported:F=!0,disableFontFace:W=!1,ignoreErrors:Y=!1,inspectFont:P=null}){this.compiledGlyphs=Object.create(null);for(const R in M)this[R]=M[R];this.isEvalSupported=!1!==F,this.disableFontFace=!0===W,this.ignoreErrors=!0===Y,this._inspectFont=P}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let M;if(this.cssFontInfo){const F={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(F.style=`oblique ${this.cssFontInfo.italicAngle}deg`),M=new FontFace(this.cssFontInfo.fontFamily,this.data,F)}else M=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),M}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const M=(0,h.bytesToString)(this.data),F=`url(data:${this.mimetype};base64,${btoa(M)});`;let W;if(this.cssFontInfo){let Y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),W=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Y}src:${F}}`}else W=`@font-face {font-family:"${this.loadedName}";src:${F}}`;return this._inspectFont?.(this,F),W}getPathGenerator(M,F){if(void 0!==this.compiledGlyphs[F])return this.compiledGlyphs[F];let W;try{W=M.get(this.loadedName+"_path_"+F)}catch(Y){if(!this.ignoreErrors)throw Y;return(0,h.warn)(`getPathGenerator - ignoring character: "${Y}".`),this.compiledGlyphs[F]=function(P,R){}}if(this.isEvalSupported&&h.FeatureTest.isEvalSupported){const Y=[];for(const P of W){const R=void 0!==P.args?P.args.join(","):"";Y.push("c.",P.cmd,"(",R,");\n")}return this.compiledGlyphs[F]=new Function("c","size",Y.join(""))}return this.compiledGlyphs[F]=function(Y,P){for(const R of W)"scale"===R.cmd&&(R.args=[P,-P]),Y[R.cmd].apply(Y,R.args)}}}},(I,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isNodeJS=void 0;const T=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);c.isNodeJS=T},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CanvasGraphics=void 0;var h=T(1),S=T(6),N=T(12),k=T(13),Z=T(10);const F=4096,R=16;class C{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,y,x){let z;return void 0!==this.cache[v]?(z=this.cache[v],this.canvasFactory.reset(z,y,x)):(z=this.canvasFactory.create(y,x),this.cache[v]=z),z}delete(v){delete this.cache[v]}clear(){for(const v in this.cache)this.canvasFactory.destroy(this.cache[v]),delete this.cache[v]}}function w(ee,v,y,x,z,K,$,d,f,g){const[b,A,H,Q,ne,ue]=(0,S.getCurrentTransform)(ee);if(0===A&&0===H){const fe=Math.round($*b+ne),Re=Math.round(d*Q+ue),Ue=Math.abs(Math.round(($+f)*b+ne)-fe)||1,We=Math.abs(Math.round((d+g)*Q+ue)-Re)||1;return ee.setTransform(Math.sign(b),0,0,Math.sign(Q),fe,Re),ee.drawImage(v,y,x,z,K,0,0,Ue,We),ee.setTransform(b,A,H,Q,ne,ue),[Ue,We]}if(0===b&&0===Q){const fe=Math.round(d*H+ne),Re=Math.round($*A+ue),Ue=Math.abs(Math.round((d+g)*H+ne)-fe)||1,We=Math.abs(Math.round(($+f)*A+ue)-Re)||1;return ee.setTransform(0,Math.sign(A),Math.sign(H),0,fe,Re),ee.drawImage(v,y,x,z,K,0,0,We,Ue),ee.setTransform(b,A,H,Q,ne,ue),[We,Ue]}return ee.drawImage(v,y,x,z,K,$,d,f,g),[Math.hypot(b,A)*f,Math.hypot(H,Q)*g]}class U{constructor(v,y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,v,y])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,y){this.x=v,this.y=y}updatePathMinMax(v,y,x){[y,x]=h.Util.applyTransform([y,x],v),this.minX=Math.min(this.minX,y),this.minY=Math.min(this.minY,x),this.maxX=Math.max(this.maxX,y),this.maxY=Math.max(this.maxY,x)}updateRectMinMax(v,y){const x=h.Util.applyTransform(y,v),z=h.Util.applyTransform(y.slice(2),v);this.minX=Math.min(this.minX,x[0],z[0]),this.minY=Math.min(this.minY,x[1],z[1]),this.maxX=Math.max(this.maxX,x[0],z[0]),this.maxY=Math.max(this.maxY,x[1],z[1])}updateScalingPathMinMax(v,y){h.Util.scaleMinMax(v,y),this.minX=Math.min(this.minX,y[0]),this.maxX=Math.max(this.maxX,y[1]),this.minY=Math.min(this.minY,y[2]),this.maxY=Math.max(this.maxY,y[3])}updateCurvePathMinMax(v,y,x,z,K,$,d,f,g,b){const A=h.Util.bezierBoundingBox(y,x,z,K,$,d,f,g);if(b)return b[0]=Math.min(b[0],A[0],A[2]),b[1]=Math.max(b[1],A[0],A[2]),b[2]=Math.min(b[2],A[1],A[3]),void(b[3]=Math.max(b[3],A[1],A[3]));this.updateRectMinMax(v,A)}getPathBoundingBox(v=N.PathType.FILL,y=null){const x=[this.minX,this.minY,this.maxX,this.maxY];if(v===N.PathType.STROKE){y||(0,h.unreachable)("Stroke bounding box must include transform.");const z=h.Util.singularValueDecompose2dScale(y),K=z[0]*this.lineWidth/2,$=z[1]*this.lineWidth/2;x[0]-=K,x[1]-=$,x[2]+=K,x[3]+=$}return x}updateClipFromPath(){const v=h.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=N.PathType.FILL,y=null){return h.Util.intersect(this.clipBox,this.getPathBoundingBox(v,y))}}function D(ee,v){if(typeof ImageData<"u"&&v instanceof ImageData)return void ee.putImageData(v,0,0);const y=v.height,x=v.width,z=y%R,K=(y-z)/R,$=0===z?K:K+1,d=ee.createImageData(x,R);let g,f=0;const b=v.data,A=d.data;let H,Q,ne,ue;if(v.kind===h.ImageKind.GRAYSCALE_1BPP){const he=b.byteLength,se=new Uint32Array(A.buffer,0,A.byteLength>>2),le=se.length,fe=x+7>>3,_e=4294967295,Re=h.FeatureTest.isLittleEndian?4278190080:255;for(H=0;H<$;H++){for(ne=H<K?R:z,g=0,Q=0;Q<ne;Q++){const Fe=he-f;let Ue=0;const et=Fe>fe?x:8*Fe-7,We=-8&et;let ae=0,Me=0;for(;Ue<We;Ue+=8)Me=b[f++],se[g++]=128&Me?_e:Re,se[g++]=64&Me?_e:Re,se[g++]=32&Me?_e:Re,se[g++]=16&Me?_e:Re,se[g++]=8&Me?_e:Re,se[g++]=4&Me?_e:Re,se[g++]=2&Me?_e:Re,se[g++]=1&Me?_e:Re;for(;Ue<et;Ue++)0===ae&&(Me=b[f++],ae=128),se[g++]=Me&ae?_e:Re,ae>>=1}for(;g<le;)se[g++]=0;ee.putImageData(d,0,H*R)}}else if(v.kind===h.ImageKind.RGBA_32BPP){for(Q=0,ue=x*R*4,H=0;H<K;H++)A.set(b.subarray(f,f+ue)),f+=ue,ee.putImageData(d,0,Q),Q+=R;H<$&&(ue=x*z*4,A.set(b.subarray(f,f+ue)),ee.putImageData(d,0,Q))}else{if(v.kind!==h.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${v.kind}`);for(ne=R,ue=x*ne,H=0;H<$;H++){for(H>=K&&(ne=z,ue=x*ne),g=0,Q=ue;Q--;)A[g++]=b[f++],A[g++]=b[f++],A[g++]=b[f++],A[g++]=255;ee.putImageData(d,0,H*R)}}}function p(ee,v){if(v.bitmap)return void ee.drawImage(v.bitmap,0,0);const y=v.height,x=v.width,z=y%R,K=(y-z)/R,$=0===z?K:K+1,d=ee.createImageData(x,R);let f=0;const g=v.data,b=d.data;for(let A=0;A<$;A++){const H=A<K?R:z;({srcPos:f}=(0,k.convertBlackAndWhiteToRGBA)({src:g,srcPos:f,dest:b,width:x,height:H,nonBlackColor:0})),ee.putImageData(d,0,A*R)}}function _(ee,v){const y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const x of y)void 0!==ee[x]&&(v[x]=ee[x]);void 0!==ee.setLineDash&&(v.setLineDash(ee.getLineDash()),v.lineDashOffset=ee.lineDashOffset)}function V(ee){ee.strokeStyle=ee.fillStyle="#000000",ee.fillRule="nonzero",ee.globalAlpha=1,ee.lineWidth=1,ee.lineCap="butt",ee.lineJoin="miter",ee.miterLimit=10,ee.globalCompositeOperation="source-over",ee.font="10px sans-serif",void 0!==ee.setLineDash&&(ee.setLineDash([]),ee.lineDashOffset=0),Z.isNodeJS||(ee.filter="none")}function q(ee,v,y,x){const z=ee.length;for(let K=3;K<z;K+=4){const $=ee[K];if(0===$)ee[K-3]=v,ee[K-2]=y,ee[K-1]=x;else if($<255){const d=255-$;ee[K-3]=ee[K-3]*$+v*d>>8,ee[K-2]=ee[K-2]*$+y*d>>8,ee[K-1]=ee[K-1]*$+x*d>>8}}}function L(ee,v,y){const x=ee.length;for(let K=3;K<x;K+=4)v[K]=v[K]*(y?y[ee[K]]:ee[K])*.00392156862745098|0}function J(ee,v,y){const x=ee.length;for(let z=3;z<x;z+=4){const K=77*ee[z-3]+152*ee[z-2]+28*ee[z-1];v[z]=y?v[z]*y[K>>8]>>8:v[z]*K>>16}}function Se(ee,v){const y=h.Util.singularValueDecompose2dScale(ee);y[0]=Math.fround(y[0]),y[1]=Math.fround(y[1]);const x=Math.fround((globalThis.devicePixelRatio||1)*S.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==v?v:y[0]<=x||y[1]<=x}const ge=["butt","round","square"],we=["miter","round","bevel"],Te={},Be={};var Ce=new WeakSet,Ae=new WeakSet;class ke{constructor(v,y,x,z,K,{optionalContentConfig:$,markedContentStack:d=null},f,g){_classPrivateMethodInitSpec(this,Ae),_classPrivateMethodInitSpec(this,Ce),this.ctx=v,this.current=new U(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=y,this.objs=x,this.canvasFactory=z,this.filterFactory=K,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=$,this.cachedCanvases=new C(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(v,y=null){return"string"==typeof v?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):y}beginDrawing({transform:v,viewport:y,transparency:x=!1,background:z=null}){const K=this.ctx.canvas.width,$=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=z||"#ffffff",this.ctx.fillRect(0,0,K,$),this.ctx.fillStyle=d,x){const f=this.cachedCanvases.getCanvas("transparent",K,$);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...(0,S.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),V(this.ctx),v&&(this.ctx.transform(...v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform(...y.transform),this.viewportScale=y.scale,this.baseTransform=(0,S.getCurrentTransform)(this.ctx)}executeOperatorList(v,y,x,z){const K=v.argsArray,$=v.fnArray;let d=y||0;const f=K.length;if(f===d)return d;const g=f-d>10&&"function"==typeof x,b=g?Date.now()+15:0;let A=0;const H=this.commonObjs,Q=this.objs;let ne;for(;;){if(void 0!==z&&d===z.nextBreakPoint)return z.breakIt(d,x),d;if(ne=$[d],ne!==h.OPS.dependency)this[ne].apply(this,K[d]);else for(const ue of K[d]){const he=ue.startsWith("g_")?H:Q;if(!he.has(ue))return he.get(ue,x),d}if(d++,d===f)return d;if(g&&++A>10){if(Date.now()>b)return x(),d;A=0}}}endDrawing(){_classPrivateMethodGet(this,Ce,$e).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const v of this._cachedBitmapsMap.values()){for(const y of v.values())typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement&&(y.width=y.height=0);v.clear()}this._cachedBitmapsMap.clear(),_classPrivateMethodGet(this,Ae,qe).call(this)}_scaleImage(v,y){const x=v.width,z=v.height;let b,A,K=Math.max(Math.hypot(y[0],y[1]),1),$=Math.max(Math.hypot(y[2],y[3]),1),d=x,f=z,g="prescale1";for(;K>2&&d>1||$>2&&f>1;){let H=d,Q=f;K>2&&d>1&&(H=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),K/=d/H),$>2&&f>1&&(Q=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,$/=f/Q),b=this.cachedCanvases.getCanvas(g,H,Q),A=b.context,A.clearRect(0,0,H,Q),A.drawImage(v,0,0,d,f,0,0,H,Q),v=b.canvas,d=H,f=Q,g="prescale1"===g?"prescale2":"prescale1"}return{img:v,paintWidth:d,paintHeight:f}}_createMaskCanvas(v){const y=this.ctx,{width:x,height:z}=v,K=this.current.fillColor,$=this.current.patternFill,d=(0,S.getCurrentTransform)(y);let f,g,b,A;if((v.bitmap||v.data)&&v.count>1){const Ue=v.bitmap||v.data.buffer;g=JSON.stringify($?d:[d.slice(0,4),K]),f=this._cachedBitmapsMap.get(Ue),f||(f=new Map,this._cachedBitmapsMap.set(Ue,f));const et=f.get(g);if(et&&!$)return{canvas:et,offsetX:Math.round(Math.min(d[0],d[2])+d[4]),offsetY:Math.round(Math.min(d[1],d[3])+d[5])};b=et}b||(A=this.cachedCanvases.getCanvas("maskCanvas",x,z),p(A.context,v));let H=h.Util.transform(d,[1/x,0,0,-1/z,0,0]);H=h.Util.transform(H,[1,0,0,1,0,-z]);const Q=h.Util.applyTransform([0,0],H),ne=h.Util.applyTransform([x,z],H),ue=h.Util.normalizeRect([Q[0],Q[1],ne[0],ne[1]]),he=Math.round(ue[2]-ue[0])||1,se=Math.round(ue[3]-ue[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",he,se),fe=le.context,_e=Math.min(Q[0],ne[0]),Re=Math.min(Q[1],ne[1]);fe.translate(-_e,-Re),fe.transform(...H),b||(b=this._scaleImage(A.canvas,(0,S.getCurrentTransformInverse)(fe)),b=b.img,f&&$&&f.set(g,b)),fe.imageSmoothingEnabled=Se((0,S.getCurrentTransform)(fe),v.interpolate),w(fe,b,0,0,b.width,b.height,0,0,x,z),fe.globalCompositeOperation="source-in";const Fe=h.Util.transform((0,S.getCurrentTransformInverse)(fe),[1,0,0,1,-_e,-Re]);return fe.fillStyle=$?K.getPattern(y,this,Fe,N.PathType.FILL):K,fe.fillRect(0,0,x,z),f&&!$&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,le.canvas)),{canvas:le.canvas,offsetX:Math.round(_e),offsetY:Math.round(Re)}}setLineWidth(v){v!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=ge[v]}setLineJoin(v){this.ctx.lineJoin=we[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,y){const x=this.ctx;void 0!==x.setLineDash&&(x.setLineDash(v),x.lineDashOffset=y)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[y,x]of v)switch(y){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x[0],x[1]);break;case"CA":this.current.strokeAlpha=x;break;case"ca":this.current.fillAlpha=x,this.ctx.globalAlpha=x;break;case"BM":this.ctx.globalCompositeOperation=x;break;case"SMask":this.current.activeSMask=x?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(x)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const z=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=z.context;const K=this.ctx;K.setTransform(...(0,S.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,K),function O(ee,v){if(ee._removeMirroring)throw new Error("Context is already forwarding operations.");ee.__originalSave=ee.save,ee.__originalRestore=ee.restore,ee.__originalRotate=ee.rotate,ee.__originalScale=ee.scale,ee.__originalTranslate=ee.translate,ee.__originalTransform=ee.transform,ee.__originalSetTransform=ee.setTransform,ee.__originalResetTransform=ee.resetTransform,ee.__originalClip=ee.clip,ee.__originalMoveTo=ee.moveTo,ee.__originalLineTo=ee.lineTo,ee.__originalBezierCurveTo=ee.bezierCurveTo,ee.__originalRect=ee.rect,ee.__originalClosePath=ee.closePath,ee.__originalBeginPath=ee.beginPath,ee._removeMirroring=()=>{ee.save=ee.__originalSave,ee.restore=ee.__originalRestore,ee.rotate=ee.__originalRotate,ee.scale=ee.__originalScale,ee.translate=ee.__originalTranslate,ee.transform=ee.__originalTransform,ee.setTransform=ee.__originalSetTransform,ee.resetTransform=ee.__originalResetTransform,ee.clip=ee.__originalClip,ee.moveTo=ee.__originalMoveTo,ee.lineTo=ee.__originalLineTo,ee.bezierCurveTo=ee.__originalBezierCurveTo,ee.rect=ee.__originalRect,ee.closePath=ee.__originalClosePath,ee.beginPath=ee.__originalBeginPath,delete ee._removeMirroring},ee.save=function(){v.save(),this.__originalSave()},ee.restore=function(){v.restore(),this.__originalRestore()},ee.translate=function(x,z){v.translate(x,z),this.__originalTranslate(x,z)},ee.scale=function(x,z){v.scale(x,z),this.__originalScale(x,z)},ee.transform=function(x,z,K,$,d,f){v.transform(x,z,K,$,d,f),this.__originalTransform(x,z,K,$,d,f)},ee.setTransform=function(x,z,K,$,d,f){v.setTransform(x,z,K,$,d,f),this.__originalSetTransform(x,z,K,$,d,f)},ee.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},ee.rotate=function(x){v.rotate(x),this.__originalRotate(x)},ee.clip=function(x){v.clip(x),this.__originalClip(x)},ee.moveTo=function(y,x){v.moveTo(y,x),this.__originalMoveTo(y,x)},ee.lineTo=function(y,x){v.lineTo(y,x),this.__originalLineTo(y,x)},ee.bezierCurveTo=function(y,x,z,K,$,d){v.bezierCurveTo(y,x,z,K,$,d),this.__originalBezierCurveTo(y,x,z,K,$,d)},ee.rect=function(y,x,z,K){v.rect(y,x,z,K),this.__originalRect(y,x,z,K)},ee.closePath=function(){v.closePath(),this.__originalClosePath()},ee.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}(K,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){this.current.activeSMask&&(v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function ce(ee,v,y,x){const z=x[0],K=x[1],$=x[2]-z,d=x[3]-K;0===$||0===d||(function B(ee,v,y,x,z,K,$,d,f,g,b){const A=!!K,H=A?K[0]:0,Q=A?K[1]:0,ne=A?K[2]:0;let ue;ue="Luminosity"===z?J:L;const se=Math.min(x,Math.ceil(1048576/y));for(let le=0;le<x;le+=se){const fe=Math.min(se,x-le),_e=ee.getImageData(d-g,le+(f-b),y,fe),Re=v.getImageData(d,le+f,y,fe);A&&q(_e.data,H,Q,ne),ue(_e.data,Re.data,$),v.putImageData(Re,d,le+f)}}(v.context,y,$,d,v.subtype,v.backdrop,v.transferMap,z,K,v.offsetX,v.offsetY),ee.save(),ee.globalAlpha=1,ee.globalCompositeOperation="source-over",ee.setTransform(1,0,0,1,0,0),ee.drawImage(y.canvas,0,0),ee.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(v,y,x,z,K,$){this.ctx.transform(v,y,x,z,K,$),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(v,y,x){const z=this.ctx,K=this.current;let f,g,$=K.x,d=K.y;const b=(0,S.getCurrentTransform)(z),A=0===b[0]&&0===b[3]||0===b[1]&&0===b[2],H=A?x.slice(0):null;for(let Q=0,ne=0,ue=v.length;Q<ue;Q++)switch(0|v[Q]){case h.OPS.rectangle:$=y[ne++],d=y[ne++];const he=y[ne++],se=y[ne++],le=$+he,fe=d+se;z.moveTo($,d),0===he||0===se?z.lineTo(le,fe):(z.lineTo(le,d),z.lineTo(le,fe),z.lineTo($,fe)),A||K.updateRectMinMax(b,[$,d,le,fe]),z.closePath();break;case h.OPS.moveTo:$=y[ne++],d=y[ne++],z.moveTo($,d),A||K.updatePathMinMax(b,$,d);break;case h.OPS.lineTo:$=y[ne++],d=y[ne++],z.lineTo($,d),A||K.updatePathMinMax(b,$,d);break;case h.OPS.curveTo:f=$,g=d,$=y[ne+4],d=y[ne+5],z.bezierCurveTo(y[ne],y[ne+1],y[ne+2],y[ne+3],$,d),K.updateCurvePathMinMax(b,f,g,y[ne],y[ne+1],y[ne+2],y[ne+3],$,d,H),ne+=6;break;case h.OPS.curveTo2:f=$,g=d,z.bezierCurveTo($,d,y[ne],y[ne+1],y[ne+2],y[ne+3]),K.updateCurvePathMinMax(b,f,g,$,d,y[ne],y[ne+1],y[ne+2],y[ne+3],H),$=y[ne+2],d=y[ne+3],ne+=4;break;case h.OPS.curveTo3:f=$,g=d,$=y[ne+2],d=y[ne+3],z.bezierCurveTo(y[ne],y[ne+1],$,d,$,d),K.updateCurvePathMinMax(b,f,g,y[ne],y[ne+1],$,d,$,d,H),ne+=4;break;case h.OPS.closePath:z.closePath()}A&&K.updateScalingPathMinMax(b,H),K.setCurrentPoint($,d)}closePath(){this.ctx.closePath()}stroke(v=!0){const y=this.ctx,x=this.current.strokeColor;y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof x&&x?.getPattern?(y.save(),y.strokeStyle=x.getPattern(y,this,(0,S.getCurrentTransformInverse)(y),N.PathType.STROKE),this.rescaleAndStroke(!1),y.restore()):this.rescaleAndStroke(!0)),v&&this.consumePath(this.current.getClippedPathBoundingBox()),y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v=!0){const y=this.ctx,x=this.current.fillColor;let K=!1;this.current.patternFill&&(y.save(),y.fillStyle=x.getPattern(y,this,(0,S.getCurrentTransformInverse)(y),N.PathType.FILL),K=!0);const $=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==$&&(this.pendingEOFill?(y.fill("evenodd"),this.pendingEOFill=!1):y.fill()),K&&y.restore(),v&&this.consumePath($)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Te}eoClip(){this.pendingClip=Be}beginText(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,y=this.ctx;if(void 0!==v){y.save(),y.beginPath();for(const x of v)y.setTransform(...x.transform),y.translate(x.x,x.y),x.addToPath(y,x.fontSize);y.restore(),y.clip(),y.beginPath(),delete this.pendingTextPaths}else y.beginPath()}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,y){const x=this.commonObjs.get(v),z=this.current;if(!x)throw new Error(`Can't find font for ${v}`);if(z.fontMatrix=x.fontMatrix||h.FONT_IDENTITY_MATRIX,(0===z.fontMatrix[0]||0===z.fontMatrix[3])&&(0,h.warn)("Invalid font matrix for font "+v),y<0?(y=-y,z.fontDirection=-1):z.fontDirection=1,this.current.font=x,this.current.fontSize=y,x.isType3Font)return;const $=x.systemFontInfo?.css||`"${x.loadedName||"sans-serif"}", ${x.fallbackName}`;let d="normal";x.black?d="900":x.bold&&(d="bold");const f=x.italic?"italic":"normal";let g=y;y<16?g=16:y>100&&(g=100),this.current.fontSizeScale=y/g,this.ctx.font=`${f} ${d} ${g}px ${$}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,y){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=y}setLeadingMoveText(v,y){this.setLeading(-y),this.moveText(v,y)}setTextMatrix(v,y,x,z,K,$){this.current.textMatrix=[v,y,x,z,K,$],this.current.textMatrixScale=Math.hypot(v,y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,y,x,z){const K=this.ctx,$=this.current,d=$.font,f=$.textRenderingMode,g=$.fontSize/$.fontSizeScale,b=f&h.TextRenderingMode.FILL_STROKE_MASK,A=!!(f&h.TextRenderingMode.ADD_TO_PATH_FLAG),H=$.patternFill&&!d.missingFile;let Q;(d.disableFontFace||A||H)&&(Q=d.getPathGenerator(this.commonObjs,v)),d.disableFontFace||H?(K.save(),K.translate(y,x),K.beginPath(),Q(K,g),z&&K.setTransform(...z),(b===h.TextRenderingMode.FILL||b===h.TextRenderingMode.FILL_STROKE)&&K.fill(),(b===h.TextRenderingMode.STROKE||b===h.TextRenderingMode.FILL_STROKE)&&K.stroke(),K.restore()):((b===h.TextRenderingMode.FILL||b===h.TextRenderingMode.FILL_STROKE)&&K.fillText(v,y,x),(b===h.TextRenderingMode.STROKE||b===h.TextRenderingMode.FILL_STROKE)&&K.strokeText(v,y,x)),A&&(this.pendingTextPaths||=[]).push({transform:(0,S.getCurrentTransform)(K),x:y,y:x,fontSize:g,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const y=v.getImageData(0,0,10,10).data;let x=!1;for(let z=3;z<y.length;z+=4)if(y[z]>0&&y[z]<255){x=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",x)}showText(v){const y=this.current,x=y.font;if(x.isType3Font)return this.showType3Text(v);const z=y.fontSize;if(0===z)return;const K=this.ctx,$=y.fontSizeScale,d=y.charSpacing,f=y.wordSpacing,g=y.fontDirection,b=y.textHScale*g,A=v.length,H=x.vertical,Q=H?1:-1,ne=x.defaultVMetrics,ue=z*y.fontMatrix[0],he=y.textRenderingMode===h.TextRenderingMode.FILL&&!x.disableFontFace&&!y.patternFill;let se;if(K.save(),K.transform(...y.textMatrix),K.translate(y.x,y.y+y.textRise),K.scale(b,g>0?-1:1),y.patternFill){K.save();const Fe=y.fillColor.getPattern(K,this,(0,S.getCurrentTransformInverse)(K),N.PathType.FILL);se=(0,S.getCurrentTransform)(K),K.restore(),K.fillStyle=Fe}let le=y.lineWidth;const fe=y.textMatrixScale;if(0===fe||0===le){const Fe=y.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(Fe===h.TextRenderingMode.STROKE||Fe===h.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=fe;if(1!==$&&(K.scale($,$),le/=$),K.lineWidth=le,x.isInvalidPDFjsFont){const Fe=[];let Ue=0;for(const et of v)Fe.push(et.unicode),Ue+=et.width;return K.fillText(Fe.join(""),0,0),y.x+=Ue*ue*b,K.restore(),void this.compose()}let Re,_e=0;for(Re=0;Re<A;++Re){const Fe=v[Re];if("number"==typeof Fe){_e+=Q*Fe*z/1e3;continue}let Ue=!1;const et=(Fe.isSpace?f:0)+d,We=Fe.fontChar,ae=Fe.accent;let Me,Ke,Lt,ct=Fe.width;if(H){const Mt=Fe.vmetric||ne,me=-(Fe.vmetric?Mt[1]:.5*ct)*ue;ct=Mt?-Mt[0]:ct,Me=me/$,Ke=(_e+Mt[2]*ue)/$}else Me=_e/$,Ke=0;if(x.remeasure&&ct>0){const Mt=1e3*K.measureText(We).width/z*$;if(ct<Mt&&this.isFontSubpixelAAEnabled){const me=ct/Mt;Ue=!0,K.save(),K.scale(me,1),Me/=me}else ct!==Mt&&(Me+=(ct-Mt)/2e3*z/$)}this.contentVisible&&(Fe.isInFont||x.missingFile)&&(he&&!ae?K.fillText(We,Me,Ke):(this.paintChar(We,Me,Ke,se),ae&&this.paintChar(ae.fontChar,Me+z*ae.offset.x/$,Ke-z*ae.offset.y/$,se))),Lt=H?ct*ue-et*g:ct*ue+et*g,_e+=Lt,Ue&&K.restore()}H?y.y-=_e:y.x+=_e*b,K.restore(),this.compose()}showType3Text(v){const y=this.ctx,x=this.current,z=x.font,K=x.fontSize,$=x.fontDirection,d=z.vertical?1:-1,f=x.charSpacing,g=x.wordSpacing,b=x.textHScale*$,A=x.fontMatrix||h.FONT_IDENTITY_MATRIX,H=v.length;let ne,ue,he,se;if(x.textRenderingMode!==h.TextRenderingMode.INVISIBLE&&0!==K){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,y.save(),y.transform(...x.textMatrix),y.translate(x.x,x.y),y.scale(b,$),ne=0;ne<H;++ne){if(ue=v[ne],"number"==typeof ue){se=d*ue*K/1e3,this.ctx.translate(se,0),x.x+=se*b;continue}const le=(ue.isSpace?g:0)+f,fe=z.charProcOperatorList[ue.operatorListId];fe?(this.contentVisible&&(this.processingType3=ue,this.save(),y.scale(K,K),y.transform(...A),this.executeOperatorList(fe),this.restore()),he=h.Util.applyTransform([ue.width,0],A)[0]*K+le,y.translate(he,0),x.x+=he*b):(0,h.warn)(`Type3 character "${ue.operatorListId}" is not available.`)}y.restore(),this.processingType3=null}}setCharWidth(v,y){}setCharWidthAndBounds(v,y,x,z,K,$){this.ctx.rect(x,z,K-x,$-z),this.ctx.clip(),this.endPath()}getColorN_Pattern(v){let y;if("TilingPattern"===v[0]){const x=v[1],z=this.baseTransform||(0,S.getCurrentTransform)(this.ctx);y=new N.TilingPattern(v,x,this.ctx,{createCanvasGraphics:$=>new ke($,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},z)}else y=this._getPattern(v[1],v[2]);return y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,y,x){const z=h.Util.makeHexColor(v,y,x);this.ctx.strokeStyle=z,this.current.strokeColor=z}setFillRGBColor(v,y,x){const z=h.Util.makeHexColor(v,y,x);this.ctx.fillStyle=z,this.current.fillColor=z,this.current.patternFill=!1}_getPattern(v,y=null){let x;return this.cachedPatterns.has(v)?x=this.cachedPatterns.get(v):(x=(0,N.getShadingPattern)(this.getObject(v)),this.cachedPatterns.set(v,x)),y&&(x.matrix=y),x}shadingFill(v){if(!this.contentVisible)return;const y=this.ctx;this.save();const x=this._getPattern(v);y.fillStyle=x.getPattern(y,this,(0,S.getCurrentTransformInverse)(y),N.PathType.SHADING);const z=(0,S.getCurrentTransformInverse)(y);if(z){const K=y.canvas,$=K.width,d=K.height,f=h.Util.applyTransform([0,0],z),g=h.Util.applyTransform([0,d],z),b=h.Util.applyTransform([$,0],z),A=h.Util.applyTransform([$,d],z),H=Math.min(f[0],g[0],b[0],A[0]),Q=Math.min(f[1],g[1],b[1],A[1]),ne=Math.max(f[0],g[0],b[0],A[0]),ue=Math.max(f[1],g[1],b[1],A[1]);this.ctx.fillRect(H,Q,ne-H,ue-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,h.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,h.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,y){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&6===v.length&&this.transform(...v),this.baseTransform=(0,S.getCurrentTransform)(this.ctx),y)&&(this.ctx.rect(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.current.updateRectMinMax((0,S.getCurrentTransform)(this.ctx),y),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const y=this.ctx;v.isolated||(0,h.info)("TODO: Support non-isolated groups."),v.knockout&&(0,h.warn)("Knockout groups not supported.");const x=(0,S.getCurrentTransform)(y);if(v.matrix&&y.transform(...v.matrix),!v.bbox)throw new Error("Bounding box is required.");let z=h.Util.getAxialAlignedBoundingBox(v.bbox,(0,S.getCurrentTransform)(y));z=h.Util.intersect(z,[0,0,y.canvas.width,y.canvas.height])||[0,0,0,0];const $=Math.floor(z[0]),d=Math.floor(z[1]);let f=Math.max(Math.ceil(z[2])-$,1),g=Math.max(Math.ceil(z[3])-d,1),b=1,A=1;f>F&&(b=f/F,f=F),g>F&&(A=g/F,g=F),this.current.startNewPathAndClipBox([0,0,f,g]);let H="groupAt"+this.groupLevel;v.smask&&(H+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(H,f,g),ne=Q.context;ne.scale(1/b,1/A),ne.translate(-$,-d),ne.transform(...x),v.smask?this.smaskStack.push({canvas:Q.canvas,context:ne,offsetX:$,offsetY:d,scaleX:b,scaleY:A,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(y.setTransform(1,0,0,1,0,0),y.translate($,d),y.scale(b,A),y.save()),_(y,ne),this.ctx=ne,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(y),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const y=this.ctx,x=this.groupStack.pop();if(this.ctx=x,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const z=(0,S.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...z);const K=h.Util.getAxialAlignedBoundingBox([0,0,y.canvas.width,y.canvas.height],z);this.ctx.drawImage(y.canvas,0,0),this.ctx.restore(),this.compose(K)}}beginAnnotation(v,y,x,z,K){if(_classPrivateMethodGet(this,Ce,$e).call(this),V(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(y)&&4===y.length){const $=y[2]-y[0],d=y[3]-y[1];if(K&&this.annotationCanvasMap){(x=x.slice())[4]-=y[0],x[5]-=y[1],(y=y.slice())[0]=y[1]=0,y[2]=$,y[3]=d;const[f,g]=h.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(this.ctx)),{viewportScale:b}=this,A=Math.ceil($*this.outputScaleX*b),H=Math.ceil(d*this.outputScaleY*b);this.annotationCanvas=this.canvasFactory.create(A,H);const{canvas:Q,context:ne}=this.annotationCanvas;this.annotationCanvasMap.set(v,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ne,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,d*g),V(this.ctx)}else V(this.ctx),this.ctx.rect(y[0],y[1],$,d),this.ctx.clip(),this.endPath()}this.current=new U(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...x),this.transform(...z)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_classPrivateMethodGet(this,Ae,qe).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(v){if(!this.contentVisible)return;const y=v.count;(v=this.getObject(v.data,v)).count=y;const x=this.ctx,z=this.processingType3;if(z&&(void 0===z.compiled&&(z.compiled=function G(ee){const{width:v,height:y}=ee;if(v>1e3||y>1e3)return null;const z=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),K=v+1;let d,f,g,$=new Uint8Array(K*(y+1));const b=v+7&-8;let A=new Uint8Array(b*y),H=0;for(const se of ee.data){let le=128;for(;le>0;)A[H++]=se&le?0:255,le>>=1}let Q=0;for(H=0,0!==A[H]&&($[0]=1,++Q),f=1;f<v;f++)A[H]!==A[H+1]&&($[f]=A[H]?2:1,++Q),H++;for(0!==A[H]&&($[f]=2,++Q),d=1;d<y;d++){H=d*b,g=d*K,A[H-b]!==A[H]&&($[g]=A[H]?1:8,++Q);let se=(A[H]?4:0)+(A[H-b]?8:0);for(f=1;f<v;f++)se=(se>>2)+(A[H+1]?4:0)+(A[H-b+1]?8:0),z[se]&&($[g+f]=z[se],++Q),H++;if(A[H-b]!==A[H]&&($[g+f]=A[H]?2:4,++Q),Q>1e3)return null}for(H=b*(y-1),g=d*K,0!==A[H]&&($[g]=8,++Q),f=1;f<v;f++)A[H]!==A[H+1]&&($[g+f]=A[H]?4:8,++Q),H++;if(0!==A[H]&&($[g+f]=4,++Q),Q>1e3)return null;const ne=new Int32Array([0,K,-1,0,-K,0,0,0,1]),ue=new Path2D;for(d=0;Q&&d<=y;d++){let se=d*K;const le=se+v;for(;se<le&&!$[se];)se++;if(se===le)continue;ue.moveTo(se%K,d);const fe=se;let _e=$[se];do{const Re=ne[_e];do{se+=Re}while(!$[se]);const Fe=$[se];5!==Fe&&10!==Fe?(_e=Fe,$[se]=0):(_e=Fe&51*_e>>4,$[se]&=_e>>2|_e<<2),ue.lineTo(se%K,se/K|0),$[se]||--Q}while(fe!==se);--d}return A=null,$=null,function(se){se.save(),se.scale(1/v,-1/y),se.translate(0,-y),se.fill(ue),se.beginPath(),se.restore()}}(v)),z.compiled))return void z.compiled(x);const K=this._createMaskCanvas(v),$=K.canvas;x.save(),x.setTransform(1,0,0,1,0,0),x.drawImage($,K.offsetX,K.offsetY),x.restore(),this.compose()}paintImageMaskXObjectRepeat(v,y,x=0,z=0,K,$){if(!this.contentVisible)return;v=this.getObject(v.data,v);const d=this.ctx;d.save();const f=(0,S.getCurrentTransform)(d);d.transform(y,x,z,K,0,0);const g=this._createMaskCanvas(v);d.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let b=0,A=$.length;b<A;b+=2){const H=h.Util.transform(f,[y,x,z,K,$[b],$[b+1]]),[Q,ne]=h.Util.applyTransform([0,0],H);d.drawImage(g.canvas,Q,ne)}d.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const y=this.ctx,x=this.current.fillColor,z=this.current.patternFill;for(const K of v){const{data:$,width:d,height:f,transform:g}=K,b=this.cachedCanvases.getCanvas("maskCanvas",d,f),A=b.context;A.save(),p(A,this.getObject($,K)),A.globalCompositeOperation="source-in",A.fillStyle=z?x.getPattern(A,this,(0,S.getCurrentTransformInverse)(y),N.PathType.FILL):x,A.fillRect(0,0,d,f),A.restore(),y.save(),y.transform(...g),y.scale(1,-1),w(y,b.canvas,0,0,d,f,0,-1,1,1),y.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const y=this.getObject(v);y?this.paintInlineImageXObject(y):(0,h.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(v,y,x,z){if(!this.contentVisible)return;const K=this.getObject(v);if(!K)return void(0,h.warn)("Dependent image isn't ready yet");const $=K.width,d=K.height,f=[];for(let g=0,b=z.length;g<b;g+=2)f.push({transform:[y,0,0,x,z[g],z[g+1]],x:0,y:0,w:$,h:d});this.paintInlineImageXObjectGroup(K,f)}applyTransferMapsToCanvas(v){return"none"!==this.current.transferMaps&&(v.filter=this.current.transferMaps,v.drawImage(v.canvas,0,0),v.filter="none"),v.canvas}applyTransferMapsToBitmap(v){if("none"===this.current.transferMaps)return v.bitmap;const{bitmap:y,width:x,height:z}=v,K=this.cachedCanvases.getCanvas("inlineImage",x,z),$=K.context;return $.filter=this.current.transferMaps,$.drawImage(y,0,0),$.filter="none",K.canvas}paintInlineImageXObject(v){if(!this.contentVisible)return;const y=v.width,x=v.height,z=this.ctx;let K;if(this.save(),Z.isNodeJS||(z.filter="none"),z.scale(1/y,-1/x),v.bitmap)K=this.applyTransferMapsToBitmap(v);else if("function"==typeof HTMLElement&&v instanceof HTMLElement||!v.data)K=v;else{const f=this.cachedCanvases.getCanvas("inlineImage",y,x).context;D(f,v),K=this.applyTransferMapsToCanvas(f)}const $=this._scaleImage(K,(0,S.getCurrentTransformInverse)(z));z.imageSmoothingEnabled=Se((0,S.getCurrentTransform)(z),v.interpolate),w(z,$.img,0,0,$.paintWidth,$.paintHeight,0,-x,y,x),this.compose(),this.restore()}paintInlineImageXObjectGroup(v,y){if(!this.contentVisible)return;const x=this.ctx;let z;if(v.bitmap)z=v.bitmap;else{const f=this.cachedCanvases.getCanvas("inlineImage",v.width,v.height).context;D(f,v),z=this.applyTransferMapsToCanvas(f)}for(const K of y)x.save(),x.transform(...K.transform),x.scale(1,-1),w(x,z,K.x,K.y,K.w,K.h,0,-1,1,1),x.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,y){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,y){this.markedContentStack.push("OC"===v?{visible:this.optionalContentConfig.isVisible(y)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){const y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const x=this.ctx;this.pendingClip&&(y||(this.pendingClip===Be?x.clip("evenodd"):x.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),x.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const v=(0,S.getCurrentTransform)(this.ctx);if(0===v[1]&&0===v[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(v[0]),Math.abs(v[3]));else{const y=Math.abs(v[0]*v[3]-v[2]*v[1]),x=Math.hypot(v[0],v[2]),z=Math.hypot(v[1],v[3]);this._cachedGetSinglePixelWidth=Math.max(x,z)/y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:v}=this.current,{a:y,b:x,c:z,d:K}=this.ctx.getTransform();let $,d;if(0===x&&0===z){const f=Math.abs(y),g=Math.abs(K);if(f===g)if(0===v)$=d=1/f;else{const b=f*v;$=d=b<1?1/b:1}else if(0===v)$=1/f,d=1/g;else{const b=f*v,A=g*v;$=b<1?1/b:1,d=A<1?1/A:1}}else{const f=Math.abs(y*K-x*z),g=Math.hypot(y,x),b=Math.hypot(z,K);if(0===v)$=b/f,d=g/f;else{const A=v*f;$=b>A?b/A:1,d=g>A?g/A:1}}this._cachedScaleForStroking[0]=$,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(v){const{ctx:y}=this,{lineWidth:x}=this.current,[z,K]=this.getScaleForStroking();if(y.lineWidth=x||1,1===z&&1===K)return void y.stroke();const $=y.getLineDash();if(v&&y.save(),y.scale(z,K),$.length>0){const d=Math.max(z,K);y.setLineDash($.map(f=>f/d)),y.lineDashOffset/=d}y.stroke(),v&&y.restore()}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}}function $e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function qe(){if(this.pageColors){const ee=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==ee){const v=this.ctx.filter;this.ctx.filter=ee,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}}c.CanvasGraphics=ke;for(const ee in h.OPS)void 0!==ke.prototype[ee]&&(ke.prototype[h.OPS[ee]]=ke.prototype[ee])},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TilingPattern=c.PathType=void 0,c.getShadingPattern=function P(C){switch(C[0]){case"RadialAxial":return new te(C);case"Mesh":return new W(C);case"Dummy":return new Y}throw new Error(`Unknown IR type: ${C[0]}`)};var h=T(1),S=T(6);const N={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function k(C,w){if(!w)return;const G=w[2]-w[0],U=w[3]-w[1],D=new Path2D;D.rect(w[0],w[1],G,U),C.clip(D)}c.PathType=N;class Z{constructor(){this.constructor===Z&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,h.unreachable)("Abstract method `getPattern` called.")}}class te extends Z{constructor(w){super(),this._type=w[1],this._bbox=w[2],this._colorStops=w[3],this._p0=w[4],this._p1=w[5],this._r0=w[6],this._r1=w[7],this.matrix=null}_createGradient(w){let G;"axial"===this._type?G=w.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(G=w.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const U of this._colorStops)G.addColorStop(U[0],U[1]);return G}getPattern(w,G,U,D){let p;if(D===N.STROKE||D===N.FILL){const _=G.current.getClippedPathBoundingBox(D,(0,S.getCurrentTransform)(w))||[0,0,0,0],V=Math.ceil(_[2]-_[0])||1,q=Math.ceil(_[3]-_[1])||1,L=G.cachedCanvases.getCanvas("pattern",V,q,!0),J=L.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-_[0],-_[1]),U=h.Util.transform(U,[1,0,0,1,_[0],_[1]]),J.transform(...G.baseTransform),this.matrix&&J.transform(...this.matrix),k(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),p=w.createPattern(L.canvas,"no-repeat");const B=new DOMMatrix(U);p.setTransform(B)}else k(w,this._bbox),p=this._createGradient(w);return p}}function M(C,w,G,U,D,p,_,V){const q=w.coords,L=w.colors,J=C.data,B=4*C.width;let ce;q[G+1]>q[U+1]&&(ce=G,G=U,U=ce,ce=p,p=_,_=ce),q[U+1]>q[D+1]&&(ce=U,U=D,D=ce,ce=_,_=V,V=ce),q[G+1]>q[U+1]&&(ce=G,G=U,U=ce,ce=p,p=_,_=ce);const Se=(q[G]+w.offsetX)*w.scaleX,ge=(q[G+1]+w.offsetY)*w.scaleY,we=(q[U]+w.offsetX)*w.scaleX,Te=(q[U+1]+w.offsetY)*w.scaleY,Be=(q[D]+w.offsetX)*w.scaleX,Ce=(q[D+1]+w.offsetY)*w.scaleY;if(ge>=Ce)return;const Ae=L[p],ke=L[p+1],$e=L[p+2],qe=L[_],ee=L[_+1],v=L[_+2],y=L[V],x=L[V+1],z=L[V+2],K=Math.round(ge),$=Math.round(Ce);let d,f,g,b,A,H,Q,ne;for(let ue=K;ue<=$;ue++){if(ue<Te){let _e;_e=ue<ge?0:(ge-ue)/(ge-Te),d=Se-(Se-we)*_e,f=Ae-(Ae-qe)*_e,g=ke-(ke-ee)*_e,b=$e-($e-v)*_e}else{let _e;_e=ue>Ce?1:Te===Ce?0:(Te-ue)/(Te-Ce),d=we-(we-Be)*_e,f=qe-(qe-y)*_e,g=ee-(ee-x)*_e,b=v-(v-z)*_e}let he;he=ue<ge?0:ue>Ce?1:(ge-ue)/(ge-Ce),A=Se-(Se-Be)*he,H=Ae-(Ae-y)*he,Q=ke-(ke-x)*he,ne=$e-($e-z)*he;const se=Math.round(Math.min(d,A)),le=Math.round(Math.max(d,A));let fe=B*ue+4*se;for(let _e=se;_e<=le;_e++)he=(d-_e)/(d-A),he<0?he=0:he>1&&(he=1),J[fe++]=f-(f-H)*he|0,J[fe++]=g-(g-Q)*he|0,J[fe++]=b-(b-ne)*he|0,J[fe++]=255}}function F(C,w,G){const U=w.coords,D=w.colors;let p,_;switch(w.type){case"lattice":const V=w.verticesPerRow,q=Math.floor(U.length/V)-1,L=V-1;for(p=0;p<q;p++){let J=p*V;for(let B=0;B<L;B++,J++)M(C,G,U[J],U[J+1],U[J+V],D[J],D[J+1],D[J+V]),M(C,G,U[J+V+1],U[J+1],U[J+V],D[J+V+1],D[J+1],D[J+V])}break;case"triangles":for(p=0,_=U.length;p<_;p+=3)M(C,G,U[p],U[p+1],U[p+2],D[p],D[p+1],D[p+2]);break;default:throw new Error("illegal figure")}}class W extends Z{constructor(w){super(),this._coords=w[2],this._colors=w[3],this._figures=w[4],this._bounds=w[5],this._bbox=w[7],this._background=w[8],this.matrix=null}_createMeshCanvas(w,G,U){const V=Math.floor(this._bounds[0]),q=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-V,J=Math.ceil(this._bounds[3])-q,B=Math.min(Math.ceil(Math.abs(L*w[0]*1.1)),3e3),ce=Math.min(Math.ceil(Math.abs(J*w[1]*1.1)),3e3),Se=L/B,ge=J/ce,we={coords:this._coords,colors:this._colors,offsetX:-V,offsetY:-q,scaleX:1/Se,scaleY:1/ge},Ce=U.getCanvas("mesh",B+4,ce+4,!1),Ae=Ce.context,ke=Ae.createImageData(B,ce);if(G){const qe=ke.data;for(let ee=0,v=qe.length;ee<v;ee+=4)qe[ee]=G[0],qe[ee+1]=G[1],qe[ee+2]=G[2],qe[ee+3]=255}for(const qe of this._figures)F(ke,qe,we);return Ae.putImageData(ke,2,2),{canvas:Ce.canvas,offsetX:V-2*Se,offsetY:q-2*ge,scaleX:Se,scaleY:ge}}getPattern(w,G,U,D){let p;if(k(w,this._bbox),D===N.SHADING)p=h.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(w));else if(p=h.Util.singularValueDecompose2dScale(G.baseTransform),this.matrix){const V=h.Util.singularValueDecompose2dScale(this.matrix);p=[p[0]*V[0],p[1]*V[1]]}const _=this._createMeshCanvas(p,D===N.SHADING?null:this._background,G.cachedCanvases);return D!==N.SHADING&&(w.setTransform(...G.baseTransform),this.matrix&&w.transform(...this.matrix)),w.translate(_.offsetX,_.offsetY),w.scale(_.scaleX,_.scaleY),w.createPattern(_.canvas,"no-repeat")}}class Y extends Z{getPattern(){return"hotpink"}}c.TilingPattern=(()=>{class C{constructor(G,U,D,p,_){this.operatorList=G[2],this.matrix=G[3]||[1,0,0,1,0,0],this.bbox=G[4],this.xstep=G[5],this.ystep=G[6],this.paintType=G[7],this.tilingType=G[8],this.color=U,this.ctx=D,this.canvasGraphicsFactory=p,this.baseTransform=_}createPatternCanvas(G){const U=this.operatorList,D=this.bbox,p=this.xstep,_=this.ystep,V=this.paintType,L=this.color,J=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+this.tilingType);const B=D[0],ce=D[1],Se=D[2],ge=D[3],we=h.Util.singularValueDecompose2dScale(this.matrix),Te=h.Util.singularValueDecompose2dScale(this.baseTransform),Be=[we[0]*Te[0],we[1]*Te[1]],Ce=this.getSizeAndScale(p,this.ctx.canvas.width,Be[0]),Ae=this.getSizeAndScale(_,this.ctx.canvas.height,Be[1]),ke=G.cachedCanvases.getCanvas("pattern",Ce.size,Ae.size,!0),$e=ke.context,qe=J.createCanvasGraphics($e);qe.groupLevel=G.groupLevel,this.setFillAndStrokeStyleToContext(qe,V,L);let ee=B,v=ce,y=Se,x=ge;return B<0&&(ee=0,y+=Math.abs(B)),ce<0&&(v=0,x+=Math.abs(ce)),$e.translate(-Ce.scale*ee,-Ae.scale*v),qe.transform(Ce.scale,0,0,Ae.scale,0,0),$e.save(),this.clipBbox(qe,ee,v,y,x),qe.baseTransform=(0,S.getCurrentTransform)(qe.ctx),qe.executeOperatorList(U),qe.endDrawing(),{canvas:ke.canvas,scaleX:Ce.scale,scaleY:Ae.scale,offsetX:ee,offsetY:v}}getSizeAndScale(G,U,D){G=Math.abs(G);const p=Math.max(C.MAX_PATTERN_SIZE,U);let _=Math.ceil(G*D);return _>=p?_=p:D=_/G,{scale:D,size:_}}clipBbox(G,U,D,p,_){G.ctx.rect(U,D,p-U,_-D),G.current.updateRectMinMax((0,S.getCurrentTransform)(G.ctx),[U,D,p,_]),G.clip(),G.endPath()}setFillAndStrokeStyleToContext(G,U,D){const p=G.ctx,_=G.current;switch(U){case 1:const V=this.ctx;p.fillStyle=V.fillStyle,p.strokeStyle=V.strokeStyle,_.fillColor=V.fillStyle,_.strokeColor=V.strokeStyle;break;case 2:const q=h.Util.makeHexColor(D[0],D[1],D[2]);p.fillStyle=q,p.strokeStyle=q,_.fillColor=q,_.strokeColor=q;break;default:throw new h.FormatError(`Unsupported paint type: ${U}`)}}getPattern(G,U,D,p){let _=D;p!==N.SHADING&&(_=h.Util.transform(_,U.baseTransform),this.matrix&&(_=h.Util.transform(_,this.matrix)));const V=this.createPatternCanvas(U);let q=new DOMMatrix(_);q=q.translate(V.offsetX,V.offsetY),q=q.scale(1/V.scaleX,1/V.scaleY);const L=G.createPattern(V.canvas,"repeat");return L.setTransform(q),L}}return _defineProperty(C,"MAX_PATTERN_SIZE",3e3),C})()},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.convertBlackAndWhiteToRGBA=N,c.convertToRGBA=function S(te){switch(te.kind){case h.ImageKind.GRAYSCALE_1BPP:return N(te);case h.ImageKind.RGB_24BPP:return function k({src:te,srcPos:M=0,dest:F,destPos:W=0}){let R=0;const O=te.length>>2,C=new Uint32Array(te.buffer,M,O);if(h.FeatureTest.isLittleEndian){for(;R<O-2;R+=3,W+=4){const w=C[R],G=C[R+1],U=C[R+2];F[W]=4278190080|w,F[W+1]=w>>>24|G<<8|4278190080,F[W+2]=G>>>16|U<<16|4278190080,F[W+3]=U>>>8|4278190080}for(let w=4*R,G=te.length;w<G;w+=3)F[W++]=te[w]|te[w+1]<<8|te[w+2]<<16|4278190080}else{for(;R<O-2;R+=3,W+=4){const w=C[R],G=C[R+1],U=C[R+2];F[W]=255|w,F[W+1]=w<<24|G>>>8|255,F[W+2]=G<<16|U>>>16|255,F[W+3]=U<<8|255}for(let w=4*R,G=te.length;w<G;w+=3)F[W++]=te[w]<<24|te[w+1]<<16|te[w+2]<<8|255}return{srcPos:M,destPos:W}}(te)}return null},c.grayToRGBA=function Z(te,M){if(h.FeatureTest.isLittleEndian)for(let F=0,W=te.length;F<W;F++)M[F]=65793*te[F]|4278190080;else for(let F=0,W=te.length;F<W;F++)M[F]=16843008*te[F]|255};var h=T(1);function N({src:te,srcPos:M=0,dest:F,width:W,height:Y,nonBlackColor:P=4294967295,inverseDecode:R=!1}){const O=h.FeatureTest.isLittleEndian?4278190080:255,[C,w]=R?[P,O]:[O,P],G=W>>3,U=7&W,D=te.length;F=new Uint32Array(F.buffer);let p=0;for(let _=0;_<Y;_++){for(const q=M+G;M<q;M++){const L=M<D?te[M]:255;F[p++]=128&L?w:C,F[p++]=64&L?w:C,F[p++]=32&L?w:C,F[p++]=16&L?w:C,F[p++]=8&L?w:C,F[p++]=4&L?w:C,F[p++]=2&L?w:C,F[p++]=1&L?w:C}if(0===U)continue;const V=M<D?te[M++]:255;for(let q=0;q<U;q++)F[p++]=V&1<<7-q?w:C}return{srcPos:M,destPos:p}}},(I,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GlobalWorkerOptions=void 0;const T=Object.create(null);c.GlobalWorkerOptions=T,T.workerPort=null,T.workerSrc=""},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MessageHandler=void 0;var h=T(1);const N={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function k(O){switch(O instanceof Error||"object"==typeof O&&null!==O||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new h.AbortException(O.message);case"MissingPDFException":return new h.MissingPDFException(O.message);case"PasswordException":return new h.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new h.UnknownErrorException(O.message,O.details);default:return new h.UnknownErrorException(O.message,O.toString())}}var Z=new WeakSet,te=new WeakSet,M=new WeakSet;function W(O){const C=O.streamId,w=this.sourceName,G=O.sourceName,U=this.comObj,D=this,p=this.actionHandler[O.action],_={enqueue(V,q=1,L){if(this.isCancelled)return;const J=this.desiredSize;this.desiredSize-=q,J>0&&this.desiredSize<=0&&(this.sinkCapability=new h.PromiseCapability,this.ready=this.sinkCapability.promise),U.postMessage({sourceName:w,targetName:G,stream:N.ENQUEUE,streamId:C,chunk:V},L)},close(){this.isCancelled||(this.isCancelled=!0,U.postMessage({sourceName:w,targetName:G,stream:N.CLOSE,streamId:C}),delete D.streamSinks[C])},error(V){(0,h.assert)(V instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,U.postMessage({sourceName:w,targetName:G,stream:N.ERROR,streamId:C,reason:k(V)}))},sinkCapability:new h.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:O.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[C]=_,new Promise(function(V){V(p(O.data,_))}).then(function(){U.postMessage({sourceName:w,targetName:G,stream:N.START_COMPLETE,streamId:C,success:!0})},function(V){U.postMessage({sourceName:w,targetName:G,stream:N.START_COMPLETE,streamId:C,reason:k(V)})})}function Y(O){const C=O.streamId,w=this.sourceName,G=O.sourceName,U=this.comObj,D=this.streamControllers[C],p=this.streamSinks[C];switch(O.stream){case N.START_COMPLETE:O.success?D.startCall.resolve():D.startCall.reject(k(O.reason));break;case N.PULL_COMPLETE:O.success?D.pullCall.resolve():D.pullCall.reject(k(O.reason));break;case N.PULL:if(!p){U.postMessage({sourceName:w,targetName:G,stream:N.PULL_COMPLETE,streamId:C,success:!0});break}p.desiredSize<=0&&O.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=O.desiredSize,new Promise(function(_){_(p.onPull?.())}).then(function(){U.postMessage({sourceName:w,targetName:G,stream:N.PULL_COMPLETE,streamId:C,success:!0})},function(_){U.postMessage({sourceName:w,targetName:G,stream:N.PULL_COMPLETE,streamId:C,reason:k(_)})});break;case N.ENQUEUE:if((0,h.assert)(D,"enqueue should have stream controller"),D.isClosed)break;D.controller.enqueue(O.chunk);break;case N.CLOSE:if((0,h.assert)(D,"close should have stream controller"),D.isClosed)break;D.isClosed=!0,D.controller.close(),_classPrivateMethodGet(this,M,P).call(this,D,C);break;case N.ERROR:(0,h.assert)(D,"error should have stream controller"),D.controller.error(k(O.reason)),_classPrivateMethodGet(this,M,P).call(this,D,C);break;case N.CANCEL_COMPLETE:O.success?D.cancelCall.resolve():D.cancelCall.reject(k(O.reason)),_classPrivateMethodGet(this,M,P).call(this,D,C);break;case N.CANCEL:if(!p)break;new Promise(function(_){_(p.onCancel?.(k(O.reason)))}).then(function(){U.postMessage({sourceName:w,targetName:G,stream:N.CANCEL_COMPLETE,streamId:C,success:!0})},function(_){U.postMessage({sourceName:w,targetName:G,stream:N.CANCEL_COMPLETE,streamId:C,reason:k(_)})}),p.sinkCapability.reject(k(O.reason)),p.isCancelled=!0,delete this.streamSinks[C];break;default:throw new Error("Unexpected stream case")}}function P(O,C){return R.apply(this,arguments)}function R(){return(R=_asyncToGenerator(function*(O,C){yield Promise.allSettled([O.startCall?.promise,O.pullCall?.promise,O.cancelCall?.promise]),delete this.streamControllers[C]})).apply(this,arguments)}c.MessageHandler=class F{constructor(C,w,G){_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,te),_classPrivateMethodInitSpec(this,Z),this.sourceName=C,this.targetName=w,this.comObj=G,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=U=>{const D=U.data;if(D.targetName!==this.sourceName)return;if(D.stream)return void _classPrivateMethodGet(this,te,Y).call(this,D);if(D.callback){const _=D.callbackId,V=this.callbackCapabilities[_];if(!V)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],1===D.callback)V.resolve(D.data);else{if(2!==D.callback)throw new Error("Unexpected callback case");V.reject(k(D.reason))}return}const p=this.actionHandler[D.action];if(!p)throw new Error(`Unknown action from worker: ${D.action}`);if(D.callbackId){const _=this.sourceName,V=D.sourceName;new Promise(function(q){q(p(D.data))}).then(function(q){G.postMessage({sourceName:_,targetName:V,callback:1,callbackId:D.callbackId,data:q})},function(q){G.postMessage({sourceName:_,targetName:V,callback:2,callbackId:D.callbackId,reason:k(q)})})}else D.streamId?_classPrivateMethodGet(this,Z,W).call(this,D):p(D.data)},G.addEventListener("message",this._onComObjOnMessage)}on(C,w){const G=this.actionHandler;if(G[C])throw new Error(`There is already an actionName called "${C}"`);G[C]=w}send(C,w,G){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:C,data:w},G)}sendWithPromise(C,w,G){const U=this.callbackId++,D=new h.PromiseCapability;this.callbackCapabilities[U]=D;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:C,callbackId:U,data:w},G)}catch(p){D.reject(p)}return D.promise}sendWithStream(C,w,G,U){const D=this.streamId++,p=this.sourceName,_=this.targetName,V=this.comObj;return new ReadableStream({start:q=>{const L=new h.PromiseCapability;return this.streamControllers[D]={controller:q,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},V.postMessage({sourceName:p,targetName:_,action:C,streamId:D,data:w,desiredSize:q.desiredSize},U),L.promise},pull:q=>{const L=new h.PromiseCapability;return this.streamControllers[D].pullCall=L,V.postMessage({sourceName:p,targetName:_,stream:N.PULL,streamId:D,desiredSize:q.desiredSize}),L.promise},cancel:q=>{(0,h.assert)(q instanceof Error,"cancel must have a valid reason");const L=new h.PromiseCapability;return this.streamControllers[D].cancelCall=L,this.streamControllers[D].isClosed=!0,V.postMessage({sourceName:p,targetName:_,stream:N.CANCEL,streamId:D,reason:k(q)}),L.promise}},G)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var h=T(1),S=new WeakMap,N=new WeakMap;c.Metadata=class k{constructor({parsedData:te,rawData:M}){_classPrivateFieldInitSpec(this,S,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:void 0}),_classPrivateFieldSet(this,S,te),_classPrivateFieldSet(this,N,M)}getRaw(){return _classPrivateFieldGet(this,N)}get(te){return _classPrivateFieldGet(this,S).get(te)??null}getAll(){return(0,h.objectFromMap)(_classPrivateFieldGet(this,S))}has(te){return _classPrivateFieldGet(this,S).has(te)}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionalContentConfig=void 0;var h=T(1),S=T(8);const N=Symbol("INTERNAL");var k=new WeakMap;class Z{constructor(C,w){_classPrivateFieldInitSpec(this,k,{writable:!0,value:!0}),this.name=C,this.intent=w}get visible(){return _classPrivateFieldGet(this,k)}_setVisible(C,w){C!==N&&(0,h.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,k,w)}}var te=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,Y=new WeakSet;function R(O){const C=O.length;if(C<2)return!0;const w=O[0];for(let G=1;G<C;G++){const U=O[G];let D;if(Array.isArray(U))D=_classPrivateMethodGet(this,Y,R).call(this,U);else{if(!_classPrivateFieldGet(this,M).has(U))return(0,h.warn)(`Optional content group not found: ${U}`),!0;D=_classPrivateFieldGet(this,M).get(U).visible}switch(w){case"And":if(!D)return!1;break;case"Or":if(D)return!0;break;case"Not":return!D;default:return!0}}return"And"===w}c.OptionalContentConfig=class P{constructor(C){if(_classPrivateMethodInitSpec(this,Y),_classPrivateFieldInitSpec(this,te,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:null}),this.name=null,this.creator=null,null!==C){this.name=C.name,this.creator=C.creator,_classPrivateFieldSet(this,W,C.order);for(const w of C.groups)_classPrivateFieldGet(this,M).set(w.id,new Z(w.name,w.intent));if("OFF"===C.baseState)for(const w of _classPrivateFieldGet(this,M).values())w._setVisible(N,!1);for(const w of C.on)_classPrivateFieldGet(this,M).get(w)._setVisible(N,!0);for(const w of C.off)_classPrivateFieldGet(this,M).get(w)._setVisible(N,!1);_classPrivateFieldSet(this,F,this.getHash())}}isVisible(C){if(0===_classPrivateFieldGet(this,M).size)return!0;if(!C)return(0,h.warn)("Optional content group not defined."),!0;if("OCG"===C.type)return _classPrivateFieldGet(this,M).has(C.id)?_classPrivateFieldGet(this,M).get(C.id).visible:((0,h.warn)(`Optional content group not found: ${C.id}`),!0);if("OCMD"===C.type){if(C.expression)return _classPrivateMethodGet(this,Y,R).call(this,C.expression);if(!C.policy||"AnyOn"===C.policy){for(const w of C.ids){if(!_classPrivateFieldGet(this,M).has(w))return(0,h.warn)(`Optional content group not found: ${w}`),!0;if(_classPrivateFieldGet(this,M).get(w).visible)return!0}return!1}if("AllOn"===C.policy){for(const w of C.ids){if(!_classPrivateFieldGet(this,M).has(w))return(0,h.warn)(`Optional content group not found: ${w}`),!0;if(!_classPrivateFieldGet(this,M).get(w).visible)return!1}return!0}if("AnyOff"===C.policy){for(const w of C.ids){if(!_classPrivateFieldGet(this,M).has(w))return(0,h.warn)(`Optional content group not found: ${w}`),!0;if(!_classPrivateFieldGet(this,M).get(w).visible)return!0}return!1}if("AllOff"===C.policy){for(const w of C.ids){if(!_classPrivateFieldGet(this,M).has(w))return(0,h.warn)(`Optional content group not found: ${w}`),!0;if(_classPrivateFieldGet(this,M).get(w).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${C.policy}.`),!0}return(0,h.warn)(`Unknown group type ${C.type}.`),!0}setVisibility(C,w=!0){_classPrivateFieldGet(this,M).has(C)?(_classPrivateFieldGet(this,M).get(C)._setVisible(N,!!w),_classPrivateFieldSet(this,te,null)):(0,h.warn)(`Optional content group not found: ${C}`)}get hasInitialVisibility(){return this.getHash()===_classPrivateFieldGet(this,F)}getOrder(){return _classPrivateFieldGet(this,M).size?_classPrivateFieldGet(this,W)?_classPrivateFieldGet(this,W).slice():[..._classPrivateFieldGet(this,M).keys()]:null}getGroups(){return _classPrivateFieldGet(this,M).size>0?(0,h.objectFromMap)(_classPrivateFieldGet(this,M)):null}getGroup(C){return _classPrivateFieldGet(this,M).get(C)||null}getHash(){if(null!==_classPrivateFieldGet(this,te))return _classPrivateFieldGet(this,te);const C=new S.MurmurHash3_64;for(const[w,G]of _classPrivateFieldGet(this,M))C.update(`${w}:${G.visible}`);return _classPrivateFieldSet(this,te,C.hexdigest())}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFDataTransportStream=void 0;var h=T(1),S=T(6);c.PDFDataTransportStream=class N{constructor({length:M,initialData:F,progressiveDone:W=!1,contentDispositionFilename:Y=null,disableRange:P=!1,disableStream:R=!1},O){if((0,h.assert)(O,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=W,this._contentDispositionFilename=Y,F?.length>0){const C=F instanceof Uint8Array&&F.byteLength===F.buffer.byteLength?F.buffer:new Uint8Array(F).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=O,this._isStreamingSupported=!R,this._isRangeSupported=!P,this._contentLength=M,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((C,w)=>{this._onReceiveData({begin:C,chunk:w})}),this._pdfDataRangeTransport.addProgressListener((C,w)=>{this._onProgress({loaded:C,total:w})}),this._pdfDataRangeTransport.addProgressiveReadListener(C=>{this._onReceiveData({chunk:C})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:M,chunk:F}){const W=F instanceof Uint8Array&&F.byteLength===F.buffer.byteLength?F.buffer:new Uint8Array(F).buffer;if(void 0===M)this._fullRequestReader?this._fullRequestReader._enqueue(W):this._queuedChunks.push(W);else{const Y=this._rangeReaders.some(function(P){return P._begin===M&&(P._enqueue(W),!0)});(0,h.assert)(Y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(M){void 0===M.total?this._rangeReaders[0]?.onProgress?.({loaded:M.loaded}):this._fullRequestReader?.onProgress?.({loaded:M.loaded,total:M.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(M){const F=this._rangeReaders.indexOf(M);F>=0&&this._rangeReaders.splice(F,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const M=this._queuedChunks;return this._queuedChunks=null,new k(this,M,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(M,F){if(F<=this._progressiveDataLength)return null;const W=new Z(this,M,F);return this._pdfDataRangeTransport.requestDataRange(M,F),this._rangeReaders.push(W),W}cancelAllRequests(M){this._fullRequestReader?.cancel(M);for(const F of this._rangeReaders.slice(0))F.cancel(M);this._pdfDataRangeTransport.abort()}};class k{constructor(M,F,W=!1,Y=null){this._stream=M,this._done=W||!1,this._filename=(0,S.isPdfFile)(Y)?Y:null,this._queuedChunks=F||[],this._loaded=0;for(const P of this._queuedChunks)this._loaded+=P.byteLength;this._requests=[],this._headersReady=Promise.resolve(),M._fullRequestReader=this,this.onProgress=null}_enqueue(M){this._done||(this._requests.length>0?this._requests.shift().resolve({value:M,done:!1}):this._queuedChunks.push(M),this._loaded+=M.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var M=this;return _asyncToGenerator(function*(){if(M._queuedChunks.length>0)return{value:M._queuedChunks.shift(),done:!1};if(M._done)return{value:void 0,done:!0};const F=new h.PromiseCapability;return M._requests.push(F),F.promise})()}cancel(M){this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Z{constructor(M,F,W){this._stream=M,this._begin=F,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(M){if(!this._done){if(0===this._requests.length)this._queuedChunk=M;else{this._requests.shift().resolve({value:M,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var M=this;return _asyncToGenerator(function*(){if(M._queuedChunk){const W=M._queuedChunk;return M._queuedChunk=null,{value:W,done:!1}}if(M._done)return{value:void 0,done:!0};const F=new h.PromiseCapability;return M._requests.push(F),F.promise})()}cancel(M){this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(I,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaText=void 0;class T{static textContent(S){const N=[],k={items:N,styles:Object.create(null)};return function Z(te){if(!te)return;let M=null;const F=te.name;if("#text"===F)M=te.value;else{if(!T.shouldBuildText(F))return;te?.attributes?.textContent?M=te.attributes.textContent:te.value&&(M=te.value)}if(null!==M&&N.push({str:M}),te.children)for(const W of te.children)Z(W)}(S),k}static shouldBuildText(S){return!("textarea"===S||"input"===S||"option"===S||"select"===S)}}c.XfaText=T},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NodeStandardFontDataFactory=c.NodeFilterFactory=c.NodeCanvasFactory=c.NodeCMapReaderFactory=void 0;var h=T(7);const S=function(M){return new Promise((F,W)=>{__webpack_require__(172).readFile(M,(P,R)=>{!P&&R?F(new Uint8Array(R)):W(new Error(P))})})};c.NodeFilterFactory=class N extends h.BaseFilterFactory{},c.NodeCanvasFactory=class k extends h.BaseCanvasFactory{_createCanvas(F,W){return __webpack_require__(414).createCanvas(F,W)}},c.NodeCMapReaderFactory=class Z extends h.BaseCMapReaderFactory{_fetchData(F,W){return S(F).then(Y=>({cMapData:Y,compressionType:W}))}},c.NodeStandardFontDataFactory=class te extends h.BaseStandardFontDataFactory{_fetchData(F){return S(F)}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNodeStream=void 0;var h=T(1),S=T(22);const N=__webpack_require__(172),k=__webpack_require__(1),Z=__webpack_require__(779),te=__webpack_require__(558),M=/^file:\/\/\/[a-zA-Z]:\//;c.PDFNodeStream=class W{constructor(D){this.source=D,this.url=function F(U){const D=te.parse(U);return"file:"===D.protocol||D.host?D:/^[a-z]:[/\\]/i.test(U)?te.parse(`file:///${U}`):(D.host||(D.protocol="file:"),D)}(D.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&D.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new w(this):new O(this),this._fullRequestReader}getRangeReader(D,p){if(p<=this._progressiveDataLength)return null;const _=this.isFsUrl?new G(this,D,p):new C(this,D,p);return this._rangeRequestReaders.push(_),_}cancelAllRequests(D){this._fullRequestReader?.cancel(D);for(const p of this._rangeRequestReaders.slice(0))p.cancel(D)}};class Y{constructor(D){this._url=D.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=D.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=new h.PromiseCapability,this._headersCapability=new h.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var D=this;return _asyncToGenerator(function*(){if(yield D._readCapability.promise,D._done)return{value:void 0,done:!0};if(D._storedError)throw D._storedError;const p=D._readableStream.read();return null===p?(D._readCapability=new h.PromiseCapability,D.read()):(D._loaded+=p.length,D.onProgress?.({loaded:D._loaded,total:D._contentLength}),{value:new Uint8Array(p).buffer,done:!1})})()}cancel(D){this._readableStream?this._readableStream.destroy(D):this._error(D)}_error(D){this._storedError=D,this._readCapability.resolve()}_setReadableStream(D){this._readableStream=D,D.on("readable",()=>{this._readCapability.resolve()}),D.on("end",()=>{D.destroy(),this._done=!0,this._readCapability.resolve()}),D.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class P{constructor(D){this._url=D.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new h.PromiseCapability,this._isStreamingSupported=!D.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var D=this;return _asyncToGenerator(function*(){if(yield D._readCapability.promise,D._done)return{value:void 0,done:!0};if(D._storedError)throw D._storedError;const p=D._readableStream.read();return null===p?(D._readCapability=new h.PromiseCapability,D.read()):(D._loaded+=p.length,D.onProgress?.({loaded:D._loaded}),{value:new Uint8Array(p).buffer,done:!1})})()}cancel(D){this._readableStream?this._readableStream.destroy(D):this._error(D)}_error(D){this._storedError=D,this._readCapability.resolve()}_setReadableStream(D){this._readableStream=D,D.on("readable",()=>{this._readCapability.resolve()}),D.on("end",()=>{D.destroy(),this._done=!0,this._readCapability.resolve()}),D.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function R(U,D){return{protocol:U.protocol,auth:U.auth,host:U.hostname,port:U.port,path:U.path,method:"GET",headers:D}}class O extends Y{constructor(D){super(D);const p=_=>{if(404===_.statusCode){const J=new h.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=J,void this._headersCapability.reject(J)}this._headersCapability.resolve(),this._setReadableStream(_);const V=J=>this._readableStream.headers[J.toLowerCase()],{allowRangeRequests:q,suggestedLength:L}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:V,isHttp:D.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=q,this._contentLength=L||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(V)};this._request=null,this._request="http:"===this._url.protocol?k.request(R(this._url,D.httpHeaders),p):Z.request(R(this._url,D.httpHeaders),p),this._request.on("error",_=>{this._storedError=_,this._headersCapability.reject(_)}),this._request.end()}}class C extends P{constructor(D,p,_){super(D),this._httpHeaders={};for(const q in D.httpHeaders){const L=D.httpHeaders[q];void 0!==L&&(this._httpHeaders[q]=L)}this._httpHeaders.Range=`bytes=${p}-${_-1}`;const V=q=>{if(404!==q.statusCode)this._setReadableStream(q);else{const L=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L}};this._request=null,this._request="http:"===this._url.protocol?k.request(R(this._url,this._httpHeaders),V):Z.request(R(this._url,this._httpHeaders),V),this._request.on("error",q=>{this._storedError=q}),this._request.end()}}class w extends Y{constructor(D){super(D);let p=decodeURIComponent(this._url.path);M.test(this._url.href)&&(p=p.replace(/^\//,"")),N.lstat(p,(_,V)=>{if(_)return"ENOENT"===_.code&&(_=new h.MissingPDFException(`Missing PDF "${p}".`)),this._storedError=_,void this._headersCapability.reject(_);this._contentLength=V.size,this._setReadableStream(N.createReadStream(p)),this._headersCapability.resolve()})}}class G extends P{constructor(D,p,_){super(D);let V=decodeURIComponent(this._url.path);M.test(this._url.href)&&(V=V.replace(/^\//,"")),this._setReadableStream(N.createReadStream(V,{start:p,end:_-1}))}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createResponseStatusError=function te(F,W){return 404===F||0===F&&W.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+W+'".'):new h.UnexpectedResponseException(`Unexpected server response (${F}) while retrieving PDF "${W}".`,F)},c.extractFilenameFromHeader=function Z(F){const W=F("Content-Disposition");if(W){let Y=(0,S.getFilenameFromContentDispositionHeader)(W);if(Y.includes("%"))try{Y=decodeURIComponent(Y)}catch{}if((0,N.isPdfFile)(Y))return Y}return null},c.validateRangeRequestCapabilities=function k({getResponseHeader:F,isHttp:W,rangeChunkSize:Y,disableRange:P}){const R={allowRangeRequests:!1,suggestedLength:void 0},O=parseInt(F("Content-Length"),10);return!Number.isInteger(O)||(R.suggestedLength=O,O<=2*Y)||P||!W||"bytes"!==F("Accept-Ranges")||"identity"!==(F("Content-Encoding")||"identity")||(R.allowRangeRequests=!0),R},c.validateResponseStatus=function M(F){return 200===F||206===F};var h=T(1),S=T(23),N=T(6)},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getFilenameFromContentDispositionHeader=function S(N){let k=!0,Z=te("filename\\*","i").exec(N);if(Z){Z=Z[1];let O=Y(Z);return O=unescape(O),O=P(O),O=R(O),F(O)}if(Z=function W(O){const C=[];let w;const G=te("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(w=G.exec(O));){let[,D,p,_]=w;if(D=parseInt(D,10),D in C){if(0===D)break}else C[D]=[p,_]}const U=[];for(let D=0;D<C.length&&D in C;++D){let[p,_]=C[D];_=Y(_),p&&(_=unescape(_),0===D&&(_=P(_))),U.push(_)}return U.join("")}(N),Z)return F(R(Z));if(Z=te("filename","i").exec(N),Z){Z=Z[1];let O=Y(Z);return O=R(O),F(O)}function te(O,C){return new RegExp("(?:^|;)\\s*"+O+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function M(O,C){if(O){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const w=new TextDecoder(O,{fatal:!0}),G=(0,h.stringToBytes)(C);C=w.decode(G),k=!1}catch{}}return C}function F(O){return k&&/[\x80-\xff]/.test(O)&&(O=M("utf-8",O),k&&(O=M("iso-8859-1",O))),O}function Y(O){if(O.startsWith('"')){const C=O.slice(1).split('\\"');for(let w=0;w<C.length;++w){const G=C[w].indexOf('"');-1!==G&&(C[w]=C[w].slice(0,G),C.length=w+1),C[w]=C[w].replaceAll(/\\(.)/g,"$1")}O=C.join('"')}return O}function P(O){const C=O.indexOf("'");return-1===C?O:M(O.slice(0,C),O.slice(C+1).replace(/^[^']*'/,""))}function R(O){return!O.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(O)?O:O.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,w,G,U){if("q"===G||"Q"===G)return M(w,U=(U=U.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(D,p){return String.fromCharCode(parseInt(p,16))}));try{U=atob(U)}catch{}return M(w,U)})}return""};var h=T(1)},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNetworkStream=void 0;var h=T(1),S=T(22);class te{constructor(P,R={}){this.url=P,this.isHttp=/^https?:/i.test(P),this.httpHeaders=this.isHttp&&R.httpHeaders||Object.create(null),this.withCredentials=R.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(P,R,O){const C={begin:P,end:R};for(const w in O)C[w]=O[w];return this.request(C)}requestFull(P){return this.request(P)}request(P){const R=new XMLHttpRequest,O=this.currXhrId++,C=this.pendingRequests[O]={xhr:R};R.open("GET",this.url),R.withCredentials=this.withCredentials;for(const w in this.httpHeaders){const G=this.httpHeaders[w];void 0!==G&&R.setRequestHeader(w,G)}return this.isHttp&&"begin"in P&&"end"in P?(R.setRequestHeader("Range",`bytes=${P.begin}-${P.end-1}`),C.expectedStatus=206):C.expectedStatus=200,R.responseType="arraybuffer",P.onError&&(R.onerror=function(w){P.onError(R.status)}),R.onreadystatechange=this.onStateChange.bind(this,O),R.onprogress=this.onProgress.bind(this,O),C.onHeadersReceived=P.onHeadersReceived,C.onDone=P.onDone,C.onError=P.onError,C.onProgress=P.onProgress,R.send(null),O}onProgress(P,R){const O=this.pendingRequests[P];O&&O.onProgress?.(R)}onStateChange(P,R){const O=this.pendingRequests[P];if(!O)return;const C=O.xhr;if(C.readyState>=2&&O.onHeadersReceived&&(O.onHeadersReceived(),delete O.onHeadersReceived),4!==C.readyState||!(P in this.pendingRequests))return;if(delete this.pendingRequests[P],0===C.status&&this.isHttp)return void O.onError?.(C.status);const w=C.status||200;if((200!==w||206!==O.expectedStatus)&&w!==O.expectedStatus)return void O.onError?.(C.status);const U=function Z(Y){const P=Y.response;return"string"!=typeof P?P:(0,h.stringToBytes)(P).buffer}(C);if(206===w){const D=C.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(D);O.onDone({begin:parseInt(p[1],10),chunk:U})}else U?O.onDone({begin:0,chunk:U}):O.onError?.(C.status)}getRequestXhr(P){return this.pendingRequests[P].xhr}isPendingRequest(P){return P in this.pendingRequests}abortRequest(P){const R=this.pendingRequests[P].xhr;delete this.pendingRequests[P],R.abort()}}c.PDFNetworkStream=class M{constructor(P){this._source=P,this._manager=new te(P.url,{httpHeaders:P.httpHeaders,withCredentials:P.withCredentials}),this._rangeChunkSize=P.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(P){const R=this._rangeRequestReaders.indexOf(P);R>=0&&this._rangeRequestReaders.splice(R,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new F(this._manager,this._source),this._fullRequestReader}getRangeReader(P,R){const O=new W(this._manager,P,R);return O.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(O),O}cancelAllRequests(P){this._fullRequestReader?.cancel(P);for(const R of this._rangeRequestReaders.slice(0))R.cancel(P)}};class F{constructor(P,R){this._manager=P;const O={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._fullRequestId=P.requestFull(O),this._headersReceivedCapability=new h.PromiseCapability,this._disableRange=R.disableRange||!1,this._contentLength=R.length,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const P=this._fullRequestId,R=this._manager.getRequestXhr(P),O=G=>R.getResponseHeader(G),{allowRangeRequests:C,suggestedLength:w}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});C&&(this._isRangeSupported=!0),this._contentLength=w||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(O),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}_onDone(P){if(P&&(this._requests.length>0?this._requests.shift().resolve({value:P.chunk,done:!1}):this._cachedChunks.push(P.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(P){this._storedError=(0,S.createResponseStatusError)(P,this._url),this._headersReceivedCapability.reject(this._storedError);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(P){this.onProgress?.({loaded:P.loaded,total:P.lengthComputable?P.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(P._cachedChunks.length>0)return{value:P._cachedChunks.shift(),done:!1};if(P._done)return{value:void 0,done:!0};const R=new h.PromiseCapability;return P._requests.push(R),R.promise})()}cancel(P){this._done=!0,this._headersReceivedCapability.reject(P);for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(P,R,O){this._manager=P;const C={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._requestId=P.requestRange(R,O,C),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(P){const R=P.chunk;this._requests.length>0?this._requests.shift().resolve({value:R,done:!1}):this._queuedChunk=R,this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(P){this._storedError=(0,S.createResponseStatusError)(P,this._url);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(P){this.isStreamingSupported||this.onProgress?.({loaded:P.loaded})}get isStreamingSupported(){return!1}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(null!==P._queuedChunk){const O=P._queuedChunk;return P._queuedChunk=null,{value:O,done:!1}}if(P._done)return{value:void 0,done:!0};const R=new h.PromiseCapability;return P._requests.push(R),R.promise})()}cancel(P){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFetchStream=void 0;var h=T(1),S=T(22);function N(W,Y,P){return{method:"GET",headers:W,signal:P.signal,mode:"cors",credentials:Y?"include":"same-origin",redirect:"follow"}}function k(W){const Y=new Headers;for(const P in W){const R=W[P];void 0!==R&&Y.append(P,R)}return Y}function Z(W){return W instanceof Uint8Array?W.buffer:W instanceof ArrayBuffer?W:((0,h.warn)(`getArrayBuffer - unexpected data format: ${W}`),new Uint8Array(W).buffer)}c.PDFFetchStream=class te{constructor(Y){this.source=Y,this.isHttp=/^https?:/i.test(Y.url),this.httpHeaders=this.isHttp&&Y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new M(this),this._fullRequestReader}getRangeReader(Y,P){if(P<=this._progressiveDataLength)return null;const R=new F(this,Y,P);return this._rangeRequestReaders.push(R),R}cancelAllRequests(Y){this._fullRequestReader?.cancel(Y);for(const P of this._rangeRequestReaders.slice(0))P.cancel(Y)}};class M{constructor(Y){this._stream=Y,this._reader=null,this._loaded=0,this._filename=null;const P=Y.source;this._withCredentials=P.withCredentials||!1,this._contentLength=P.length,this._headersCapability=new h.PromiseCapability,this._disableRange=P.disableRange||!1,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!P.disableStream,this._isRangeSupported=!P.disableRange,this._headers=k(this._stream.httpHeaders);const R=P.url;fetch(R,N(this._headers,this._withCredentials,this._abortController)).then(O=>{if(!(0,S.validateResponseStatus)(O.status))throw(0,S.createResponseStatusError)(O.status,R);this._reader=O.body.getReader(),this._headersCapability.resolve();const C=U=>O.headers.get(U),{allowRangeRequests:w,suggestedLength:G}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=G||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(C),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Y=this;return _asyncToGenerator(function*(){yield Y._headersCapability.promise;const{value:P,done:R}=yield Y._reader.read();return R?{value:P,done:R}:(Y._loaded+=P.byteLength,Y.onProgress?.({loaded:Y._loaded,total:Y._contentLength}),{value:Z(P),done:!1})})()}cancel(Y){this._reader?.cancel(Y),this._abortController.abort()}}class F{constructor(Y,P,R){this._stream=Y,this._reader=null,this._loaded=0;const O=Y.source;this._withCredentials=O.withCredentials||!1,this._readCapability=new h.PromiseCapability,this._isStreamingSupported=!O.disableStream,this._abortController=new AbortController,this._headers=k(this._stream.httpHeaders),this._headers.append("Range",`bytes=${P}-${R-1}`);const C=O.url;fetch(C,N(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,S.validateResponseStatus)(w.status))throw(0,S.createResponseStatusError)(w.status,C);this._readCapability.resolve(),this._reader=w.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var Y=this;return _asyncToGenerator(function*(){yield Y._readCapability.promise;const{value:P,done:R}=yield Y._reader.read();return R?{value:P,done:R}:(Y._loaded+=P.byteLength,Y.onProgress?.({loaded:Y._loaded}),{value:Z(P),done:!1})})()}cancel(Y){this._reader?.cancel(Y),this._abortController.abort()}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerRenderTask=void 0,c.renderTextLayer=function O(w){!w.textContentSource&&(w.textContent||w.textContentStream)&&((0,S.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),w.textContentSource=w.textContent||w.textContentStream);const{container:G,viewport:U}=w,D=getComputedStyle(G),p=D.getPropertyValue("visibility"),_=parseFloat(D.getPropertyValue("--scale-factor"));"visible"===p&&(!_||Math.abs(_-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const V=new R(w);return V._render(),V},c.updateTextLayer=function C({container:w,viewport:G,textDivs:U,textDivProperties:D,isOffscreenCanvasSupported:p,mustRotate:_=!0,mustRescale:V=!0}){if(_&&(0,S.setLayerDimensions)(w,{rotation:G.rotation}),V){const q=M(0,p),J={prevFontSize:null,prevFontFamily:null,div:null,scale:G.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:q};for(const B of U)J.properties=D.get(B),J.div=B,Y(J)}};var h=T(1),S=T(6);const k=30,Z=.8,te=new Map;function M(w,G){let U;if(G&&h.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(w,w).getContext("2d",{alpha:!1});else{const D=document.createElement("canvas");D.width=D.height=w,U=D.getContext("2d",{alpha:!1})}return U}function W(w,G,U){const D=document.createElement("span"),p={angle:0,canvasWidth:0,hasText:""!==G.str,hasEOL:G.hasEOL,fontSize:0};w._textDivs.push(D);const _=h.Util.transform(w._transform,G.transform);let V=Math.atan2(_[1],_[0]);const q=U[G.fontName];q.vertical&&(V+=Math.PI/2);const L=Math.hypot(_[2],_[3]),J=L*function F(w,G){const U=te.get(w);if(U)return U;const D=M(k,G);D.font=`${k}px ${w}`;const p=D.measureText("");let _=p.fontBoundingBoxAscent,V=Math.abs(p.fontBoundingBoxDescent);if(_){const L=_/(_+V);return te.set(w,L),D.canvas.width=D.canvas.height=0,L}D.strokeStyle="red",D.clearRect(0,0,k,k),D.strokeText("g",0,0);let q=D.getImageData(0,0,k,k).data;V=0;for(let L=q.length-1-3;L>=0;L-=4)if(q[L]>0){V=Math.ceil(L/4/k);break}D.clearRect(0,0,k,k),D.strokeText("A",0,k),q=D.getImageData(0,0,k,k).data,_=0;for(let L=0,J=q.length;L<J;L+=4)if(q[L]>0){_=k-Math.floor(L/4/k);break}if(D.canvas.width=D.canvas.height=0,_){const L=_/(_+V);return te.set(w,L),L}return te.set(w,Z),Z}(q.fontFamily,w._isOffscreenCanvasSupported);let B,ce;0===V?(B=_[4],ce=_[5]-J):(B=_[4]+J*Math.sin(V),ce=_[5]-J*Math.cos(V));const Se="calc(var(--scale-factor)*",ge=D.style;w._container===w._rootContainer?(ge.left=`${(100*B/w._pageWidth).toFixed(2)}%`,ge.top=`${(100*ce/w._pageHeight).toFixed(2)}%`):(ge.left=`${Se}${B.toFixed(2)}px)`,ge.top=`${Se}${ce.toFixed(2)}px)`),ge.fontSize=`${Se}${L.toFixed(2)}px)`,ge.fontFamily=q.fontFamily,p.fontSize=L,D.setAttribute("role","presentation"),D.textContent=G.str,D.dir=G.dir,w._fontInspectorEnabled&&(D.dataset.fontName=G.fontName),0!==V&&(p.angle=V*(180/Math.PI));let we=!1;if(G.str.length>1)we=!0;else if(" "!==G.str&&G.transform[0]!==G.transform[3]){const Te=Math.abs(G.transform[0]),Be=Math.abs(G.transform[3]);Te!==Be&&Math.max(Te,Be)/Math.min(Te,Be)>1.5&&(we=!0)}we&&(p.canvasWidth=q.vertical?G.height:G.width),w._textDivProperties.set(D,p),w._isReadableStream&&w._layoutText(D)}function Y(w){const{div:G,scale:U,properties:D,ctx:p,prevFontSize:_,prevFontFamily:V}=w,{style:q}=G;let L="";if(0!==D.canvasWidth&&D.hasText){const{fontFamily:J}=q,{canvasWidth:B,fontSize:ce}=D;(_!==ce||V!==J)&&(p.font=`${ce*U}px ${J}`,w.prevFontSize=ce,w.prevFontFamily=J);const{width:Se}=p.measureText(G.textContent);Se>0&&(L=`scaleX(${B*U/Se})`)}0!==D.angle&&(L=`rotate(${D.angle}deg) ${L}`),L.length>0&&(q.transform=L)}class R{constructor({textContentSource:G,container:U,viewport:D,textDivs:p,textDivProperties:_,textContentItemsStr:V,isOffscreenCanvasSupported:q}){this._textContentSource=G,this._isReadableStream=G instanceof ReadableStream,this._container=this._rootContainer=U,this._textDivs=p||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=q,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=_||new WeakMap,this._canceled=!1,this._capability=new h.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:D.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:M(0,q)};const{pageWidth:L,pageHeight:J,pageX:B,pageY:ce}=D.rawDims;this._transform=[1,0,0,-1,-B,ce+J],this._pageWidth=L,this._pageHeight=J,(0,S.setLayerDimensions)(U,D),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new h.AbortException("TextLayer task cancelled."))}_processItems(G,U){for(const D of G)if(void 0!==D.str)this._textContentItemsStr.push(D.str),W(this,D,U);else if("beginMarkedContentProps"===D.type||"beginMarkedContent"===D.type){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==D.id&&this._container.setAttribute("id",`${D.id}`),p.append(this._container)}else"endMarkedContent"===D.type&&(this._container=this._container.parentNode)}_layoutText(G){const U=this._layoutTextParams.properties=this._textDivProperties.get(G);if(this._layoutTextParams.div=G,Y(this._layoutTextParams),U.hasText&&this._container.append(G),U.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),this._container.append(D)}}_render(){const G=new h.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const D=()=>{this._reader.read().then(({value:p,done:_})=>{_?G.resolve():(Object.assign(U,p.styles),this._processItems(p.items,U),D())},G.reject)};this._reader=this._textContentSource.getReader(),D()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:D,styles:p}=this._textContentSource;this._processItems(D,p),G.resolve()}}G.promise.then(()=>{U=null,function P(w){if(w._canceled)return;const G=w._textDivs,U=w._capability;if(G.length>1e5)U.resolve();else{if(!w._isReadableStream)for(const p of G)w._layoutText(p);U.resolve()}}(this)},this._capability.reject)}}c.TextLayerRenderTask=R},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditorLayer=void 0;var h=T(1),S=T(5),N=T(28),k=T(29),Z=T(6);c.AnnotationEditorLayer=(()=>{var M=new WeakMap,F=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,O=new WeakMap,C=new WeakMap,w=new WeakSet,G=new WeakSet,U=new WeakSet,D=new WeakSet;class p{constructor(B){_classPrivateMethodInitSpec(this,D),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,w),_classPrivateFieldInitSpec(this,M,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:void 0}),p._initialized||(p._initialized=!0,N.FreeTextEditor.initialize(B.l10n),k.InkEditor.initialize(B.l10n)),B.uiManager.registerEditorTypes([N.FreeTextEditor,k.InkEditor]),_classPrivateFieldSet(this,C,B.uiManager),this.pageIndex=B.pageIndex,this.div=B.div,_classPrivateFieldSet(this,M,B.accessibilityManager),_classPrivateFieldGet(this,C).addLayer(this)}get isEmpty(){return 0===_classPrivateFieldGet(this,P).size}updateToolbar(B){_classPrivateFieldGet(this,C).updateToolbar(B)}updateMode(B=_classPrivateFieldGet(this,C).getMode()){_classPrivateMethodGet(this,D,L).call(this),B===h.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,C).unselectAll(),B!==h.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",B===h.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",B===h.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(B){if(B||_classPrivateFieldGet(this,C).getMode()===h.AnnotationEditorType.INK){if(!B)for(const Se of _classPrivateFieldGet(this,P).values())if(Se.isEmpty())return void Se.setInBackground();_classPrivateMethodGet(this,U,q).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(B){_classPrivateFieldGet(this,C).setEditingState(B)}addCommands(B){_classPrivateFieldGet(this,C).addCommands(B)}enable(){this.div.style.pointerEvents="auto";for(const B of _classPrivateFieldGet(this,P).values())B.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const B of _classPrivateFieldGet(this,P).values())B.disableEditing();_classPrivateMethodGet(this,D,L).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(B){_classPrivateFieldGet(this,C).getActive()!==B&&_classPrivateFieldGet(this,C).setActiveEditor(B)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,Y)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,W))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,Y)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,W))}attach(B){_classPrivateFieldGet(this,P).set(B.id,B)}detach(B){_classPrivateFieldGet(this,P).delete(B.id),_classPrivateFieldGet(this,M)?.removePointerInTextLayer(B.contentDiv)}remove(B){_classPrivateFieldGet(this,C).removeEditor(B),this.detach(B),B.div.style.display="none",setTimeout(()=>{B.div.style.display="",B.div.remove(),B.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(this,C).focusMainContainer()},0),_classPrivateFieldGet(this,O)||this.addInkEditorIfNeeded(!1)}add(B){if(_classPrivateMethodGet(this,w,_).call(this,B),_classPrivateFieldGet(this,C).addEditor(B),this.attach(B),!B.isAttachedToDOM){const ce=B.render();this.div.append(ce),B.isAttachedToDOM=!0}this.moveEditorInDOM(B),B.onceAdded(),_classPrivateFieldGet(this,C).addToAnnotationStorage(B)}moveEditorInDOM(B){_classPrivateFieldGet(this,M)?.moveElementInDOM(this.div,B.div,B.contentDiv,!0)}addOrRebuild(B){B.needsToBeRebuilt()?B.rebuild():this.add(B)}addANewEditor(B){this.addCommands({cmd:()=>{this.addOrRebuild(B)},undo:()=>{B.remove()},mustExec:!0})}addUndoableEditor(B){this.addCommands({cmd:()=>{this.addOrRebuild(B)},undo:()=>{B.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,C).getId()}deserialize(B){switch(B.annotationType){case h.AnnotationEditorType.FREETEXT:return N.FreeTextEditor.deserialize(B,this,_classPrivateFieldGet(this,C));case h.AnnotationEditorType.INK:return k.InkEditor.deserialize(B,this,_classPrivateFieldGet(this,C))}return null}setSelected(B){_classPrivateFieldGet(this,C).setSelected(B)}toggleSelected(B){_classPrivateFieldGet(this,C).toggleSelected(B)}isSelected(B){return _classPrivateFieldGet(this,C).isSelected(B)}unselect(B){_classPrivateFieldGet(this,C).unselect(B)}pointerup(B){const{isMac:ce}=h.FeatureTest.platform;if(!(0!==B.button||B.ctrlKey&&ce)&&B.target===this.div&&_classPrivateFieldGet(this,R)){if(_classPrivateFieldSet(this,R,!1),!_classPrivateFieldGet(this,F))return void _classPrivateFieldSet(this,F,!0);_classPrivateMethodGet(this,U,q).call(this,B)}}pointerdown(B){const{isMac:ce}=h.FeatureTest.platform;if(0!==B.button||B.ctrlKey&&ce||B.target!==this.div)return;_classPrivateFieldSet(this,R,!0);const Se=_classPrivateFieldGet(this,C).getActive();_classPrivateFieldSet(this,F,!Se||Se.isEmpty())}drop(B){const ce=B.dataTransfer.getData("text/plain"),Se=_classPrivateFieldGet(this,C).getEditor(ce);if(!Se)return;B.preventDefault(),B.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,w,_).call(this,Se);const ge=this.div.getBoundingClientRect();Se.translate(B.clientX-ge.x-Se.startX,B.clientY-ge.y-Se.startY),this.moveEditorInDOM(Se),Se.div.focus()}dragover(B){B.preventDefault()}destroy(){_classPrivateFieldGet(this,C).getActive()?.parent===this&&_classPrivateFieldGet(this,C).setActiveEditor(null);for(const B of _classPrivateFieldGet(this,P).values())_classPrivateFieldGet(this,M)?.removePointerInTextLayer(B.contentDiv),B.setParent(null),B.isAttachedToDOM=!1,B.div.remove();this.div=null,_classPrivateFieldGet(this,P).clear(),_classPrivateFieldGet(this,C).removeLayer(this)}render({viewport:B}){this.viewport=B,(0,Z.setLayerDimensions)(this.div,B),(0,S.bindEvents)(this,this.div,["dragover","drop"]);for(const ce of _classPrivateFieldGet(this,C).getEditors(this.pageIndex))this.add(ce);this.updateMode()}update({viewport:B}){_classPrivateFieldGet(this,C).commitOrRemove(),this.viewport=B,(0,Z.setLayerDimensions)(this.div,{rotation:B.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:B,pageHeight:ce}=this.viewport.rawDims;return[B,ce]}}function _(J){J.parent!==this&&(this.attach(J),J.parent?.detach(J),J.setParent(this),J.div&&J.isAttachedToDOM&&(J.div.remove(),this.div.append(J.div)))}function V(J){switch(_classPrivateFieldGet(this,C).getMode()){case h.AnnotationEditorType.FREETEXT:return new N.FreeTextEditor(J);case h.AnnotationEditorType.INK:return new k.InkEditor(J)}return null}function q(J){const B=this.getNextId(),ce=_classPrivateMethodGet(this,G,V).call(this,{parent:this,id:B,x:J.offsetX,y:J.offsetY,uiManager:_classPrivateFieldGet(this,C)});return ce&&this.add(ce),ce}function L(){_classPrivateFieldSet(this,O,!0);for(const J of _classPrivateFieldGet(this,P).values())J.isEmpty()&&J.remove();_classPrivateFieldSet(this,O,!1)}return _defineProperty(p,"_initialized",!1),p})()},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FreeTextEditor=void 0;var h=T(1),S=T(5),N=T(4),k=new WeakMap,Z=new WeakMap,te=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,O=new WeakSet,C=new WeakSet,w=new WeakSet,G=new WeakSet;class U extends N.AnnotationEditor{constructor(L){super({...L,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,O),_classPrivateFieldInitSpec(this,k,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,Z,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:this.editorDivInput.bind(this)}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:`${this.id}-editor`}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:void 0}),_classPrivateFieldSet(this,F,L.color||U._defaultColor||N.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,R,L.fontSize||U._defaultFontSize)}static initialize(L){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(B=>[B,L.get(B)]));const J=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(J.getPropertyValue("--freetext-padding"))}static updateDefaultParams(L,J){switch(L){case h.AnnotationEditorParamsType.FREETEXT_SIZE:U._defaultFontSize=J;break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:U._defaultColor=J}}updateParams(L,J){switch(L){case h.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,O,D).call(this,J);break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,C,p).call(this,J)}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,U._defaultFontSize],[h.AnnotationEditorParamsType.FREETEXT_COLOR,U._defaultColor||N.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,R)],[h.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,F)]]}getInitialTranslation(){const L=this.parentScale;return[-U._internalPadding*L,-(U._internalPadding+_classPrivateFieldGet(this,R))*L]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(h.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,M)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,Z)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,k)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,te)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,Y)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,M)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,Z)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,k)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,te)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(L){super.focusin(L),L.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),_classPrivateFieldGet(this,P)||(_classPrivateFieldSet(this,P,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,W,_classPrivateMethodGet(this,w,_).call(this).trimEnd()),_classPrivateMethodGet(this,G,V).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(L){this.enableEditMode(),this.editorDiv.focus()}keydown(L){L.target===this.div&&"Enter"===L.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(L){U._keyboardManager.exec(this,L)}editorDivFocus(L){this.isEditing=!0}editorDivBlur(L){this.isEditing=!1}editorDivInput(L){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let L,J;this.width&&(L=this.x,J=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,Y)),this.enableEditing(),U._l10nPromise.get("editor_free_text2_aria_label").then(ce=>this.editorDiv?.setAttribute("aria-label",ce)),U._l10nPromise.get("free_text2_default_content").then(ce=>this.editorDiv?.setAttribute("default-content",ce)),this.editorDiv.contentEditable=!0;const{style:B}=this.editorDiv;if(B.fontSize=`calc(${_classPrivateFieldGet(this,R)}px * var(--scale-factor))`,B.color=_classPrivateFieldGet(this,F),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,S.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ce,Se]=this.parentDimensions;this.setAt(L*ce,J*Se,this.width*ce,this.height*Se);for(const ge of _classPrivateFieldGet(this,W).split("\n")){const we=document.createElement("div");we.append(ge?document.createTextNode(ge):document.createElement("br")),this.editorDiv.append(we)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(L,J,B){const ce=super.deserialize(L,J,B);return _classPrivateFieldSet(ce,R,L.fontSize),_classPrivateFieldSet(ce,F,h.Util.makeHexColor(...L.color)),_classPrivateFieldSet(ce,W,L.value),ce}serialize(){if(this.isEmpty())return null;const L=U._internalPadding*this.parentScale,J=this.getRect(L,L),B=N.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,F));return{annotationType:h.AnnotationEditorType.FREETEXT,color:B,fontSize:_classPrivateFieldGet(this,R),value:_classPrivateFieldGet(this,W),pageIndex:this.pageIndex,rect:J,rotation:this.rotation}}}function D(q){const L=B=>{this.editorDiv.style.fontSize=`calc(${B}px * var(--scale-factor))`,this.translate(0,-(B-_classPrivateFieldGet(this,R))*this.parentScale),_classPrivateFieldSet(this,R,B),_classPrivateMethodGet(this,G,V).call(this)},J=_classPrivateFieldGet(this,R);this.addCommands({cmd:()=>{L(q)},undo:()=>{L(J)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function p(q){const L=_classPrivateFieldGet(this,F);this.addCommands({cmd:()=>{_classPrivateFieldSet(this,F,this.editorDiv.style.color=q)},undo:()=>{_classPrivateFieldSet(this,F,this.editorDiv.style.color=L)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function _(){const q=this.editorDiv.getElementsByTagName("div");if(0===q.length)return this.editorDiv.innerText;const L=[];for(const J of q)L.push(J.innerText.replace(/\r\n?|\n/,""));return L.join("\n")}function V(){const[q,L]=this.parentDimensions;let J;if(this.isAttachedToDOM)J=this.div.getBoundingClientRect();else{const{currentLayer:B,div:ce}=this,Se=ce.style.display;ce.style.display="hidden",B.div.append(this.div),J=ce.getBoundingClientRect(),ce.remove(),ce.style.display=Se}this.width=J.width/q,this.height=J.height/L}_defineProperty(U,"_freeTextDefaultContent",""),_defineProperty(U,"_l10nPromise",void 0),_defineProperty(U,"_internalPadding",0),_defineProperty(U,"_defaultColor",null),_defineProperty(U,"_defaultFontSize",10),_defineProperty(U,"_keyboardManager",new S.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],U.prototype.commitOrRemove]])),_defineProperty(U,"_type","freetext"),c.FreeTextEditor=U},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InkEditor=void 0;var h=T(1),S=T(4),N=T(5);const k=16;c.InkEditor=(()=>{var te=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,O=new WeakMap,C=new WeakMap,w=new WeakMap,G=new WeakMap,U=new WeakMap,D=new WeakMap,p=new WeakMap,_=new WeakMap,V=new WeakMap,q=new WeakSet,L=new WeakSet,J=new WeakSet,B=new WeakSet,ce=new WeakSet,Se=new WeakSet,ge=new WeakSet,we=new WeakSet,Te=new WeakSet,Be=new WeakSet,Ce=new WeakSet,Ae=new WeakSet,ke=new WeakSet,$e=new WeakSet,qe=new WeakSet,ee=new WeakSet,v=new WeakSet,y=new WeakSet,x=new WeakSet,z=new WeakSet,K=new WeakSet,$=new WeakSet,d=new WeakSet,f=new WeakSet,g=new WeakSet,b=new WeakSet;class A extends S.AnnotationEditor{constructor(de){super({...de,name:"inkEditor"}),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,g),_classPrivateMethodInitSpec(this,f),_classPrivateMethodInitSpec(this,d),_classPrivateMethodInitSpec(this,$),_classPrivateMethodInitSpec(this,K),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,v),_classPrivateMethodInitSpec(this,ee),_classPrivateMethodInitSpec(this,qe),_classPrivateMethodInitSpec(this,$e),_classPrivateMethodInitSpec(this,ke),_classPrivateMethodInitSpec(this,Ae),_classPrivateMethodInitSpec(this,Ce),_classPrivateMethodInitSpec(this,Be),_classPrivateMethodInitSpec(this,Te),_classPrivateMethodInitSpec(this,we),_classPrivateMethodInitSpec(this,ge),_classPrivateMethodInitSpec(this,Se),_classPrivateMethodInitSpec(this,ce),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,J),_classPrivateMethodInitSpec(this,L),_classPrivateMethodInitSpec(this,q),_classPrivateFieldInitSpec(this,te,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.canvasContextMenu.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:new Path2D}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:null}),this.color=de.color||null,this.thickness=de.thickness||null,this.opacity=de.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(de){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Pe=>[Pe,de.get(Pe)]))}static updateDefaultParams(de,Pe){switch(de){case h.AnnotationEditorParamsType.INK_THICKNESS:A._defaultThickness=Pe;break;case h.AnnotationEditorParamsType.INK_COLOR:A._defaultColor=Pe;break;case h.AnnotationEditorParamsType.INK_OPACITY:A._defaultOpacity=Pe/100}}updateParams(de,Pe){switch(de){case h.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,q,H).call(this,Pe);break;case h.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,L,Q).call(this,Pe);break;case h.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,J,ne).call(this,Pe)}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,A._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,A._defaultColor||S.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*A._defaultOpacity)]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||A._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,this.color||A._defaultColor||S.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??A._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,qe,ae).call(this),_classPrivateMethodGet(this,ee,Me).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,v,Ke).call(this)),_classPrivateMethodGet(this,g,Rt).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,D).disconnect(),_classPrivateFieldSet(this,D,null),super.remove())}setParent(de){!this.parent&&de?this._uiManager.removeShouldRescale(this):this.parent&&null===de&&this._uiManager.addShouldRescale(this),super.setParent(de)}onScaleChanging(){const[de,Pe]=this.parentDimensions;this.setDimensions(this.width*de,this.height*Pe)}enableEditMode(){_classPrivateFieldGet(this,w)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,O)))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,O)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,w)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,w,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,g,Rt).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(de){super.focusin(de),this.enableEditMode()}canvasPointerdown(de){0!==de.button||!this.isInEditMode()||_classPrivateFieldGet(this,w)||(this.setInForeground(),de.preventDefault(),"mouse"!==de.type&&this.div.focus(),_classPrivateMethodGet(this,Se,se).call(this,de.offsetX,de.offsetY))}canvasContextMenu(de){de.preventDefault()}canvasPointermove(de){de.preventDefault(),_classPrivateMethodGet(this,ge,le).call(this,de.offsetX,de.offsetY)}canvasPointerup(de){de.preventDefault(),_classPrivateMethodGet(this,$e,We).call(this,de)}canvasPointerleave(de){_classPrivateMethodGet(this,$e,We).call(this,de)}render(){if(this.div)return this.div;let de,Pe;this.width&&(de=this.x,Pe=this.y),super.render(),A._l10nPromise.get("editor_ink2_aria_label").then(He=>this.div?.setAttribute("aria-label",He));const[Oe,xe,Je,rt]=_classPrivateMethodGet(this,B,ue).call(this);if(this.setAt(Oe,xe,0,0),this.setDims(Je,rt),_classPrivateMethodGet(this,qe,ae).call(this),this.width){const[He,nt]=this.parentDimensions;this.setAt(de*He,Pe*nt,this.width*He,this.height*nt),_classPrivateFieldSet(this,U,!0),_classPrivateMethodGet(this,v,Ke).call(this),this.setDims(this.width*He,this.height*nt),_classPrivateMethodGet(this,ke,et).call(this),_classPrivateMethodGet(this,b,Bt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,ee,Me).call(this),this.div}setDimensions(de,Pe){const Oe=Math.round(de),xe=Math.round(Pe);if(_classPrivateFieldGet(this,p)===Oe&&_classPrivateFieldGet(this,_)===xe)return;_classPrivateFieldSet(this,p,Oe),_classPrivateFieldSet(this,_,xe),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,te)&&Math.abs(_classPrivateFieldGet(this,te)-de/Pe)>.01&&(Pe=Math.ceil(de/_classPrivateFieldGet(this,te)),this.setDims(de,Pe));const[Je,rt]=this.parentDimensions;this.width=de/Je,this.height=Pe/rt,_classPrivateFieldGet(this,w)&&_classPrivateMethodGet(this,y,ct).call(this,de,Pe),_classPrivateMethodGet(this,v,Ke).call(this),_classPrivateMethodGet(this,ke,et).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(de,Pe,Oe){const xe=super.deserialize(de,Pe,Oe);xe.thickness=de.thickness,xe.color=h.Util.makeHexColor(...de.color),xe.opacity=de.opacity;const[Je,rt]=xe.pageDimensions,He=xe.width*Je,nt=xe.height*rt,it=xe.parentScale,yt=de.thickness/2;_classPrivateFieldSet(xe,te,He/nt),_classPrivateFieldSet(xe,w,!0),_classPrivateFieldSet(xe,p,Math.round(He)),_classPrivateFieldSet(xe,_,Math.round(nt));for(const{bezier:pt}of de.paths){const Et=[];xe.paths.push(Et);let Ut=it*(pt[0]-yt),Wt=it*(nt-pt[1]-yt);for(let ln=2,ai=pt.length;ln<ai;ln+=6){const Li=it*(pt[ln+4]-yt),ja=it*(nt-pt[ln+5]-yt);Et.push([[Ut,Wt],[it*(pt[ln]-yt),it*(nt-pt[ln+1]-yt)],[it*(pt[ln+2]-yt),it*(nt-pt[ln+3]-yt)],[Li,ja]]),Ut=Li,Wt=ja}const an=_classStaticPrivateMethodGet(this,A,Mt).call(this,Et);xe.bezierPath2D.push(an)}const ht=_classPrivateMethodGet(xe,d,Ne).call(xe);return _classPrivateFieldSet(xe,F,Math.max(k,ht[2]-ht[0])),_classPrivateFieldSet(xe,M,Math.max(k,ht[3]-ht[1])),_classPrivateMethodGet(xe,y,ct).call(xe,He,nt),xe}serialize(){if(this.isEmpty())return null;const de=this.getRect(0,0),Pe=this.rotation%180==0?de[3]-de[1]:de[2]-de[0],Oe=S.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:h.AnnotationEditorType.INK,color:Oe,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,z,me).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Pe),pageIndex:this.pageIndex,rect:de,rotation:this.rotation}}}function H(De){const de=this.thickness;this.addCommands({cmd:()=>{this.thickness=De,_classPrivateMethodGet(this,g,Rt).call(this)},undo:()=>{this.thickness=de,_classPrivateMethodGet(this,g,Rt).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Q(De){const de=this.color;this.addCommands({cmd:()=>{this.color=De,_classPrivateMethodGet(this,ke,et).call(this)},undo:()=>{this.color=de,_classPrivateMethodGet(this,ke,et).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ne(De){De/=100;const de=this.opacity;this.addCommands({cmd:()=>{this.opacity=De,_classPrivateMethodGet(this,ke,et).call(this)},undo:()=>{this.opacity=de,_classPrivateMethodGet(this,ke,et).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function ue(){const{parentRotation:De,parentDimensions:[de,Pe]}=this;switch(De){case 90:return[0,Pe,Pe,de];case 180:return[de,Pe,de,Pe];case 270:return[de,0,Pe,de];default:return[0,0,de,Pe]}}function he(){const{ctx:De,color:de,opacity:Pe,thickness:Oe,parentScale:xe,scaleFactor:Je}=this;De.lineWidth=Oe*xe/Je,De.lineCap="round",De.lineJoin="round",De.miterLimit=10,De.strokeStyle=`${de}${(0,N.opacityToHex)(Pe)}`}function se(De,de){this.canvas.addEventListener("contextmenu",_classPrivateFieldGet(this,W)),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,P)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,Y)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,R)),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,O)),this.isEditing=!0,_classPrivateFieldGet(this,U)||(_classPrivateFieldSet(this,U,!0),_classPrivateMethodGet(this,v,Ke).call(this),this.thickness||=A._defaultThickness,this.color||=A._defaultColor||S.AnnotationEditor._defaultLineColor,this.opacity??=A._defaultOpacity),this.currentPath.push([De,de]),_classPrivateFieldSet(this,G,!1),_classPrivateMethodGet(this,ce,he).call(this),_classPrivateFieldSet(this,V,()=>{_classPrivateMethodGet(this,Be,Re).call(this),_classPrivateFieldGet(this,V)&&window.requestAnimationFrame(_classPrivateFieldGet(this,V))}),window.requestAnimationFrame(_classPrivateFieldGet(this,V))}function le(De,de){const[Pe,Oe]=this.currentPath.at(-1);if(this.currentPath.length>1&&De===Pe&&de===Oe)return;const xe=this.currentPath;let Je=_classPrivateFieldGet(this,C);if(xe.push([De,de]),_classPrivateFieldSet(this,G,!0),xe.length<=2)return Je.moveTo(...xe[0]),void Je.lineTo(De,de);3===xe.length&&(_classPrivateFieldSet(this,C,Je=new Path2D),Je.moveTo(...xe[0])),_classPrivateMethodGet(this,Ce,Fe).call(this,Je,...xe.at(-3),...xe.at(-2),De,de)}function fe(){if(0===this.currentPath.length)return;const De=this.currentPath.at(-1);_classPrivateFieldGet(this,C).lineTo(...De)}function _e(De,de){let Pe;if(_classPrivateFieldSet(this,V,null),De=Math.min(Math.max(De,0),this.canvas.width),de=Math.min(Math.max(de,0),this.canvas.height),_classPrivateMethodGet(this,ge,le).call(this,De,de),_classPrivateMethodGet(this,we,fe).call(this),1!==this.currentPath.length)Pe=_classPrivateMethodGet(this,Ae,Ue).call(this);else{const He=[De,de];Pe=[[He,He.slice(),He.slice(),He]]}const Oe=_classPrivateFieldGet(this,C),xe=this.currentPath;this.currentPath=[],_classPrivateFieldSet(this,C,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(xe),this.paths.push(Pe),this.bezierPath2D.push(Oe),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,qe,ae).call(this),_classPrivateMethodGet(this,ee,Me).call(this)),_classPrivateMethodGet(this,g,Rt).call(this))},mustExec:!0})}function Re(){if(!_classPrivateFieldGet(this,G))return;_classPrivateFieldSet(this,G,!1),Math.ceil(this.thickness*this.parentScale);const de=this.currentPath.slice(-3),Pe=de.map(it=>it[0]),Oe=de.map(it=>it[1]),{ctx:nt}=(Math.min(...Pe),Math.max(...Pe),Math.min(...Oe),Math.max(...Oe),this);nt.save(),nt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const it of this.bezierPath2D)nt.stroke(it);nt.stroke(_classPrivateFieldGet(this,C)),nt.restore()}function Fe(De,de,Pe,Oe,xe,Je,rt){const He=(de+Oe)/2,nt=(Pe+xe)/2,it=(Oe+Je)/2,yt=(xe+rt)/2;De.bezierCurveTo(He+2*(Oe-He)/3,nt+2*(xe-nt)/3,it+2*(Oe-it)/3,yt+2*(xe-yt)/3,it,yt)}function Ue(){const De=this.currentPath;if(De.length<=2)return[[De[0],De[0],De.at(-1),De.at(-1)]];const de=[];let Pe,[Oe,xe]=De[0];for(Pe=1;Pe<De.length-2;Pe++){const[ht,pt]=De[Pe],[Et,Ut]=De[Pe+1],Wt=(ht+Et)/2,an=(pt+Ut)/2;de.push([[Oe,xe],[Oe+2*(ht-Oe)/3,xe+2*(pt-xe)/3],[Wt+2*(ht-Wt)/3,an+2*(pt-an)/3],[Wt,an]]),[Oe,xe]=[Wt,an]}const[Je,rt]=De[Pe],[He,nt]=De[Pe+1];return de.push([[Oe,xe],[Oe+2*(Je-Oe)/3,xe+2*(rt-xe)/3],[He+2*(Je-He)/3,nt+2*(rt-nt)/3],[He,nt]]),de}function et(){if(this.isEmpty())return void _classPrivateMethodGet(this,x,Lt).call(this);_classPrivateMethodGet(this,ce,he).call(this);const{canvas:De,ctx:de}=this;de.setTransform(1,0,0,1,0,0),de.clearRect(0,0,De.width,De.height),_classPrivateMethodGet(this,x,Lt).call(this);for(const Pe of this.bezierPath2D)de.stroke(Pe)}function We(De){this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,P)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,Y)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,R)),this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,O)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",_classPrivateFieldGet(this,W))},10),_classPrivateMethodGet(this,Te,_e).call(this,De.offsetX,De.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function ae(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",A._l10nPromise.get("editor_ink_canvas_aria_label").then(De=>this.canvas?.setAttribute("aria-label",De)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Me(){_classPrivateFieldSet(this,D,new ResizeObserver(De=>{const de=De[0].contentRect;de.width&&de.height&&this.setDimensions(de.width,de.height)})),_classPrivateFieldGet(this,D).observe(this.div)}function Ke(){if(!_classPrivateFieldGet(this,U))return;const[De,de]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*De),this.canvas.height=Math.ceil(this.height*de),_classPrivateMethodGet(this,x,Lt).call(this)}function ct(De,de){const Pe=_classPrivateMethodGet(this,f,_t).call(this),Oe=(De-Pe)/_classPrivateFieldGet(this,F),xe=(de-Pe)/_classPrivateFieldGet(this,M);this.scaleFactor=Math.min(Oe,xe)}function Lt(){const De=_classPrivateMethodGet(this,f,_t).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+De,this.translationY*this.scaleFactor+De)}function Mt(De){const de=new Path2D;for(let Pe=0,Oe=De.length;Pe<Oe;Pe++){const[xe,Je,rt,He]=De[Pe];0===Pe&&de.moveTo(...xe),de.bezierCurveTo(Je[0],Je[1],rt[0],rt[1],He[0],He[1])}return de}function me(De,de,Pe,Oe){const Je=[],rt=this.thickness/2;let He,nt;for(const it of this.paths){He=[],nt=[];for(let yt=0,ht=it.length;yt<ht;yt++){const[pt,Et,Ut,Wt]=it[yt],an=De*(pt[0]+de)+rt,ln=Oe-De*(pt[1]+Pe)-rt,ai=De*(Et[0]+de)+rt,Rn=Oe-De*(Et[1]+Pe)-rt,ur=De*(Ut[0]+de)+rt,yi=Oe-De*(Ut[1]+Pe)-rt,dr=De*(Wt[0]+de)+rt,Li=Oe-De*(Wt[1]+Pe)-rt;0===yt&&(He.push(an,ln),nt.push(an,ln)),He.push(ai,Rn,ur,yi,dr,Li),_classPrivateMethodGet(this,K,re).call(this,an,ln,ai,Rn,ur,yi,dr,Li,4,nt)}Je.push({bezier:He,points:nt})}return Je}function re(De,de,Pe,Oe,xe,Je,rt,He,nt,it){if(_classPrivateMethodGet(this,$,oe).call(this,De,de,Pe,Oe,xe,Je,rt,He))it.push(rt,He);else{for(let yt=1;yt<nt-1;yt++){const ht=yt/nt,pt=1-ht;let Et=ht*De+pt*Pe,Ut=ht*de+pt*Oe,Wt=ht*Pe+pt*xe,an=ht*Oe+pt*Je;Et=ht*Et+pt*Wt,Ut=ht*Ut+pt*an,Wt=ht*Wt+pt*(ht*xe+pt*rt),an=ht*an+pt*(ht*Je+pt*He),Et=ht*Et+pt*Wt,Ut=ht*Ut+pt*an,it.push(Et,Ut)}it.push(rt,He)}}function oe(De,de,Pe,Oe,xe,Je,rt,He){const yt=(3*Oe-2*de-He)**2,pt=(3*Je-de-2*He)**2;return Math.max((3*Pe-2*De-rt)**2,(3*xe-De-2*rt)**2)+Math.max(yt,pt)<=10}function Ne(){let De=1/0,de=-1/0,Pe=1/0,Oe=-1/0;for(const xe of this.paths)for(const[Je,rt,He,nt]of xe){const it=h.Util.bezierBoundingBox(...Je,...rt,...He,...nt);De=Math.min(De,it[0]),Pe=Math.min(Pe,it[1]),de=Math.max(de,it[2]),Oe=Math.max(Oe,it[3])}return[De,Pe,de,Oe]}function _t(){return _classPrivateFieldGet(this,w)?Math.ceil(this.thickness*this.parentScale):0}function Rt(De=!1){if(this.isEmpty())return;if(!_classPrivateFieldGet(this,w))return void _classPrivateMethodGet(this,ke,et).call(this);const de=_classPrivateMethodGet(this,d,Ne).call(this),Pe=_classPrivateMethodGet(this,f,_t).call(this);_classPrivateFieldSet(this,F,Math.max(k,de[2]-de[0])),_classPrivateFieldSet(this,M,Math.max(k,de[3]-de[1]));const Oe=Math.ceil(Pe+_classPrivateFieldGet(this,F)*this.scaleFactor),xe=Math.ceil(Pe+_classPrivateFieldGet(this,M)*this.scaleFactor),[Je,rt]=this.parentDimensions;this.width=Oe/Je,this.height=xe/rt,_classPrivateFieldSet(this,te,Oe/xe),_classPrivateMethodGet(this,b,Bt).call(this);const He=this.translationX,nt=this.translationY;this.translationX=-de[0],this.translationY=-de[1],_classPrivateMethodGet(this,v,Ke).call(this),_classPrivateMethodGet(this,ke,et).call(this),_classPrivateFieldSet(this,p,Oe),_classPrivateFieldSet(this,_,xe),this.setDims(Oe,xe);const it=De?Pe/this.scaleFactor/2:0;this.translate(He-this.translationX-it,nt-this.translationY-it)}function Bt(){const{style:De}=this.div;_classPrivateFieldGet(this,te)>=1?(De.minHeight=`${k}px`,De.minWidth=`${Math.round(_classPrivateFieldGet(this,te)*k)}px`):(De.minWidth=`${k}px`,De.minHeight=`${Math.round(k/_classPrivateFieldGet(this,te))}px`)}return _defineProperty(A,"_defaultColor",null),_defineProperty(A,"_defaultOpacity",1),_defineProperty(A,"_defaultThickness",1),_defineProperty(A,"_l10nPromise",void 0),_defineProperty(A,"_type","ink"),A})()},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayer=void 0;var h=T(1),S=T(6),N=T(3),k=T(31),Z=T(32);const F=new WeakSet;function W($){return{width:$[2]-$[0],height:$[3]-$[1]}}class Y{static create(d){switch(d.data.annotationType){case h.AnnotationType.LINK:return new C(d);case h.AnnotationType.TEXT:return new U(d);case h.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new p(d);case"Btn":return d.data.radioButton?new V(d):d.data.checkBox?new _(d):new q(d);case"Ch":return new L(d)}return new D(d);case h.AnnotationType.POPUP:return new J(d);case h.AnnotationType.FREETEXT:return new ce(d);case h.AnnotationType.LINE:return new Se(d);case h.AnnotationType.SQUARE:return new ge(d);case h.AnnotationType.CIRCLE:return new we(d);case h.AnnotationType.POLYLINE:return new Te(d);case h.AnnotationType.CARET:return new Ce(d);case h.AnnotationType.INK:return new Ae(d);case h.AnnotationType.POLYGON:return new Be(d);case h.AnnotationType.HIGHLIGHT:return new ke(d);case h.AnnotationType.UNDERLINE:return new $e(d);case h.AnnotationType.SQUIGGLY:return new qe(d);case h.AnnotationType.STRIKEOUT:return new ee(d);case h.AnnotationType.STAMP:return new v(d);case h.AnnotationType.FILEATTACHMENT:return new y(d);default:return new P(d)}}}class P{constructor(d,{isRenderable:f=!1,ignoreBorder:g=!1,createQuadrilaterals:b=!1}={}){this.isRenderable=f,this.data=d.data,this.layer=d.layer,this.page=d.page,this.viewport=d.viewport,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,f&&(this.container=this._createContainer(g)),b&&(this.quadrilaterals=this._createQuadrilaterals(g))}_createContainer(d=!1){const{data:f,page:g,viewport:b}=this,A=document.createElement("section");A.setAttribute("data-annotation-id",f.id),f.noRotate&&A.classList.add("norotate");const{pageWidth:H,pageHeight:Q,pageX:ne,pageY:ue}=b.rawDims,{width:he,height:se}=W(f.rect),le=h.Util.normalizeRect([f.rect[0],g.view[3]-f.rect[1]+g.view[1],f.rect[2],g.view[3]-f.rect[3]+g.view[1]]);if(!d&&f.borderStyle.width>0){A.style.borderWidth=`${f.borderStyle.width}px`;const _e=f.borderStyle.horizontalCornerRadius,Re=f.borderStyle.verticalCornerRadius;switch(_e>0||Re>0?A.style.borderRadius=`calc(${_e}px * var(--scale-factor)) / calc(${Re}px * var(--scale-factor))`:this instanceof V&&(A.style.borderRadius=`calc(${he}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`),f.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:A.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:A.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:A.style.borderBottomStyle="solid"}const Fe=f.borderColor||null;Fe?A.style.borderColor=h.Util.makeHexColor(0|Fe[0],0|Fe[1],0|Fe[2]):A.style.borderWidth=0}A.style.left=100*(le[0]-ne)/H+"%",A.style.top=100*(le[1]-ue)/Q+"%";const{rotation:fe}=f;return f.hasOwnCanvas||0===fe?(A.style.width=100*he/H+"%",A.style.height=100*se/Q+"%"):this.setRotation(fe,A),A}setRotation(d,f=this.container){const{pageWidth:g,pageHeight:b}=this.viewport.rawDims,{width:A,height:H}=W(this.data.rect);let Q,ne;d%180==0?(Q=100*A/g,ne=100*H/b):(Q=100*H/g,ne=100*A/b),f.style.width=`${Q}%`,f.style.height=`${ne}%`,f.setAttribute("data-main-rotation",(360-d)%360)}get _commonActions(){const d=(f,g,b)=>{const A=b.detail[f];b.target.style[g]=k.ColorConverters[`${A[0]}_HTML`](A.slice(1))};return(0,h.shadow)(this,"_commonActions",{display:f=>{const g=f.detail.display%2==1;this.container.style.visibility=g?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:g,print:0===f.detail.display||3===f.detail.display})},print:f=>{this.annotationStorage.setValue(this.data.id,{print:f.detail.print})},hidden:f=>{this.container.style.visibility=f.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:f.detail.hidden})},focus:f=>{setTimeout(()=>f.target.focus({preventScroll:!1}),0)},userName:f=>{f.target.title=f.detail.userName},readonly:f=>{f.detail.readonly?f.target.setAttribute("readonly",""):f.target.removeAttribute("readonly")},required:f=>{this._setRequired(f.target,f.detail.required)},bgColor:f=>{d("bgColor","backgroundColor",f)},fillColor:f=>{d("fillColor","backgroundColor",f)},fgColor:f=>{d("fgColor","color",f)},textColor:f=>{d("textColor","color",f)},borderColor:f=>{d("borderColor","borderColor",f)},strokeColor:f=>{d("strokeColor","borderColor",f)},rotation:f=>{const g=f.detail.rotation;this.setRotation(g),this.annotationStorage.setValue(this.data.id,{rotation:g})}})}_dispatchEventFromSandbox(d,f){const g=this._commonActions;for(const b of Object.keys(f.detail))(d[b]||g[b])?.(f)}_setDefaultPropertiesFromJS(d){if(!this.enableScripting)return;const f=this.annotationStorage.getRawValue(this.data.id);if(!f)return;const g=this._commonActions;for(const[b,A]of Object.entries(f)){const H=g[b];H&&(H({detail:{[b]:A},target:d}),delete f[b])}}_createQuadrilaterals(d=!1){if(!this.data.quadPoints)return null;const f=[],g=this.data.rect;for(const b of this.data.quadPoints)this.data.rect=[b[2].x,b[2].y,b[1].x,b[1].y],f.push(this._createContainer(d));return this.data.rect=g,f}_createPopup(d,f){let g=this.container;this.quadrilaterals&&(d||=this.quadrilaterals,g=this.quadrilaterals[0]),d||((d=document.createElement("div")).classList.add("popupTriggerArea"),g.append(d));const A=new B({container:g,trigger:d,color:f.color,titleObj:f.titleObj,modificationDate:f.modificationDate,contentsObj:f.contentsObj,richText:f.richText,hideWrapper:!0}).render();A.style.left="100%",g.append(A)}_renderQuadrilaterals(d){for(const f of this.quadrilaterals)f.classList.add(d);return this.quadrilaterals}render(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,f=null){const g=[];if(this._fieldObjects){const b=this._fieldObjects[d];if(b)for(const{page:A,id:H,exportValues:Q}of b){if(-1===A||H===f)continue;const ne="string"==typeof Q?Q:null,ue=document.querySelector(`[data-element-id="${H}"]`);!ue||F.has(ue)?g.push({id:H,exportValue:ne,domElement:ue}):(0,h.warn)(`_getElementsByName - element not allowed: ${H}`)}return g}for(const b of document.getElementsByName(d)){const{exportValue:A}=b,H=b.getAttribute("data-element-id");H!==f&&F.has(b)&&g.push({id:H,exportValue:A,domElement:b})}return g}}var R=new WeakSet,O=new WeakSet;class C extends P{constructor(d,f=null){super(d,{isRenderable:!0,ignoreBorder:!!f?.ignoreBorder,createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,O),_classPrivateMethodInitSpec(this,R),this.isTooltipOnly=d.data.isTooltipOnly}render(){const{data:d,linkService:f}=this,g=document.createElement("a");g.setAttribute("data-element-id",d.id);let b=!1;return d.url?(f.addLinkAttributes(g,d.url,d.newWindow),b=!0):d.action?(this._bindNamedAction(g,d.action),b=!0):d.attachment?(this._bindAttachment(g,d.attachment),b=!0):d.setOCGState?(_classPrivateMethodGet(this,O,G).call(this,g,d.setOCGState),b=!0):d.dest?(this._bindLink(g,d.dest),b=!0):(d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(g,d),b=!0),d.resetForm?(this._bindResetFormAction(g,d.resetForm),b=!0):this.isTooltipOnly&&!b&&(this._bindLink(g,""),b=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((A,H)=>{const Q=0===H?g:g.cloneNode();return A.append(Q),A}):(this.container.classList.add("linkAnnotation"),b&&this.container.append(g),this.container)}_bindLink(d,f){d.href=this.linkService.getDestinationHash(f),d.onclick=()=>(f&&this.linkService.goToDestination(f),!1),(f||""===f)&&_classPrivateMethodGet(this,R,w).call(this)}_bindNamedAction(d,f){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(f),!1),_classPrivateMethodGet(this,R,w).call(this)}_bindAttachment(d,f){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,f.content,f.filename),!1),_classPrivateMethodGet(this,R,w).call(this)}_bindJSAction(d,f){d.href=this.linkService.getAnchorUrl("");const g=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const b of Object.keys(f.actions)){const A=g.get(b);A&&(d[A]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f.id,name:b}}),!1))}d.onclick||(d.onclick=()=>!1),_classPrivateMethodGet(this,R,w).call(this)}_bindResetFormAction(d,f){const g=d.onclick;if(g||(d.href=this.linkService.getAnchorUrl("")),_classPrivateMethodGet(this,R,w).call(this),!this._fieldObjects)return(0,h.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(g||(d.onclick=()=>!1));d.onclick=()=>{g?.();const{fields:b,refs:A,include:H}=f,Q=[];if(0!==b.length||0!==A.length){const he=new Set(A);for(const se of b){const le=this._fieldObjects[se]||[];for(const{id:fe}of le)he.add(fe)}for(const se of Object.values(this._fieldObjects))for(const le of se)he.has(le.id)===H&&Q.push(le)}else for(const he of Object.values(this._fieldObjects))Q.push(...he);const ne=this.annotationStorage,ue=[];for(const he of Q){const{id:se}=he;switch(ue.push(se),he.type){case"text":case"combobox":case"listbox":ne.setValue(se,{value:he.defaultValue||""});break;case"checkbox":case"radiobutton":ne.setValue(se,{value:he.defaultValue===he.exportValues});break;default:continue}const le=document.querySelector(`[data-element-id="${se}"]`);le&&(F.has(le)?le.dispatchEvent(new Event("resetform")):(0,h.warn)(`_bindResetFormAction - element not allowed: ${se}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ue,name:"ResetForm"}}),!1}}}function w(){this.container.setAttribute("data-internal-link","")}function G($,d){$.href=this.linkService.getAnchorUrl(""),$.onclick=()=>(this.linkService.executeSetOCGState(d),!1),_classPrivateMethodGet(this,R,w).call(this)}class U extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){this.container.classList.add("textAnnotation");const d=document.createElement("img");return d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(d,this.data),this.container.append(d),this.container}}class D extends P{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(d){this.data.hasOwnCanvas&&("CANVAS"===d.previousSibling?.nodeName&&(d.previousSibling.hidden=!0),d.hidden=!1)}_getKeyModifier(d){const{isWin:f,isMac:g}=h.FeatureTest.platform;return f&&d.ctrlKey||g&&d.metaKey}_setEventListener(d,f,g,b){f.includes("mouse")?d.addEventListener(f,A=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:g,value:b(A),shift:A.shiftKey,modifier:this._getKeyModifier(A)}})}):d.addEventListener(f,A=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:g,value:b(A)}})})}_setEventListeners(d,f,g){for(const[b,A]of f)("Action"===A||this.data.actions?.[A])&&this._setEventListener(d,b,A,g)}_setBackgroundColor(d){const f=this.data.backgroundColor||null;d.style.backgroundColor=null===f?"transparent":h.Util.makeHexColor(f[0],f[1],f[2])}_setTextStyle(d){const{fontColor:g}=this.data.defaultAppearanceData,b=this.data.defaultAppearanceData.fontSize||9,A=d.style;let H;const ne=ue=>Math.round(10*ue)/10;if(this.data.multiLine){const ue=Math.abs(this.data.rect[3]-this.data.rect[1]-2),he=Math.round(ue/(h.LINE_FACTOR*b))||1;H=Math.min(b,ne(ue/he/h.LINE_FACTOR))}else{const ue=Math.abs(this.data.rect[3]-this.data.rect[1]-2);H=Math.min(b,ne(ue/h.LINE_FACTOR))}A.fontSize=`calc(${H}px * var(--scale-factor))`,A.color=h.Util.makeHexColor(g[0],g[1],g[2]),null!==this.data.textAlignment&&(A.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(d,f){f?d.setAttribute("required",!0):d.removeAttribute("required"),d.setAttribute("aria-required",f)}}class p extends D{constructor(d){super(d,{isRenderable:d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue})}setPropertyOnSiblings(d,f,g,b){const A=this.annotationStorage;for(const H of this._getElementsByName(d.name,d.id))H.domElement&&(H.domElement[f]=g),A.setValue(H.id,{[b]:g})}render(){const d=this.annotationStorage,f=this.data.id;this.container.classList.add("textWidgetAnnotation");let g=null;if(this.renderForms){const b=d.getValue(f,{value:this.data.fieldValue});let A=b.value||"";const H=d.getValue(f,{charLimit:this.data.maxLen}).charLimit;H&&A.length>H&&(A=A.slice(0,H));let Q=b.formattedValue||this.data.textContent?.join("\n")||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const ne={userValue:A,formattedValue:Q,lastCommittedValue:null,commitKey:1};this.data.multiLine?(g=document.createElement("textarea"),g.textContent=Q??A,this.data.doNotScroll&&(g.style.overflowY="hidden")):(g=document.createElement("input"),g.type="text",g.setAttribute("value",Q??A),this.data.doNotScroll&&(g.style.overflowX="hidden")),this.data.hasOwnCanvas&&(g.hidden=!0),F.add(g),g.setAttribute("data-element-id",f),g.disabled=this.data.readOnly,g.name=this.data.fieldName,g.tabIndex=1e3,this._setRequired(g,this.data.required),H&&(g.maxLength=H),g.addEventListener("input",he=>{d.setValue(f,{value:he.target.value}),this.setPropertyOnSiblings(g,"value",he.target.value,"value"),ne.formattedValue=null}),g.addEventListener("resetform",he=>{g.value=ne.userValue=this.data.defaultFieldValue??"",ne.formattedValue=null});let ue=he=>{const{formattedValue:se}=ne;null!=se&&(he.target.value=se),he.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){g.addEventListener("focus",se=>{const{target:le}=se;ne.userValue&&(le.value=ne.userValue),ne.lastCommittedValue=le.value,ne.commitKey=1}),g.addEventListener("updatefromsandbox",se=>{this.showElementAndHideCanvas(se.target),this._dispatchEventFromSandbox({value(fe){ne.userValue=fe.detail.value??"",d.setValue(f,{value:ne.userValue.toString()}),fe.target.value=ne.userValue},formattedValue(fe){const{formattedValue:_e}=fe.detail;ne.formattedValue=_e,null!=_e&&fe.target!==document.activeElement&&(fe.target.value=_e),d.setValue(f,{formattedValue:_e})},selRange(fe){fe.target.setSelectionRange(...fe.detail.selRange)},charLimit:fe=>{const{charLimit:_e}=fe.detail,{target:Re}=fe;if(0===_e)return void Re.removeAttribute("maxLength");Re.setAttribute("maxLength",_e);let Fe=ne.userValue;!Fe||Fe.length<=_e||(Fe=Fe.slice(0,_e),Re.value=ne.userValue=Fe,d.setValue(f,{value:Fe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Fe,willCommit:!0,commitKey:1,selStart:Re.selectionStart,selEnd:Re.selectionEnd}}))}},se)}),g.addEventListener("keydown",se=>{ne.commitKey=1;let le=-1;if("Escape"===se.key?le=0:"Enter"!==se.key||this.data.multiLine?"Tab"===se.key&&(ne.commitKey=3):le=2,-1===le)return;const{value:fe}=se.target;ne.lastCommittedValue!==fe&&(ne.lastCommittedValue=fe,ne.userValue=fe,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:fe,willCommit:!0,commitKey:le,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}))});const he=ue;ue=null,g.addEventListener("blur",se=>{if(!se.relatedTarget)return;const{value:le}=se.target;ne.userValue=le,ne.lastCommittedValue!==le&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:le,willCommit:!0,commitKey:ne.commitKey,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}),he(se)}),this.data.actions?.Keystroke&&g.addEventListener("beforeinput",se=>{ne.lastCommittedValue=null;const{data:le,target:fe}=se,{value:_e,selectionStart:Re,selectionEnd:Fe}=fe;let Ue=Re,et=Fe;switch(se.inputType){case"deleteWordBackward":{const We=_e.substring(0,Re).match(/\w*[^\w]*$/);We&&(Ue-=We[0].length);break}case"deleteWordForward":{const We=_e.substring(Re).match(/^[^\w]*\w*/);We&&(et+=We[0].length);break}case"deleteContentBackward":Re===Fe&&(Ue-=1);break;case"deleteContentForward":Re===Fe&&(et+=1)}se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:_e,change:le||"",willCommit:!1,selStart:Ue,selEnd:et}})}),this._setEventListeners(g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],se=>se.target.value)}if(ue&&g.addEventListener("blur",ue),this.data.comb){const se=(this.data.rect[2]-this.data.rect[0])/H;g.classList.add("comb"),g.style.letterSpacing=`calc(${se}px * var(--scale-factor) - 1ch)`}}else g=document.createElement("div"),g.textContent=this.data.fieldValue,g.style.verticalAlign="middle",g.style.display="table-cell";return this._setTextStyle(g),this._setBackgroundColor(g),this._setDefaultPropertiesFromJS(g),this.container.append(g),this.container}}class _ extends D{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,f=this.data,g=f.id;let b=d.getValue(g,{value:f.exportValue===f.fieldValue}).value;"string"==typeof b&&(b="Off"!==b,d.setValue(g,{value:b})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const A=document.createElement("input");return F.add(A),A.setAttribute("data-element-id",g),A.disabled=f.readOnly,this._setRequired(A,this.data.required),A.type="checkbox",A.name=f.fieldName,b&&A.setAttribute("checked",!0),A.setAttribute("exportValue",f.exportValue),A.tabIndex=1e3,A.addEventListener("change",H=>{const{name:Q,checked:ne}=H.target;for(const ue of this._getElementsByName(Q,g)){const he=ne&&ue.exportValue===f.exportValue;ue.domElement&&(ue.domElement.checked=he),d.setValue(ue.id,{value:he})}d.setValue(g,{value:ne})}),A.addEventListener("resetform",H=>{H.target.checked=(f.defaultFieldValue||"Off")===f.exportValue}),this.enableScripting&&this.hasJSActions&&(A.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(ne){ne.target.checked="Off"!==ne.detail.value,d.setValue(g,{value:ne.target.checked})}},H)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class V extends D{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const d=this.annotationStorage,f=this.data,g=f.id;let b=d.getValue(g,{value:f.fieldValue===f.buttonValue}).value;"string"==typeof b&&(b=b!==f.buttonValue,d.setValue(g,{value:b}));const A=document.createElement("input");if(F.add(A),A.setAttribute("data-element-id",g),A.disabled=f.readOnly,this._setRequired(A,this.data.required),A.type="radio",A.name=f.fieldName,b&&A.setAttribute("checked",!0),A.tabIndex=1e3,A.addEventListener("change",H=>{const{name:Q,checked:ne}=H.target;for(const ue of this._getElementsByName(Q,g))d.setValue(ue.id,{value:!1});d.setValue(g,{value:ne})}),A.addEventListener("resetform",H=>{const Q=f.defaultFieldValue;H.target.checked=null!=Q&&Q===f.buttonValue}),this.enableScripting&&this.hasJSActions){const H=f.buttonValue;A.addEventListener("updatefromsandbox",Q=>{this._dispatchEventFromSandbox({value:ue=>{const he=H===ue.detail.value;for(const se of this._getElementsByName(ue.target.name)){const le=he&&se.id===g;se.domElement&&(se.domElement.checked=le),d.setValue(se.id,{value:le})}}},Q)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class q extends C{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();d.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(d.title=this.data.alternativeText);const f=d.lastChild;return this.enableScripting&&this.hasJSActions&&f&&(this._setDefaultPropertiesFromJS(f),f.addEventListener("updatefromsandbox",g=>{this._dispatchEventFromSandbox({},g)})),d}}class L extends D{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const d=this.annotationStorage,f=this.data.id,g=d.getValue(f,{value:this.data.fieldValue}),b=document.createElement("select");F.add(b),b.setAttribute("data-element-id",f),b.disabled=this.data.readOnly,this._setRequired(b,this.data.required),b.name=this.data.fieldName,b.tabIndex=1e3;let A=this.data.combo&&this.data.options.length>0;this.data.combo||(b.size=this.data.options.length,this.data.multiSelect&&(b.multiple=!0)),b.addEventListener("resetform",he=>{const se=this.data.defaultFieldValue;for(const le of b.options)le.selected=le.value===se});for(const he of this.data.options){const se=document.createElement("option");se.textContent=he.displayValue,se.value=he.exportValue,g.value.includes(he.exportValue)&&(se.setAttribute("selected",!0),A=!1),b.append(se)}let H=null;if(A){const he=document.createElement("option");he.value=" ",he.setAttribute("hidden",!0),he.setAttribute("selected",!0),b.prepend(he),H=()=>{he.remove(),b.removeEventListener("input",H),H=null},b.addEventListener("input",H)}const Q=he=>{const se=he?"value":"textContent",{options:le,multiple:fe}=b;return fe?Array.prototype.filter.call(le,_e=>_e.selected).map(_e=>_e[se]):-1===le.selectedIndex?null:le[le.selectedIndex][se]};let ne=Q(!1);const ue=he=>Array.prototype.map.call(he.target.options,le=>({displayValue:le.textContent,exportValue:le.value}));return this.enableScripting&&this.hasJSActions?(b.addEventListener("updatefromsandbox",he=>{this._dispatchEventFromSandbox({value(le){H?.();const fe=le.detail.value,_e=new Set(Array.isArray(fe)?fe:[fe]);for(const Re of b.options)Re.selected=_e.has(Re.value);d.setValue(f,{value:Q(!0)}),ne=Q(!1)},multipleSelection(le){b.multiple=!0},remove(le){const fe=b.options,_e=le.detail.remove;fe[_e].selected=!1,b.remove(_e),fe.length>0&&-1===Array.prototype.findIndex.call(fe,Fe=>Fe.selected)&&(fe[0].selected=!0),d.setValue(f,{value:Q(!0),items:ue(le)}),ne=Q(!1)},clear(le){for(;0!==b.length;)b.remove(0);d.setValue(f,{value:null,items:[]}),ne=Q(!1)},insert(le){const{index:fe,displayValue:_e,exportValue:Re}=le.detail.insert,Fe=b.children[fe],Ue=document.createElement("option");Ue.textContent=_e,Ue.value=Re,Fe?Fe.before(Ue):b.append(Ue),d.setValue(f,{value:Q(!0),items:ue(le)}),ne=Q(!1)},items(le){const{items:fe}=le.detail;for(;0!==b.length;)b.remove(0);for(const _e of fe){const{displayValue:Re,exportValue:Fe}=_e,Ue=document.createElement("option");Ue.textContent=Re,Ue.value=Fe,b.append(Ue)}b.options.length>0&&(b.options[0].selected=!0),d.setValue(f,{value:Q(!0),items:ue(le)}),ne=Q(!1)},indices(le){const fe=new Set(le.detail.indices);for(const _e of le.target.options)_e.selected=fe.has(_e.index);d.setValue(f,{value:Q(!0)}),ne=Q(!1)},editable(le){le.target.disabled=!le.detail.editable}},he)}),b.addEventListener("input",he=>{const se=Q(!0);d.setValue(f,{value:se}),he.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:ne,changeEx:se,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(b,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],he=>he.target.value)):b.addEventListener("input",function(he){d.setValue(f,{value:Q(!0)})}),this.data.combo&&this._setTextStyle(b),this._setBackgroundColor(b),this._setDefaultPropertiesFromJS(b),this.container.append(b),this.container}}class J extends P{constructor(d){const{data:f}=d;super(d,{isRenderable:!J.IGNORE_TYPES.has(f.parentType)&&!!(f.titleObj?.str||f.contentsObj?.str||f.richText?.str)})}render(){this.container.classList.add("popupAnnotation");const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const f=new B({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),g=this.page,b=h.Util.normalizeRect([this.data.parentRect[0],g.view[3]-this.data.parentRect[1]+g.view[1],this.data.parentRect[2],g.view[3]-this.data.parentRect[3]+g.view[1]]),A=b[0]+this.data.parentRect[2]-this.data.parentRect[0],H=b[1],{pageWidth:Q,pageHeight:ne,pageX:ue,pageY:he}=this.viewport.rawDims;return this.container.style.left=100*(A-ue)/Q+"%",this.container.style.top=100*(H-he)/ne+"%",this.container.append(f.render()),this.container}}_defineProperty(J,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class B{constructor(d){this.container=d.container,this.trigger=d.trigger,this.color=d.color,this.titleObj=d.titleObj,this.modificationDate=d.modificationDate,this.contentsObj=d.contentsObj,this.richText=d.richText,this.hideWrapper=d.hideWrapper||!1,this.pinned=!1}render(){const f=document.createElement("div");f.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?f:this.container,this.hideElement.hidden=!0;const g=document.createElement("div");g.classList.add("popup");const b=this.color;b&&(g.style.backgroundColor=h.Util.makeHexColor(0|.7*(255-b[0])+b[0],0|.7*(255-b[1])+b[1],0|.7*(255-b[2])+b[2]));const A=document.createElement("h1");A.dir=this.titleObj.dir,A.textContent=this.titleObj.str,g.append(A);const H=S.PDFDateString.toDateObject(this.modificationDate);if(H){const Q=document.createElement("span");Q.classList.add("popupDate"),Q.textContent="{{date}}, {{time}}",Q.dataset.l10nId="annotation_date_string",Q.dataset.l10nArgs=JSON.stringify({date:H.toLocaleDateString(),time:H.toLocaleTimeString()}),g.append(Q)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Q=this._formatContents(this.contentsObj);g.append(Q)}else Z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:g}),g.lastChild.classList.add("richText","popupContent");Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Q of this.trigger)Q.addEventListener("click",this._toggle.bind(this)),Q.addEventListener("mouseover",this._show.bind(this,!1)),Q.addEventListener("mouseout",this._hide.bind(this,!1));return g.addEventListener("click",this._hide.bind(this,!0)),f.append(g),f}_formatContents({str:d,dir:f}){const g=document.createElement("p");g.classList.add("popupContent"),g.dir=f;const b=d.split(/(?:\r\n?|\n)/);for(let A=0,H=b.length;A<H;++A)g.append(document.createTextNode(b[A])),A<H-1&&g.append(document.createElement("br"));return g}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(d=!1){d&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(d=!0){d&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ce extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.textContent=d.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const d=document.createElement("div");d.classList.add("annotationTextContent"),d.setAttribute("role","comment");for(const f of this.textContent){const g=document.createElement("span");g.textContent=f,d.append(g)}this.container.append(d)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Se extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const d=this.data,{width:f,height:g}=W(d.rect),b=this.svgFactory.create(f,g,!0),A=this.svgFactory.createElement("svg:line");return A.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),A.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),A.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),A.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),A.setAttribute("stroke-width",d.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),b.append(A),this.container.append(b),this._createPopup(A,d),this.container}}class ge extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const d=this.data,{width:f,height:g}=W(d.rect),b=this.svgFactory.create(f,g,!0),A=d.borderStyle.width,H=this.svgFactory.createElement("svg:rect");return H.setAttribute("x",A/2),H.setAttribute("y",A/2),H.setAttribute("width",f-A),H.setAttribute("height",g-A),H.setAttribute("stroke-width",A||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),b.append(H),this.container.append(b),this._createPopup(H,d),this.container}}class we extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const d=this.data,{width:f,height:g}=W(d.rect),b=this.svgFactory.create(f,g,!0),A=d.borderStyle.width,H=this.svgFactory.createElement("svg:ellipse");return H.setAttribute("cx",f/2),H.setAttribute("cy",g/2),H.setAttribute("rx",f/2-A/2),H.setAttribute("ry",g/2-A/2),H.setAttribute("stroke-width",A||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),b.append(H),this.container.append(b),this._createPopup(H,d),this.container}}class Te extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const d=this.data,{width:f,height:g}=W(d.rect),b=this.svgFactory.create(f,g,!0);let A=[];for(const Q of d.vertices)A.push(Q.x-d.rect[0]+","+(d.rect[3]-Q.y));A=A.join(" ");const H=this.svgFactory.createElement(this.svgElementName);return H.setAttribute("points",A),H.setAttribute("stroke-width",d.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),b.append(H),this.container.append(b),this._createPopup(H,d),this.container}}class Be extends Te{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ce extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ae extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const d=this.data,{width:f,height:g}=W(d.rect),b=this.svgFactory.create(f,g,!0);for(const A of d.inkLists){let H=[];for(const ne of A)H.push(`${ne.x-d.rect[0]},${d.rect[3]-ne.y}`);H=H.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);Q.setAttribute("points",H),Q.setAttribute("stroke-width",d.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),this._createPopup(Q,d),b.append(Q)}return this.container.append(b),this.container}}class ke extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class $e extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class qe extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class ee extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class v extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class y extends P{constructor(d){super(d,{isRenderable:!0});const{filename:f,content:g}=this.data.file;this.filename=(0,S.getFilenameFromUrl)(f,!0),this.content=g,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:f,content:g})}render(){let d;return this.container.classList.add("fileAttachmentAnnotation"),this.data.hasAppearance?d=document.createElement("div"):(d=document.createElement("img"),d.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),d.classList.add("popupTriggerArea"),d.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(d,this.data),this.container.append(d),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class x{static render(d){const{annotations:f,div:g,viewport:b,accessibilityManager:A}=d;(0,S.setLayerDimensions)(g,b);const H={data:null,layer:g,page:d.page,viewport:b,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:!1!==d.renderForms,svgFactory:new S.DOMSVGFactory,annotationStorage:d.annotationStorage||new N.AnnotationStorage,enableScripting:!0===d.enableScripting,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects};let Q=0;for(const ne of f){if(ne.noHTML)continue;if(ne.annotationType!==h.AnnotationType.POPUP){const{width:se,height:le}=W(ne.rect);if(se<=0||le<=0)continue}H.data=ne;const ue=Y.create(H);if(!ue.isRenderable)continue;const he=ue.render();if(ne.hidden&&(he.style.visibility="hidden"),Array.isArray(he))for(const se of he)se.style.zIndex=Q++,_classStaticPrivateMethodGet(x,x,z).call(x,se,ne.id,g,A);else he.style.zIndex=Q++,ue instanceof J?g.prepend(he):_classStaticPrivateMethodGet(x,x,z).call(x,he,ne.id,g,A)}_classStaticPrivateMethodGet(this,x,K).call(this,g,d.annotationCanvasMap)}static update(d){const{annotationCanvasMap:f,div:g,viewport:b}=d;(0,S.setLayerDimensions)(g,{rotation:b.rotation}),_classStaticPrivateMethodGet(this,x,K).call(this,g,f),g.hidden=!1}}function z($,d,f,g){const b=$.firstChild||$;b.id=`${S.AnnotationPrefix}${d}`,f.append($),g?.moveElementInDOM(f,$,b,!1)}function K($,d){if(d){for(const[f,g]of d){const b=$.querySelector(`[data-annotation-id="${f}"]`);if(!b)continue;const{firstChild:A}=b;A?"CANVAS"===A.nodeName?A.replaceWith(g):A.before(g):b.append(g)}d.clear()}}c.AnnotationLayer=x},(I,c)=>{function T(S){return Math.floor(255*Math.max(0,Math.min(1,S))).toString(16).padStart(2,"0")}Object.defineProperty(c,"__esModule",{value:!0}),c.ColorConverters=void 0,c.ColorConverters=class h{static CMYK_G([N,k,Z,te]){return["G",1-Math.min(1,.3*N+.59*Z+.11*k+te)]}static G_CMYK([N]){return["CMYK",0,0,0,1-N]}static G_RGB([N]){return["RGB",N,N,N]}static G_HTML([N]){const k=T(N);return`#${k}${k}${k}`}static RGB_G([N,k,Z]){return["G",.3*N+.59*k+.11*Z]}static RGB_HTML([N,k,Z]){return`#${T(N)}${T(k)}${T(Z)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([N,k,Z,te]){return["RGB",1-Math.min(1,N+te),1-Math.min(1,Z+te),1-Math.min(1,k+te)]}static CMYK_HTML(N){const k=this.CMYK_RGB(N).slice(1);return this.RGB_HTML(k)}static RGB_CMYK([N,k,Z]){const te=1-N,M=1-k,F=1-Z;return["CMYK",te,M,F,Math.min(te,M,F)]}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayer=void 0;var h=T(19);c.XfaLayer=class S{static setupStorage(k,Z,te,M,F){const W=M.getValue(Z,{value:null});switch(te.name){case"textarea":if(null!==W.value&&(k.textContent=W.value),"print"===F)break;k.addEventListener("input",Y=>{M.setValue(Z,{value:Y.target.value})});break;case"input":if("radio"===te.attributes.type||"checkbox"===te.attributes.type){if(W.value===te.attributes.xfaOn?k.setAttribute("checked",!0):W.value===te.attributes.xfaOff&&k.removeAttribute("checked"),"print"===F)break;k.addEventListener("change",Y=>{M.setValue(Z,{value:Y.target.getAttribute(Y.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==W.value&&k.setAttribute("value",W.value),"print"===F)break;k.addEventListener("input",Y=>{M.setValue(Z,{value:Y.target.value})})}break;case"select":if(null!==W.value)for(const Y of te.children)Y.attributes.value===W.value&&(Y.attributes.selected=!0);k.addEventListener("input",Y=>{const P=Y.target.options;M.setValue(Z,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}static setAttributes({html:k,element:Z,storage:te=null,intent:M,linkService:F}){const{attributes:W}=Z,Y=k instanceof HTMLAnchorElement;"radio"===W.type&&(W.name=`${W.name}-${M}`);for(const[P,R]of Object.entries(W))if(null!=R)switch(P){case"class":R.length&&k.setAttribute(P,R.join(" "));break;case"dataId":break;case"id":k.setAttribute("data-element-id",R);break;case"style":Object.assign(k.style,R);break;case"textContent":k.textContent=R;break;default:(!Y||"href"!==P&&"newWindow"!==P)&&k.setAttribute(P,R)}Y&&F.addLinkAttributes(k,W.href,W.newWindow),te&&W.dataId&&this.setupStorage(k,W.dataId,Z,te)}static render(k){const Z=k.annotationStorage,te=k.linkService,M=k.xfaHtml,F=k.intent||"display",W=document.createElement(M.name);M.attributes&&this.setAttributes({html:W,element:M,intent:F,linkService:te});const Y=[[M,-1,W]],P=k.div;if(P.append(W),k.viewport){const O=`matrix(${k.viewport.transform.join(",")})`;P.style.transform=O}"richText"!==F&&P.setAttribute("class","xfaLayer xfaFont");const R=[];for(;Y.length>0;){const[O,C,w]=Y.at(-1);if(C+1===O.children.length){Y.pop();continue}const G=O.children[++Y.at(-1)[1]];if(null===G)continue;const{name:U}=G;if("#text"===U){const p=document.createTextNode(G.value);R.push(p),w.append(p);continue}let D;if(D=G?.attributes?.xmlns?document.createElementNS(G.attributes.xmlns,U):document.createElement(U),w.append(D),G.attributes&&this.setAttributes({html:D,element:G,storage:Z,intent:F,linkService:te}),G.children&&G.children.length>0)Y.push([G,-1,D]);else if(G.value){const p=document.createTextNode(G.value);h.XfaText.shouldBuildText(U)&&R.push(p),D.append(p)}}for(const O of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))O.setAttribute("readOnly",!0);return{textDivs:R}}static update(k){const Z=`matrix(${k.viewport.transform.join(",")})`;k.div.style.transform=Z,k.div.hidden=!1}}},(I,c,T)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SVGGraphics=void 0;var h=T(6),S=T(1),N=T(10);let k=class{constructor(){(0,S.unreachable)("Not implemented: SVGGraphics")}};c.SVGGraphics=k;{let O=function(p){let _=[];const V=[];for(const q of p)"save"!==q.fn?"restore"===q.fn?_=V.pop():_.push(q):(_.push({fnId:92,fn:"group",items:[]}),V.push(_),_=_.at(-1).items);return _},C=function(p){if(Number.isInteger(p))return p.toString();const _=p.toFixed(10);let V=_.length-1;if("0"!==_[V])return _;do{V--}while("0"===_[V]);return _.substring(0,"."===_[V]?V:V+1)},w=function(p){if(0===p[4]&&0===p[5]){if(0===p[1]&&0===p[2])return 1===p[0]&&1===p[3]?"":`scale(${C(p[0])} ${C(p[3])})`;if(p[0]===p[3]&&p[1]===-p[2]){const _=180*Math.acos(p[0])/Math.PI;return`rotate(${C(_)})`}}else if(1===p[0]&&0===p[1]&&0===p[2]&&1===p[3])return`translate(${C(p[4])} ${C(p[5])})`;return`matrix(${C(p[0])} ${C(p[1])} ${C(p[2])} ${C(p[3])} ${C(p[4])} ${C(p[5])})`};const Z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},te="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/1999/xlink",F=["butt","round","square"],W=["miter","round","bevel"],Y=function(p,_="",V=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!V)return URL.createObjectURL(new Blob([p],{type:_}));const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let L=`data:${_};base64,`;for(let J=0,B=p.length;J<B;J+=3){const ce=255&p[J],Se=255&p[J+1],ge=255&p[J+2];L+=q[ce>>2]+q[(3&ce)<<4|Se>>4]+q[J+1<B?(15&Se)<<2|ge>>6:64]+q[J+2<B?63&ge:64]}return L},P=function(){const p=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,V=new Int32Array(256);for(let ge=0;ge<256;ge++){let we=ge;for(let Te=0;Te<8;Te++)we=1&we?3988292384^we>>1&2147483647:we>>1&2147483647;V[ge]=we}function L(ge,we,Te,Be){let Ce=Be;const Ae=we.length;Te[Ce]=Ae>>24&255,Te[Ce+1]=Ae>>16&255,Te[Ce+2]=Ae>>8&255,Te[Ce+3]=255&Ae,Ce+=4,Te[Ce]=255&ge.charCodeAt(0),Te[Ce+1]=255&ge.charCodeAt(1),Te[Ce+2]=255&ge.charCodeAt(2),Te[Ce+3]=255&ge.charCodeAt(3),Ce+=4,Te.set(we,Ce),Ce+=we.length;const ke=function q(ge,we,Te){let Be=-1;for(let Ce=we;Ce<Te;Ce++)Be=Be>>>8^V[255&(Be^ge[Ce])];return-1^Be}(Te,Be+4,Ce);Te[Ce]=ke>>24&255,Te[Ce+1]=ke>>16&255,Te[Ce+2]=ke>>8&255,Te[Ce+3]=255&ke}function ce(ge){let we=ge.length;const Te=65535,Be=Math.ceil(we/Te),Ce=new Uint8Array(2+we+5*Be+4);let Ae=0;Ce[Ae++]=120,Ce[Ae++]=156;let ke=0;for(;we>Te;)Ce[Ae++]=0,Ce[Ae++]=255,Ce[Ae++]=255,Ce[Ae++]=0,Ce[Ae++]=0,Ce.set(ge.subarray(ke,ke+Te),Ae),Ae+=Te,ke+=Te,we-=Te;Ce[Ae++]=1,Ce[Ae++]=255&we,Ce[Ae++]=we>>8&255,Ce[Ae++]=255&~we,Ce[Ae++]=(65535&~we)>>8&255,Ce.set(ge.subarray(ke),Ae),Ae+=ge.length-ke;const $e=function J(ge,we,Te){let Be=1,Ce=0;for(let Ae=we;Ae<Te;++Ae)Be=(Be+(255&ge[Ae]))%65521,Ce=(Ce+Be)%65521;return Ce<<16|Be}(ge,0,ge.length);return Ce[Ae++]=$e>>24&255,Ce[Ae++]=$e>>16&255,Ce[Ae++]=$e>>8&255,Ce[Ae++]=255&$e,Ce}return function(we,Te,Be){return function Se(ge,we,Te,Be){const Ce=ge.width,Ae=ge.height;let ke,$e,qe;const ee=ge.data;switch(we){case S.ImageKind.GRAYSCALE_1BPP:$e=0,ke=1,qe=Ce+7>>3;break;case S.ImageKind.RGB_24BPP:$e=2,ke=8,qe=3*Ce;break;case S.ImageKind.RGBA_32BPP:$e=6,ke=8,qe=4*Ce;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+qe)*Ae);let y=0,x=0;for(let g=0;g<Ae;++g)v[y++]=0,v.set(ee.subarray(x,x+qe),y),x+=qe,y+=qe;if(we===S.ImageKind.GRAYSCALE_1BPP&&Be){y=0;for(let g=0;g<Ae;g++){y++;for(let b=0;b<qe;b++)v[y++]^=255}}const z=new Uint8Array([Ce>>24&255,Ce>>16&255,Ce>>8&255,255&Ce,Ae>>24&255,Ae>>16&255,Ae>>8&255,255&Ae,ke,$e,0,0,0]),K=function B(ge){if(!N.isNodeJS)return ce(ge);try{let we;we=parseInt(process.versions.node)>=8?ge:Buffer.from(ge);const Te=__webpack_require__(258).deflateSync(we,{level:9});return Te instanceof Uint8Array?Te:new Uint8Array(Te)}catch(we){(0,S.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+we)}return ce(ge)}(v),d=new Uint8Array(p.length+3*_+z.length+K.length);let f=0;return d.set(p,f),f+=p.length,L("IHDR",z,d,f),f+=_+z.length,L("IDATA",K,d,f),f+=_+K.length,L("IEND",new Uint8Array(0),d,f),Y(d,"image/png",Te)}(we,void 0===we.kind?S.ImageKind.GRAYSCALE_1BPP:we.kind,Te,Be)}}();class R{constructor(){this.fontSizeScale=1,this.fontWeight=Z.fontWeight,this.fontSize=0,this.textMatrix=S.IDENTITY_MATRIX,this.fontMatrix=S.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=S.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_,V){this.x=_,this.y=V}}let G=0,U=0,D=0;c.SVGGraphics=k=class{constructor(p,_,V=!1){(0,h.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new h.DOMSVGFactory,this.current=new R,this.transformMatrix=S.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=p,this.objs=_,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!V,this._operatorIdMapping=[];for(const q in S.OPS)this._operatorIdMapping[S.OPS[q]]=q}getObject(p,_=null){return"string"==typeof p?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):_}save(){this.transformStack.push(this.transformMatrix);const p=this.current;this.extraStack.push(p),this.current=p.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(p){this.save(),this.executeOpTree(p),this.restore()}loadDependencies(p){const _=p.fnArray,V=p.argsArray;for(let q=0,L=_.length;q<L;q++)if(_[q]===S.OPS.dependency)for(const J of V[q]){const B=J.startsWith("g_")?this.commonObjs:this.objs,ce=new Promise(Se=>{B.get(J,Se)});this.current.dependencies.push(ce)}return Promise.all(this.current.dependencies)}transform(p,_,V,q,L,J){this.transformMatrix=S.Util.transform(this.transformMatrix,[p,_,V,q,L,J]),this.tgrp=null}getSVG(p,_){this.viewport=_;const V=this._initialize(_);return this.loadDependencies(p).then(()=>(this.transformMatrix=S.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(p)),V))}convertOpList(p){const _=this._operatorIdMapping,V=p.argsArray,q=p.fnArray,L=[];for(let J=0,B=q.length;J<B;J++){const ce=q[J];L.push({fnId:ce,fn:_[ce],args:V[J]})}return O(L)}executeOpTree(p){for(const _ of p){const V=_.fn,L=_.args;switch(0|_.fnId){case S.OPS.beginText:this.beginText();break;case S.OPS.dependency:break;case S.OPS.setLeading:this.setLeading(L);break;case S.OPS.setLeadingMoveText:this.setLeadingMoveText(L[0],L[1]);break;case S.OPS.setFont:this.setFont(L);break;case S.OPS.showText:case S.OPS.showSpacedText:this.showText(L[0]);break;case S.OPS.endText:this.endText();break;case S.OPS.moveText:this.moveText(L[0],L[1]);break;case S.OPS.setCharSpacing:this.setCharSpacing(L[0]);break;case S.OPS.setWordSpacing:this.setWordSpacing(L[0]);break;case S.OPS.setHScale:this.setHScale(L[0]);break;case S.OPS.setTextMatrix:this.setTextMatrix(L[0],L[1],L[2],L[3],L[4],L[5]);break;case S.OPS.setTextRise:this.setTextRise(L[0]);break;case S.OPS.setTextRenderingMode:this.setTextRenderingMode(L[0]);break;case S.OPS.setLineWidth:this.setLineWidth(L[0]);break;case S.OPS.setLineJoin:this.setLineJoin(L[0]);break;case S.OPS.setLineCap:this.setLineCap(L[0]);break;case S.OPS.setMiterLimit:this.setMiterLimit(L[0]);break;case S.OPS.setFillRGBColor:this.setFillRGBColor(L[0],L[1],L[2]);break;case S.OPS.setStrokeRGBColor:this.setStrokeRGBColor(L[0],L[1],L[2]);break;case S.OPS.setStrokeColorN:this.setStrokeColorN(L);break;case S.OPS.setFillColorN:this.setFillColorN(L);break;case S.OPS.shadingFill:this.shadingFill(L[0]);break;case S.OPS.setDash:this.setDash(L[0],L[1]);break;case S.OPS.setRenderingIntent:this.setRenderingIntent(L[0]);break;case S.OPS.setFlatness:this.setFlatness(L[0]);break;case S.OPS.setGState:this.setGState(L[0]);break;case S.OPS.fill:this.fill();break;case S.OPS.eoFill:this.eoFill();break;case S.OPS.stroke:this.stroke();break;case S.OPS.fillStroke:this.fillStroke();break;case S.OPS.eoFillStroke:this.eoFillStroke();break;case S.OPS.clip:this.clip("nonzero");break;case S.OPS.eoClip:this.clip("evenodd");break;case S.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case S.OPS.paintImageXObject:this.paintImageXObject(L[0]);break;case S.OPS.paintInlineImageXObject:this.paintInlineImageXObject(L[0]);break;case S.OPS.paintImageMaskXObject:this.paintImageMaskXObject(L[0]);break;case S.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(L[0],L[1]);break;case S.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case S.OPS.closePath:this.closePath();break;case S.OPS.closeStroke:this.closeStroke();break;case S.OPS.closeFillStroke:this.closeFillStroke();break;case S.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case S.OPS.nextLine:this.nextLine();break;case S.OPS.transform:this.transform(L[0],L[1],L[2],L[3],L[4],L[5]);break;case S.OPS.constructPath:this.constructPath(L[0],L[1]);break;case S.OPS.endPath:this.endPath();break;case 92:this.group(_.items);break;default:(0,S.warn)(`Unimplemented operator ${V}`)}}}setWordSpacing(p){this.current.wordSpacing=p}setCharSpacing(p){this.current.charSpacing=p}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(p,_,V,q,L,J){const B=this.current;B.textMatrix=B.lineMatrix=[p,_,V,q,L,J],B.textMatrixScale=Math.hypot(p,_),B.x=B.lineX=0,B.y=B.lineY=0,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${C(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",C(-B.y)),B.txtElement=this.svgFactory.createElement("svg:text"),B.txtElement.append(B.tspan)}beginText(){const p=this.current;p.x=p.lineX=0,p.y=p.lineY=0,p.textMatrix=S.IDENTITY_MATRIX,p.lineMatrix=S.IDENTITY_MATRIX,p.textMatrixScale=1,p.tspan=this.svgFactory.createElement("svg:tspan"),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtgrp=this.svgFactory.createElement("svg:g"),p.xcoords=[],p.ycoords=[]}moveText(p,_){const V=this.current;V.x=V.lineX+=p,V.y=V.lineY+=_,V.xcoords=[],V.ycoords=[],V.tspan=this.svgFactory.createElement("svg:tspan"),V.tspan.setAttributeNS(null,"font-family",V.fontFamily),V.tspan.setAttributeNS(null,"font-size",`${C(V.fontSize)}px`),V.tspan.setAttributeNS(null,"y",C(-V.y))}showText(p){const _=this.current,V=_.font,q=_.fontSize;if(0===q)return;const L=_.fontSizeScale,J=_.charSpacing,B=_.wordSpacing,ce=_.fontDirection,Se=_.textHScale*ce,ge=V.vertical,we=ge?1:-1,Te=V.defaultVMetrics,Be=q*_.fontMatrix[0];let Ce=0;for(const $e of p){if(null===$e){Ce+=ce*B;continue}if("number"==typeof $e){Ce+=we*$e*q/1e3;continue}const qe=($e.isSpace?B:0)+J,ee=$e.fontChar;let v,y,z,x=$e.width;if(ge){let K;const $=$e.vmetric||Te;K=$e.vmetric?$[1]:.5*x,K=-K*Be,x=$?-$[0]:x,v=K/L,y=(Ce+$[2]*Be)/L}else v=Ce/L,y=0;($e.isInFont||V.missingFile)&&(_.xcoords.push(_.x+v),ge&&_.ycoords.push(-_.y+y),_.tspan.textContent+=ee),z=ge?x*Be-qe*ce:x*Be+qe*ce,Ce+=z}_.tspan.setAttributeNS(null,"x",_.xcoords.map(C).join(" ")),_.tspan.setAttributeNS(null,"y",ge?_.ycoords.map(C).join(" "):C(-_.y)),ge?_.y-=Ce:_.x+=Ce*Se,_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${C(_.fontSize)}px`),_.fontStyle!==Z.fontStyle&&_.tspan.setAttributeNS(null,"font-style",_.fontStyle),_.fontWeight!==Z.fontWeight&&_.tspan.setAttributeNS(null,"font-weight",_.fontWeight);const Ae=_.textRenderingMode&S.TextRenderingMode.FILL_STROKE_MASK;Ae===S.TextRenderingMode.FILL||Ae===S.TextRenderingMode.FILL_STROKE?(_.fillColor!==Z.fillColor&&_.tspan.setAttributeNS(null,"fill",_.fillColor),_.fillAlpha<1&&_.tspan.setAttributeNS(null,"fill-opacity",_.fillAlpha)):_.tspan.setAttributeNS(null,"fill",_.textRenderingMode===S.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ae===S.TextRenderingMode.STROKE||Ae===S.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(_.tspan,1/(_.textMatrixScale||1));let ke=_.textMatrix;0!==_.textRise&&(ke=ke.slice(),ke[5]+=_.textRise),_.txtElement.setAttributeNS(null,"transform",`${w(ke)} scale(${C(Se)}, -1)`),_.txtElement.setAttributeNS(te,"xml:space","preserve"),_.txtElement.append(_.tspan),_.txtgrp.append(_.txtElement),this._ensureTransformGroup().append(_.txtElement)}setLeadingMoveText(p,_){this.setLeading(-_),this.moveText(p,_)}addFontStyle(p){if(!p.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const _=Y(p.data,p.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${p.loadedName}"; src: url(${_}); }\n`}setFont(p){const _=this.current,V=this.commonObjs.get(p[0]);let q=p[1];_.font=V,this.embedFonts&&!V.missingFile&&!this.embeddedFonts[V.loadedName]&&(this.addFontStyle(V),this.embeddedFonts[V.loadedName]=V),_.fontMatrix=V.fontMatrix||S.FONT_IDENTITY_MATRIX;let L="normal";V.black?L="900":V.bold&&(L="bold");const J=V.italic?"italic":"normal";q<0?(q=-q,_.fontDirection=-1):_.fontDirection=1,_.fontSize=q,_.fontFamily=V.loadedName,_.fontWeight=L,_.fontStyle=J,_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"y",C(-_.y)),_.xcoords=[],_.ycoords=[]}endText(){const p=this.current;p.textRenderingMode&S.TextRenderingMode.ADD_TO_PATH_FLAG&&p.txtElement?.hasChildNodes()&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(p){p>0&&(this.current.lineWidth=p)}setLineCap(p){this.current.lineCap=F[p]}setLineJoin(p){this.current.lineJoin=W[p]}setMiterLimit(p){this.current.miterLimit=p}setStrokeAlpha(p){this.current.strokeAlpha=p}setStrokeRGBColor(p,_,V){this.current.strokeColor=S.Util.makeHexColor(p,_,V)}setFillAlpha(p){this.current.fillAlpha=p}setFillRGBColor(p,_,V){this.current.fillColor=S.Util.makeHexColor(p,_,V),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(p){this.current.strokeColor=this._makeColorN_Pattern(p)}setFillColorN(p){this.current.fillColor=this._makeColorN_Pattern(p)}shadingFill(p){const _=this.viewport.width,V=this.viewport.height,q=S.Util.inverseTransform(this.transformMatrix),L=S.Util.applyTransform([0,0],q),J=S.Util.applyTransform([0,V],q),B=S.Util.applyTransform([_,0],q),ce=S.Util.applyTransform([_,V],q),Se=Math.min(L[0],J[0],B[0],ce[0]),ge=Math.min(L[1],J[1],B[1],ce[1]),we=Math.max(L[0],J[0],B[0],ce[0]),Te=Math.max(L[1],J[1],B[1],ce[1]),Be=this.svgFactory.createElement("svg:rect");Be.setAttributeNS(null,"x",Se),Be.setAttributeNS(null,"y",ge),Be.setAttributeNS(null,"width",we-Se),Be.setAttributeNS(null,"height",Te-ge),Be.setAttributeNS(null,"fill",this._makeShadingPattern(p)),this.current.fillAlpha<1&&Be.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Be)}_makeColorN_Pattern(p){return"TilingPattern"===p[0]?this._makeTilingPattern(p):this._makeShadingPattern(p)}_makeTilingPattern(p){const _=p[1],V=p[2],q=p[3]||S.IDENTITY_MATRIX,[L,J,B,ce]=p[4],Se=p[5],ge=p[6],we=p[7],Te="shading"+D++,[Be,Ce,Ae,ke]=S.Util.normalizeRect([...S.Util.applyTransform([L,J],q),...S.Util.applyTransform([B,ce],q)]),[$e,qe]=S.Util.singularValueDecompose2dScale(q),ee=Se*$e,v=ge*qe,y=this.svgFactory.createElement("svg:pattern");y.setAttributeNS(null,"id",Te),y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),y.setAttributeNS(null,"width",ee),y.setAttributeNS(null,"height",v),y.setAttributeNS(null,"x",`${Be}`),y.setAttributeNS(null,"y",`${Ce}`);const x=this.svg,z=this.transformMatrix,K=this.current.fillColor,$=this.current.strokeColor,d=this.svgFactory.create(Ae-Be,ke-Ce);if(this.svg=d,this.transformMatrix=q,2===we){const f=S.Util.makeHexColor(..._);this.current.fillColor=f,this.current.strokeColor=f}return this.executeOpTree(this.convertOpList(V)),this.svg=x,this.transformMatrix=z,this.current.fillColor=K,this.current.strokeColor=$,y.append(d.childNodes[0]),this.defs.append(y),`url(#${Te})`}_makeShadingPattern(p){switch("string"==typeof p&&(p=this.objs.get(p)),p[0]){case"RadialAxial":const _="shading"+D++,V=p[3];let q;switch(p[1]){case"axial":const L=p[4],J=p[5];q=this.svgFactory.createElement("svg:linearGradient"),q.setAttributeNS(null,"id",_),q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),q.setAttributeNS(null,"x1",L[0]),q.setAttributeNS(null,"y1",L[1]),q.setAttributeNS(null,"x2",J[0]),q.setAttributeNS(null,"y2",J[1]);break;case"radial":const B=p[4],ce=p[5],Se=p[6],ge=p[7];q=this.svgFactory.createElement("svg:radialGradient"),q.setAttributeNS(null,"id",_),q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),q.setAttributeNS(null,"cx",ce[0]),q.setAttributeNS(null,"cy",ce[1]),q.setAttributeNS(null,"r",ge),q.setAttributeNS(null,"fx",B[0]),q.setAttributeNS(null,"fy",B[1]),q.setAttributeNS(null,"fr",Se);break;default:throw new Error(`Unknown RadialAxial type: ${p[1]}`)}for(const L of V){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",L[0]),J.setAttributeNS(null,"stop-color",L[1]),q.append(J)}return this.defs.append(q),`url(#${_})`;case"Mesh":return(0,S.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${p[0]}`)}}setDash(p,_){this.current.dashArray=p,this.current.dashPhase=_}constructPath(p,_){const V=this.current;let q=V.x,L=V.y,J=[],B=0;for(const ce of p)switch(0|ce){case S.OPS.rectangle:q=_[B++],L=_[B++];const we=q+_[B++],Te=L+_[B++];J.push("M",C(q),C(L),"L",C(we),C(L),"L",C(we),C(Te),"L",C(q),C(Te),"Z");break;case S.OPS.moveTo:q=_[B++],L=_[B++],J.push("M",C(q),C(L));break;case S.OPS.lineTo:q=_[B++],L=_[B++],J.push("L",C(q),C(L));break;case S.OPS.curveTo:q=_[B+4],L=_[B+5],J.push("C",C(_[B]),C(_[B+1]),C(_[B+2]),C(_[B+3]),C(q),C(L)),B+=6;break;case S.OPS.curveTo2:J.push("C",C(q),C(L),C(_[B]),C(_[B+1]),C(_[B+2]),C(_[B+3])),q=_[B+2],L=_[B+3],B+=4;break;case S.OPS.curveTo3:q=_[B+2],L=_[B+3],J.push("C",C(_[B]),C(_[B+1]),C(q),C(L),C(q),C(L)),B+=4;break;case S.OPS.closePath:J.push("Z")}J=J.join(" "),V.path&&p.length>0&&p[0]!==S.OPS.rectangle&&p[0]!==S.OPS.moveTo?J=V.path.getAttributeNS(null,"d")+J:(V.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(V.path)),V.path.setAttributeNS(null,"d",J),V.path.setAttributeNS(null,"fill","none"),V.element=V.path,V.setCurrentPoint(q,L)}endPath(){const p=this.current;if(p.path=null,!this.pendingClip)return;if(!p.element)return void(this.pendingClip=null);const _="clippath"+G++,V=this.svgFactory.createElement("svg:clipPath");V.setAttributeNS(null,"id",_),V.setAttributeNS(null,"transform",w(this.transformMatrix));const q=p.element.cloneNode(!0);if(q.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,V.append(q),this.defs.append(V),p.activeClipUrl){p.clipGroup=null;for(const L of this.extraStack)L.clipGroup=null;V.setAttributeNS(null,"clip-path",p.activeClipUrl)}p.activeClipUrl=`url(#${_})`,this.tgrp=null}clip(p){this.pendingClip=p}closePath(){const p=this.current;if(p.path){const _=`${p.path.getAttributeNS(null,"d")}Z`;p.path.setAttributeNS(null,"d",_)}}setLeading(p){this.current.leading=-p}setTextRise(p){this.current.textRise=p}setTextRenderingMode(p){this.current.textRenderingMode=p}setHScale(p){this.current.textHScale=p/100}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[_,V]of p)switch(_){case"LW":this.setLineWidth(V);break;case"LC":this.setLineCap(V);break;case"LJ":this.setLineJoin(V);break;case"ML":this.setMiterLimit(V);break;case"D":this.setDash(V[0],V[1]);break;case"RI":this.setRenderingIntent(V);break;case"FL":this.setFlatness(V);break;case"Font":this.setFont(V);break;case"CA":this.setStrokeAlpha(V);break;case"ca":this.setFillAlpha(V);break;default:(0,S.warn)(`Unimplemented graphic state operator ${_}`)}}fill(){const p=this.current;p.element&&(p.element.setAttributeNS(null,"fill",p.fillColor),p.element.setAttributeNS(null,"fill-opacity",p.fillAlpha),this.endPath())}stroke(){const p=this.current;p.element&&(this._setStrokeAttributes(p.element),p.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(p,_=1){const V=this.current;let q=V.dashArray;1!==_&&q.length>0&&(q=q.map(function(L){return _*L})),p.setAttributeNS(null,"stroke",V.strokeColor),p.setAttributeNS(null,"stroke-opacity",V.strokeAlpha),p.setAttributeNS(null,"stroke-miterlimit",C(V.miterLimit)),p.setAttributeNS(null,"stroke-linecap",V.lineCap),p.setAttributeNS(null,"stroke-linejoin",V.lineJoin),p.setAttributeNS(null,"stroke-width",C(_*V.lineWidth)+"px"),p.setAttributeNS(null,"stroke-dasharray",q.map(C).join(" ")),p.setAttributeNS(null,"stroke-dashoffset",C(_*V.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width","1px"),p.setAttributeNS(null,"height","1px"),p.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(p)}paintImageXObject(p){const _=this.getObject(p);_?this.paintInlineImageXObject(_):(0,S.warn)(`Dependent image with object ID ${p} is not ready yet`)}paintInlineImageXObject(p,_){const V=p.width,q=p.height,L=P(p,this.forceDataSchema,!!_),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",C(V)),J.setAttributeNS(null,"height",C(q)),this.current.element=J,this.clip("nonzero");const B=this.svgFactory.createElement("svg:image");B.setAttributeNS(M,"xlink:href",L),B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y",C(-q)),B.setAttributeNS(null,"width",C(V)+"px"),B.setAttributeNS(null,"height",C(q)+"px"),B.setAttributeNS(null,"transform",`scale(${C(1/V)} ${C(-1/q)})`),_?_.append(B):this._ensureTransformGroup().append(B)}paintImageMaskXObject(p){const _=this.getObject(p.data,p);if(_.bitmap)return void(0,S.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const V=this.current,q=_.width,L=_.height,J=V.fillColor;V.maskId="mask"+U++;const B=this.svgFactory.createElement("svg:mask");B.setAttributeNS(null,"id",V.maskId);const ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y","0"),ce.setAttributeNS(null,"width",C(q)),ce.setAttributeNS(null,"height",C(L)),ce.setAttributeNS(null,"fill",J),ce.setAttributeNS(null,"mask",`url(#${V.maskId})`),this.defs.append(B),this._ensureTransformGroup().append(ce),this.paintInlineImageXObject(_,B)}paintFormXObjectBegin(p,_){if(Array.isArray(p)&&6===p.length&&this.transform(p[0],p[1],p[2],p[3],p[4],p[5]),_){const V=_[2]-_[0],q=_[3]-_[1],L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x",_[0]),L.setAttributeNS(null,"y",_[1]),L.setAttributeNS(null,"width",C(V)),L.setAttributeNS(null,"height",C(q)),this.current.element=L,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(p){const _=this.svgFactory.create(p.width,p.height),V=this.svgFactory.createElement("svg:defs");_.append(V),this.defs=V;const q=this.svgFactory.createElement("svg:g");return q.setAttributeNS(null,"transform",w(p.transform)),_.append(q),this.svg=q,_}_ensureClipGroup(){if(!this.current.clipGroup){const p=this.svgFactory.createElement("svg:g");p.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(p),this.current.clipGroup=p}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",w(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(I){var c=__webpack_module_cache__[I];if(void 0!==c)return c.exports;var T=__webpack_module_cache__[I]={exports:{}};return __webpack_modules__[I](T,T.exports,__w_pdfjs_require__),T.exports}var __webpack_exports__={};return(()=>{var I=__webpack_exports__;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"AbortException",{enumerable:!0,get:function(){return c.AbortException}}),Object.defineProperty(I,"AnnotationEditorLayer",{enumerable:!0,get:function(){return N.AnnotationEditorLayer}}),Object.defineProperty(I,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return c.AnnotationEditorParamsType}}),Object.defineProperty(I,"AnnotationEditorType",{enumerable:!0,get:function(){return c.AnnotationEditorType}}),Object.defineProperty(I,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return k.AnnotationEditorUIManager}}),Object.defineProperty(I,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(I,"AnnotationMode",{enumerable:!0,get:function(){return c.AnnotationMode}}),Object.defineProperty(I,"CMapCompressionType",{enumerable:!0,get:function(){return c.CMapCompressionType}}),Object.defineProperty(I,"FeatureTest",{enumerable:!0,get:function(){return c.FeatureTest}}),Object.defineProperty(I,"GlobalWorkerOptions",{enumerable:!0,get:function(){return te.GlobalWorkerOptions}}),Object.defineProperty(I,"InvalidPDFException",{enumerable:!0,get:function(){return c.InvalidPDFException}}),Object.defineProperty(I,"MissingPDFException",{enumerable:!0,get:function(){return c.MissingPDFException}}),Object.defineProperty(I,"OPS",{enumerable:!0,get:function(){return c.OPS}}),Object.defineProperty(I,"PDFDataRangeTransport",{enumerable:!0,get:function(){return T.PDFDataRangeTransport}}),Object.defineProperty(I,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(I,"PDFWorker",{enumerable:!0,get:function(){return T.PDFWorker}}),Object.defineProperty(I,"PasswordResponses",{enumerable:!0,get:function(){return c.PasswordResponses}}),Object.defineProperty(I,"PermissionFlag",{enumerable:!0,get:function(){return c.PermissionFlag}}),Object.defineProperty(I,"PixelsPerInch",{enumerable:!0,get:function(){return h.PixelsPerInch}}),Object.defineProperty(I,"PromiseCapability",{enumerable:!0,get:function(){return c.PromiseCapability}}),Object.defineProperty(I,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(I,"SVGGraphics",{enumerable:!0,get:function(){return M.SVGGraphics}}),Object.defineProperty(I,"UnexpectedResponseException",{enumerable:!0,get:function(){return c.UnexpectedResponseException}}),Object.defineProperty(I,"Util",{enumerable:!0,get:function(){return c.Util}}),Object.defineProperty(I,"VerbosityLevel",{enumerable:!0,get:function(){return c.VerbosityLevel}}),Object.defineProperty(I,"XfaLayer",{enumerable:!0,get:function(){return F.XfaLayer}}),Object.defineProperty(I,"build",{enumerable:!0,get:function(){return T.build}}),Object.defineProperty(I,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return c.createValidAbsoluteUrl}}),Object.defineProperty(I,"getDocument",{enumerable:!0,get:function(){return T.getDocument}}),Object.defineProperty(I,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(I,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return h.getPdfFilenameFromUrl}}),Object.defineProperty(I,"getXfaPageViewport",{enumerable:!0,get:function(){return h.getXfaPageViewport}}),Object.defineProperty(I,"isDataScheme",{enumerable:!0,get:function(){return h.isDataScheme}}),Object.defineProperty(I,"isPdfFile",{enumerable:!0,get:function(){return h.isPdfFile}}),Object.defineProperty(I,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(I,"normalizeUnicode",{enumerable:!0,get:function(){return c.normalizeUnicode}}),Object.defineProperty(I,"renderTextLayer",{enumerable:!0,get:function(){return S.renderTextLayer}}),Object.defineProperty(I,"setLayerDimensions",{enumerable:!0,get:function(){return h.setLayerDimensions}}),Object.defineProperty(I,"shadow",{enumerable:!0,get:function(){return c.shadow}}),Object.defineProperty(I,"updateTextLayer",{enumerable:!0,get:function(){return S.updateTextLayer}}),Object.defineProperty(I,"version",{enumerable:!0,get:function(){return T.version}});var c=__w_pdfjs_require__(1),T=__w_pdfjs_require__(2),h=__w_pdfjs_require__(6),S=__w_pdfjs_require__(26),N=__w_pdfjs_require__(27),k=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(30),te=__w_pdfjs_require__(14),M=__w_pdfjs_require__(33),F=__w_pdfjs_require__(32)})(),__webpack_exports__})(),module.exports=T()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:I=>{function c(h,S,N,k,Z,te,M){try{var F=h[te](M),W=F.value}catch(Y){return void N(Y)}F.done?S(W):Promise.resolve(W).then(k,Z)}I.exports=function T(h){return function(){var S=this,N=arguments;return new Promise(function(k,Z){var te=h.apply(S,N);function M(W){c(te,k,Z,M,F,"next",W)}function F(W){c(te,k,Z,M,F,"throw",W)}M(void 0)})}},I.exports.__esModule=!0,I.exports.default=I.exports},521:I=>{I.exports=function c(T,h){if(h.has(T))throw new TypeError("Cannot initialize the same private elements twice on an object")},I.exports.__esModule=!0,I.exports.default=I.exports},912:I=>{I.exports=function c(T,h){return h.get?h.get.call(T):h.value},I.exports.__esModule=!0,I.exports.default=I.exports},448:I=>{I.exports=function c(T,h,S){if(h.set)h.set.call(T,S);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=S}},I.exports.__esModule=!0,I.exports.default=I.exports},625:I=>{I.exports=function c(T,h){if(T!==h)throw new TypeError("Private static access of wrong provenance")},I.exports.__esModule=!0,I.exports.default=I.exports},506:I=>{I.exports=function c(T,h){if(void 0===T)throw new TypeError("attempted to "+h+" private static field before its declaration")},I.exports.__esModule=!0,I.exports.default=I.exports},69:I=>{I.exports=function c(T,h,S){if(!h.has(T))throw new TypeError("attempted to "+S+" private field on non-instance");return h.get(T)},I.exports.__esModule=!0,I.exports.default=I.exports},468:(I,c,T)=>{var h=T(912),S=T(69);I.exports=function N(k,Z){var te=S(k,Z,"get");return h(k,te)},I.exports.__esModule=!0,I.exports.default=I.exports},159:(I,c,T)=>{var h=T(521);I.exports=function S(N,k,Z){h(N,k),k.set(N,Z)},I.exports.__esModule=!0,I.exports.default=I.exports},661:(I,c,T)=>{var h=T(448),S=T(69);I.exports=function N(k,Z,te){var M=S(k,Z,"set");return h(k,M,te),te},I.exports.__esModule=!0,I.exports.default=I.exports},467:I=>{I.exports=function c(T,h,S){if(!h.has(T))throw new TypeError("attempted to get private field on non-instance");return S},I.exports.__esModule=!0,I.exports.default=I.exports},860:(I,c,T)=>{var h=T(521);I.exports=function S(N,k){h(N,k),k.add(N)},I.exports.__esModule=!0,I.exports.default=I.exports},280:(I,c,T)=>{var h=T(912),S=T(625),N=T(506);I.exports=function k(Z,te,M){return S(Z,te),N(M,"get"),h(Z,M)},I.exports.__esModule=!0,I.exports.default=I.exports},306:(I,c,T)=>{var h=T(448),S=T(625),N=T(506);I.exports=function k(Z,te,M,F){return S(Z,te),N(M,"set"),h(Z,M,F),F},I.exports.__esModule=!0,I.exports.default=I.exports},764:(I,c,T)=>{var h=T(625);I.exports=function S(N,k,Z){return h(N,k),Z},I.exports.__esModule=!0,I.exports.default=I.exports},416:(I,c,T)=>{var h=T(62);I.exports=function S(N,k,Z){return(k=h(k))in N?Object.defineProperty(N,k,{value:Z,enumerable:!0,configurable:!0,writable:!0}):N[k]=Z,N},I.exports.__esModule=!0,I.exports.default=I.exports},946:(I,c,T)=>{var h=T(698).default;I.exports=function S(N,k){if("object"!==h(N)||null===N)return N;var Z=N[Symbol.toPrimitive];if(void 0!==Z){var te=Z.call(N,k||"default");if("object"!==h(te))return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===k?String:Number)(N)},I.exports.__esModule=!0,I.exports.default=I.exports},62:(I,c,T)=>{var h=T(698).default,S=T(946);I.exports=function N(k){var Z=S(k,"string");return"symbol"===h(Z)?Z:String(Z)},I.exports.__esModule=!0,I.exports.default=I.exports},698:I=>{function c(T){return I.exports=c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},I.exports.__esModule=!0,I.exports.default=I.exports,c(T)}I.exports=c,I.exports.__esModule=!0,I.exports.default=I.exports}},I=>{I(I.s=723)}]);